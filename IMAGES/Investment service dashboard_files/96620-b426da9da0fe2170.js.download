"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[96620,24115],{540793:function(e,t,n){n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},r,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};i.hash="92b841173868ce353dd00b5fce287546",t.default=i},65051:function(e,t,n){n.r(t);var r,i,o,a,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c1573d08de1f5e2bd319bb94cd06ffebb56fa02cec6e8237acb22e9a93f8db29",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};s.hash="f53c5ab0ea026ed59b44e43f1f60b412",t.default=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(s.default||s)},473734:function(e,t,n){n.d(t,{BW:function(){return et},Cj:function(){return J},Cp:function(){return G},G1:function(){return K},G5:function(){return q},Lp:function(){return ee},Nb:function(){return B},TG:function(){return ei},Wd:function(){return Q},cT:function(){return z},cY:function(){return W},hA:function(){return en},ln:function(){return es},mQ:function(){return Y},ml:function(){return ea},p:function(){return er},tX:function(){return X},tt:function(){return H},xw:function(){return eo}});var r,i,o,a,s,l,u,c=n(684404),d=n(44801),p=n(602950),f=n(893426);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){var r;return(r=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===_(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=new c.Ry(10),v=new c.H3([y]),b=new c.H3([v]),E=new c.H3([b]),S=new c.H3([E]),I=Object.freeze({red:d.x_d,white:"#FFF",lightGray:"#EFEFEF",gray:"#8E8E8E",darkGray:"#333",green:"#0FA573",pine:"#0A6955",olive:"#364A4C",blue:"#4A90E2",navy:"#004B91",midnight:"#133A5E",purple:"#B469EB",orchid:"#8046A5",eggplant:"#5B2677",maroon:"#6E0F3C",watermelon:"#F13535",orange:"#E3780C"}),O=Object.freeze({AGE_18_24:"18-24",AGE_21_24:"21-24",AGE_18_20:"18-20",AGE_25_34:"25-34",AGE_35_44:"35-44",AGE_45_49:"45-49",AGE_50_54:"50-54",AGE_55_64:"55-64",AGE_65_PLUS:"65+"}),P=Object.freeze({2:"18-20",3:"21-24",4:"25-34",5:"35-44",6:"45-49",7:"50-54",8:"55-64",9:"65+"}),T=Object.freeze((m(r={},O.AGE_18_20,2),m(r,O.AGE_21_24,3),m(r,O.AGE_25_34,4),m(r,O.AGE_35_44,5),m(r,O.AGE_45_49,6),m(r,O.AGE_50_54,7),m(r,O.AGE_55_64,8),m(r,O.AGE_65_PLUS,9),m(r,"AGE_UNSUPORTED",10),r)),A=f.Z.ONE_MONTH,x=Object.freeze((m(i={},f.Z.ONE_WEEK,p.Z.DAILY),m(i,f.Z.ONE_MONTH,p.Z.DAILY),m(i,f.Z.THREE_MONTH,p.Z.WEEKLY),m(i,f.Z.SIX_MONTH,p.Z.WEEKLY),m(i,f.Z.ONE_YEAR,p.Z.WEEKLY),i)),w=Object.freeze({DETAIL:"/detail/",HOME:"/"}),j=Object.freeze(["JP"]),R=Object.freeze((m(o={},f.Z.ONE_WEEK,1),m(o,f.Z.ONE_MONTH,2),m(o,f.Z.THREE_MONTH,3),m(o,f.Z.SIX_MONTH,4),m(o,f.Z.ONE_YEAR,5),o)),D=Object.freeze((m(a={},f.Z.ONE_WEEK,7),m(a,f.Z.ONE_MONTH,30),m(a,f.Z.THREE_MONTH,90),m(a,f.Z.SIX_MONTH,180),m(a,f.Z.ONE_YEAR,365),a)),N=Object.freeze({TRUE:"true",FALSE:"false"}),C=Object.freeze({MALE:"male",FEMALE:"female",UNSPECIFIED:"unspecified"}),M=Object.freeze(h(h({},C),{},{UNSPECIFIED:"unknown"})),L=Object.freeze((m(s={},C.MALE,0),m(s,C.FEMALE,1),m(s,C.UNSPECIFIED,2),s)),k=Object.freeze({0:"male",1:"female",2:"unknown"}),Z=Object.freeze({TOP_TRENDS_INTERNAL:"1",GROWING_TRENDS_INTERNAL:"2",BREAKOUT_TRENDS_INTERNAL:"3",SEASONAL_TRENDS_INTERNAL:"4",TOP_MONTHLY_TRENDS:"1",TOP_YEARLY_TRENDS:"2",GROWING_TRENDS:"3",SEASONAL_TRENDS:"4"}),U=Object.freeze((m(l={},Z.TOP_TRENDS_INTERNAL,"Top Trends"),m(l,Z.GROWING_TRENDS_INTERNAL,"Growing Trends"),m(l,Z.BREAKOUT_TRENDS_INTERNAL,"Breakout Trends"),l)),F=Object.freeze((m(u={},Z.TOP_MONTHLY_TRENDS,"Top Monthly Trends"),m(u,Z.TOP_YEARLY_TRENDS,"Top Yearly Trends"),m(u,Z.GROWING_TRENDS,"Growing Trends"),m(u,Z.SEASONAL_TRENDS,"Seasonal Trends"),u)),B="trends_for_your_pins",z=Object.freeze({L1:1,L2:2,L3:3}),H=Object.freeze({ONE_MONTH:2,THREE_MONTHS:3,SIX_MONTHS:4,ONE_YEAR:5}),G=Object.freeze({HIGH_VOLUME:1,GROWTH:2}),V=Object.freeze({HIGH_VOLUME:"HIGH_VOLUME",GROWTH:"GROWTH"}),Y=Object.freeze({NC_ENGAGEMENT_PLUS_ACTIVE_FOLLOWERS_90d:1}),W="https://business.pinterest.com/en-us/blog/how-to-build-audience-pinterest/",q="https://www.pinterest.com/advertiser/quick-promote/",X="https://trends.pinterest.com".concat(w.DETAIL),K="conversion-trends-default-tour-id",Q="conversion-trends-fre-modal-tour-id",$=Object.freeze([f.Z.ONE_MONTH,f.Z.ONE_YEAR,f.Z.THREE_MONTH,f.Z.ONE_MONTH]),J="https://i.pinimg.com/originals/61/40/59/61405960405378c80913b9b93c510b7f.png",ee="https://i.pinimg.com/originals/21/92/49/219249b36e852fe7c2efb3789aee3d72.png",et={p100Banner:"https://i.pinimg.com/originals/a6/e5/f1/a6e5f1b32689de6329119d52156799b3.png",p100Banner2024:"https://i.pinimg.com/originals/a8/fc/ce/a8fcce222cb75af1bc93339ae3004bd4.png",bannerImageLeft:"https://i.pinimg.com/originals/1b/72/a3/1b72a3c673ae270ef358ccc2823ffea4.png",bannerImageRight:"https://i.pinimg.com/originals/f1/fc/dc/f1fcdc5416c9ab74048549a3f8a98281.png",bannerImageBackground:"https://i.pinimg.com/originals/a7/d5/5f/a7d55feded560ca866d12154412e58d4.png"},en="https://i.pinimg.com/originals/3d/2f/41/3d2f41008f24a1839f25021cf78e908d.png",er=444,ei="ads_interest_resource",eo=["conversions","brandAwareness","consideration"],ea=10,es=91;t.ZP={TRENDS_REGIONS_INTERNAL_ONLY:j,PAGES:w,TOAST_DURATION:3e3,Z_INDEX_TRENDS_HEADER:y,Z_INDEX_TRENDS_FEEDBACK_BUTTON:v,Z_INDEX_TRENDS_AUTOCOMPLETE_BOX:b,Z_INDEX_TRENDS_SEARCH_FORM:E,Z_INDEX_TRENDS_TOOLTIP:S,DEPRECATED_GESTALT_COLORS_HEX_VALUES:I,MOBILE_MAX_WIDTH:576,FEEDBACK_CHAR_LIMIT:3e3,DEFAULT_CARD_WIDTH:357,DEFAULT_CARD_HEIGHT_RATIO:.65,FIVE_CARD_WIDTH:204,FIVE_CARD_HEIGHT_RATIO:.74,FIVE_LEFT_IMAGE_WIDTH_RATIO:.65,SMALL_CARD_WIDTH:220,DEFAULT_DAYS:"360",CARD_PADDING:10,FIVE_CARD_PADDING:24,PAGE_PADDING:160,MOBILE_HEIGHT:280,DESKTOP_HEIGHT:340,DESKTOP_PREDICTION_CHART_HEIGHT:480,MOBILE_WIDTH:360,DESKTOP_WIDTH:900,CARD_WIDTH_PLUS_PADDING:377,AGE_21_PLUS:"21+",DEFAULT_COUNTRY:"US",TOP_TRENDS_PARAMETER:"topTrendsParameter",DEFAULT_DESIRED_CARD_PER_ROW:3,EXTERNAL_DESIRED_CARD_PER_ROW:5,DATE_FILTER_FORMAT:"MM/DD/YY",ALL:"all",TRENDS_CAMPAIGN_PLANNER:"TRENDS_CAMPAIGN_PLANNER",TRENDS:"TRENDS",PICK:"pick",PLUS_ICON:"+",MINUS_ICON:"-",FILTERABLE_TABLE_ROWS_PER_PAGE:Object.freeze({FIFTY:"50",ONE_HUNDRED:"100",TWO_HUNDRED_FIFTY:"250"}),DEBOUNCE_MILISECONDS:300,FILTER_SECTION:{FILTER_BAR_WIDTH:270,FILTER_BAR_MIN_HEIGHT:432,DATE_RANGE_WIDTH:178,DATE_PICKER_WIDTH:166},DEFAULT_NUM_TOP_TRENDS:250,DEFAULT_EXTERNAL_NUM_TOP_TRENDS:50,GENDER:C,GENDER_MP:M,GENDER_TO_THRIFT_CONST:L,AGE_BUCKETS:O,AGE_TO_THRIFT_CONST:T,THRIFT_TO_AGE_CONST:P,THRIFT_TO_GENDER_CONST:k,LOOK_BACK_WINDOW:f.Z,LOOK_BACK_WINDOW_DEFAULT:A,LOOK_BACK_WINDOW_TO_THRIFT_CONST:R,LOOK_BACK_WINDOW_TO_AGGREGATION_CONST:x,LOOK_BACK_WINDOW_TO_DAYS:D,TRENDS_TYPES:Z,TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS:U,TRENDS_EXTERNAL_TYPES_VALUES_TO_LABELS:F,URL_PARAM_BOOLEAN_VALUES:N,SEASONALITY_SCORE_THRESHOLD:.825,SEASONALITY_SCORE_OLD_THRESHOLD:.75,SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE:"2024-04-08",SORT_ORDER:Object.freeze({DESC:"desc",ASC:"asc"}),FILTER_TYPES:Object.freeze({OPPORTUNITY:"OPPORTUNITY",CAMPAIGN:"CAMPAIGN"}),SORT_BY:Object.freeze({TREND_RANK:"TREND_RANK",TOTAL_SEARCH:"TOTAL_SEARCH",WEEKLY_CHANGE:"WEEKLY_CHANGE",MONTHLY_CHANGE:"MONTHLY_CHANGE",YEARLY_CHANGE:"YEARLY_CHANGE"}),URL_JOIN_SIGN:"|",CONCATENATED_STRING_SEPARATOR:", ",CSV_SEPARATOR:",",TERM_ALL:"all",DEBOUNCE_AUDIENCE_SIZE:1e3,MAX_ADD_TERMS:50,L1_SECTIONS:{ALL:{value:"all",label:"All categories"},FOOD_AND_DRINK:{value:"foodanddrink",label:"Food and drinks",id:"918530398158"},BEAUTY:{value:"beauty",label:"Beauty",id:"935541271955"},HOME_DECOR:{value:"homedecor",label:"Home decor",id:"935249274030"},FASHION:{value:"fashion",label:"Fashion",id:"948967005229"},TRAVEL:{value:"travel",label:"Travel",id:"908182459161"},ART:{value:"art",label:"Art",id:"961238559656"},QUOTES:{value:"quotes",label:"Quotes",id:"948192800438"},ENTERTAINMENT:{value:"entertainment",label:"Entertainment",id:"953061268473"},DIY_AND_CRAFTS:{value:"diyandcrafts",label:"DIY and crafts",id:"934876475639"},HEALTH:{value:"health",label:"Health",id:"898620064290"},WEDDINGS:{value:"weddings",label:"Wedding",id:"903260720461"},EVENT_PLANNING:{value:"eventplanning",label:"Event planning",id:"941870572865"},LAWN_AND_GARDEN:{value:"lawnandgarden",label:"Gardening",id:"909983286710"},ANIMALS:{value:"animals",label:"Animals",id:"925056443165"},PARENTING:{value:"parenting",label:"Parenting",id:"920236059316"},EDUCATION:{value:"education",label:"Education",id:"922134410098"},VEHICLES:{value:"vehicles",label:"Vehicles",id:"918093243960"},DESIGN:{value:"design",label:"Design",id:"902065567321"},SPORTS:{value:"sports",label:"Sport",id:"919812032692"},ELECTRONICS:{value:"electronics",label:"Electronics",id:"960887632144"},FINANCE:{value:"finance",label:"Finance",id:"913207199297"},ARCHITECTURE:{value:"architecture",label:"Architecture",id:"918105274631"}},BASE_BANNER_HEIGHT:627,COUNT_TYPES:{COUNT:"count",NORMALIZED_COUNT:"normalizedCount"},EXTERNAL_LOOKBACK_WINDOW_MAPPED_TREND_TYPES:$,FEEDBACK_SLACK_CHANNEL:"slack://channel?team=T024LJUGB&id=CKBF9A6EL",MAX_TERMS:4,COUNTRY_FULL_NAMES:{US:"the United States",CA:"Canada",GB:"the United Kingdom"},CONCATENATED_INTERESTS_PARAM_KEY:"concatenatedInterests",FILTER_INTEREST_IDS_PARAM_KEY:"filterInterestIds",FILTER_AGE_IDS_PARAM_KEY:"filterAgeIds",FILTER_GENDERS_PARAM_KEY:"filterGenders",EXPORT_TYPES:{DISCOVER:"discover",DETAILS:"details",CAMPAIGN:"campaignPlan"},EXPORT_NA:"N/A",EXPORT_ALL:"All",EXPORT_NONE:"None",ENGLISH_LANGUAGE_CODE:"en",KEYWORD_SPLIT_CHARACTER:"\n",COUNTRY_PREFIX_POSTAL_CODE_SEPARATOR:":",EXPORT_MESSAGE_HEADER:"Export in progress",DEPRECATED_COLOR_VALUES:["blue","green","purple","orange","red","maroon","orchid","navy","pine","watermelon"],EXPORT_MESSAGE:"This should only take a few seconds. Don't go back.",POPULAR_PINS_MAXIMUM_IMAGES:9,MAXIMUM_TERM_IMAGES_BULK_SIZE:250,NUM_TOP_TRENDS_FOR_YOUR_PINS_TO_RETURN:10,TERM_IMAGE_MEMCACHE_KEY_PREFIX:"timg:",EXTRA_TERM_IMAGES:80,DESIRED_PIN_IMAGE_SIZE:"236x",PIN_IMAGE_URL_PREFIX:"https://i.pinimg.com/",PIN_IMAGE_URL_SUFFIX:".jpg",PIN_IMAGE_DEFAULT_CACHE_TIME_S:86400,PERSONALIZED_TRENDS_INTEREST_AVAILABLE_THRESHOLD:3,PERSONALIZED_TRENDS_MINI_TABLE_REQUEST_SIZE:25,PERSONALIZED_TRENDS_MINI_TABLE_ROWS_PRE_PAGE:5,PERSONALIZED_TRENDS_TABLE_BREAK_LINE_WINDOW_WIDTH:1284,DOUBLE_ROW_CARD_WIDTH:170,TOP_TRENDS_CAROUSEL_TERMS:9,TRENDS_FOR_PINS_MODULE_BREAK_WIDTH:1380,TRENDS_SEARCHBAR_HEIGHT:193,TOP_TRENDS_CAROUSEL_EXTENDED_TERMS:30,TOP_TRENDS_UNAUTH_CAROUSEL_TERMS:25,TOP_TRENDS_DOUBLE_ROW_MAX_TERMS:6,DETAILS_PAGE_SEARCH_OVERTIME_SUBTITLE_WIDTH:750,PT_IMAGE_SIZE:"236x",FILTERED_TABLE_IMAGE_SIZE:"30x30",TOP_TREND_CAROUSEL_IMAGE_SIZE:"236x",PERSONALIZED_TREND_TYPES:V,PERSONALIZED_TRENDS_LOOKBACK:"THREE_MONTHS"}},81133:function(e,t,n){var r=(0,n(672652).createContext)({isUpsellUnauthModalOpen:!1,openUpsellUnauthModal:function(){},closeUpsellUnauthModal:function(){}});t.Z=r},602950:function(e,t){var n=Object.freeze({DAILY:1,WEEKLY:2,BIWEEKLY:3,MONTHLY:4});t.Z=n},582103:function(e,t,n){n.d(t,{D9:function(){return y},J5:function(){return m},Ns:function(){return b},QT:function(){return I},Xs:function(){return g},kc:function(){return E},nc:function(){return S},pV:function(){return h},y1:function(){return v}});var r=n(672652),i=n(328038),o=n(421888),a=n(81133),s=n(115413),l=n(214877),u=n(5859),c=n(233440),d=n(494125),p=n(149722);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){return{setValueToSession:function(t){return c.Z.setItem(e,t)},getValueFromSession:function(t){return c.Z.getItem(e)||t}}},h=function(){var e=(0,i.TH)();return(0,r.useMemo)(function(){return new URLSearchParams(e.search).get("country")||"US"},[e])},m=function(e){var t=(0,i.TH)(),n=(0,l.v)().logContextEvent,r=new URLSearchParams(t.search);(0,d.Z)(function(){Object.values(s.Z.URL_PARAM_UTM_VALUES).some(function(e){return null!==r.get(String(e))})&&n({event_type:13,view_type:e,aux_data:Object.values(s.Z.URL_PARAM_UTM_VALUES).reduce(function(e,t){return e[String(t)]=r.get(String(t)),e},{})})}),(0,o.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_SOURCE,"replaceWithoutRefresh","")(),(0,o.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_MEDIUM,"replaceWithoutRefresh","")(),(0,o.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_CAMPAIGN,"replaceWithoutRefresh","")(),(0,o.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_CONTENT,"replaceWithoutRefresh","")(),(0,o.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_TERM,"replaceWithoutRefresh","")(),(0,o.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_CREATIVE,"replaceWithoutRefresh","")()},y=function(e){var t=(0,r.useRef)(null);return(0,r.useEffect)(function(){t.current=e},[e]),t.current},v=function(e,t){var n=(0,r.useRef)(),i=function(){n.current&&clearTimeout(n.current)};return(0,r.useEffect)(function(){return i},[]),function(r){i(),n.current=setTimeout(function(){e(r)},t)}};function b(e,t){var n=(0,r.useRef)(e),i=(0,r.useRef)();return(0,r.useEffect)(function(){n.current=e},[e]),(0,r.useEffect)(function(){return function(){return clearTimeout(i.current)}},[t]),(0,r.useCallback)(function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];i.current&&clearTimeout(i.current),i.current=window.setTimeout(function(){n.current.apply(n,r)},t)},[t])}var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px",n=f((0,r.useState)(!1),2),i=n[0],o=n[1];return(0,r.useEffect)(function(){var n=new IntersectionObserver(function(e){o(f(e,1)[0].isIntersecting)},{rootMargin:t});return e.current?(n.observe(e.current),function(){n.disconnect()}):function(){}},[]),i};function S(){return(0,r.useContext)(a.Z)}var I=function(){var e=(0,p.Z)(),t=(0,u.B)();return t.advertiser?t.advertiser.owner_user_id:e.id||""}},421888:function(e,t,n){var r=n(672652),i=n(328038),o=n(256743),a=n(624797);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===s(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e,t,n){var s=(0,i.k6)(),l=(0,i.TH)(),d=l.search,p=l.pathname,f=void 0===p?"/":p,_=(0,r.useMemo)(function(){return new URLSearchParams(d)},[d]),g=function(r){var i="reset"!==t?(0,a.mB)(window.location.search):{},l=(0,o.Km)(u(u({},i),{},c({},e,r)));if(t){var d=(0,a.ru)(n?"".concat(n):f,u({},l));"push"===t&&s.push(d),"replace"===t&&s.replace(d),"reset"===t&&(window.location.href=d),"replaceWithoutRefresh"===t&&i[e]!==r&&window.history.replaceState(null,"",d)}};return function(t){"function"==typeof t?g(t((0,o.AY)(_.get(e)))):g(t)}}},893426:function(e,t){var n=Object.freeze({ONE_WEEK:"7D",ONE_MONTH:"30D",THREE_MONTH:"90D",SIX_MONTH:"180D",ONE_YEAR:"365D"});t.Z=n},115413:function(e,t){var n=Object.freeze({IS_SEASONAL:"seasonal",TERMS:"terms",COUNTRY:"country",SHOULD_MOCK:"shouldMock",EMPTY_HERO_BANNER_MOCK:"emptyHeroBanner",TRENDS_PRESET:"trendsPreset",ADVERTISER_ID:"advertiserId",END_DATE:"endDate",SELECTED_END_DATE:"selectedEndDate",AGE_BUCKET:"ageBucket",GENDER:"gender",LOOK_BACK_WINDOW:"lookbackWindow",COUNTS_TYPE:"countsType",DATE_RANGE:"dateRange",AGGREGATION_LEVEL:"aggregationLevel",SORT_BY:"sortBy",SORT_ORDER:"sortOrder",L1_INTEREST_IDS:"l1InterestIds",L2_INTEREST_IDS:"l2InterestIds",L3_INTEREST_IDS:"l3InterestIds",KEYWORDS_TO_EXCLUDE:"keywordsToExclude",KEYWORDS_TO_INCLUDE:"keywordsToInclude",RANKING_METHOD:"rankingMethod",AGE_DETAILS_PAGE:"ageDetailsPage",GENDER_DETAILS_PAGE:"genderDetailsPage",TOP_TRENDS:"topTrends",MOMENTS:"moments",SHOW_PREDICTION:"showPrediction",URL_PARAM_UTM_VALUES:Object.freeze({UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_CONTENT:"utm_content",UTM_TERM:"utm_term",UTM_CREATIVE:"utm_creative"})});t.Z=n},256743:function(e,t,n){n.d(t,{$X:function(){return g},AY:function(){return O},BC:function(){return B},KD:function(){return h},KP:function(){return _},Km:function(){return E},Lp:function(){return j},Nh:function(){return R},Rw:function(){return U},Sy:function(){return v},Xb:function(){return D},Xy:function(){return f},Ye:function(){return S},ZB:function(){return A},ZQ:function(){return N},_S:function(){return L},cq:function(){return F},d2:function(){return C},dV:function(){return I},g9:function(){return y},hm:function(){return p},id:function(){return z},k2:function(){return P},oH:function(){return w},qA:function(){return b},qn:function(){return m},tB:function(){return x}});var r=n(473734),i=n(624797);n(987034);var o=n(506868);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){return e||![3,4].includes(t)},f=function(e){return!e||0===e.length},_=function(e,t){return!!e||!r.ZP.TRENDS_REGIONS_INTERNAL_ONLY.includes(t)},g=function(e){return f(e)?"":"".concat(e).replace(/\D/g,"")},h=function(e){return(0,i.mB)(e.search)};function m(e,t){return Math.round(e*Math.pow(10,t))/10}var y=function(e){return e.join(r.ZP.PLUS_ICON)},v=function(e){return e&&""!==e?e.split(r.ZP.PLUS_ICON):[]},b=function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(r.ZP.DEPRECATED_COLOR_VALUES);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!e.includes(i))return i}}catch(e){n.e(e)}finally{n.f()}return r.ZP.DEPRECATED_COLOR_VALUES[0]},E=function(e){var t={};for(var n in e){var r=e[n];null!==n&&""!==n.trim()&&null!=r&&""!==r.toString().trim()&&(t[n]=r)}return t},S=function(e){return e&&e!==r.ZP.ALL?e.split(r.ZP.URL_JOIN_SIGN):null},I=function(e,t,n){return e?u(e).sort(function(e,i){var o=function(e,n){return t===r.ZP.SORT_ORDER.ASC?e-n:n-e};return n===r.ZP.SORT_BY.TOTAL_SEARCH?o(e.searchCount,i.searchCount):n===r.ZP.SORT_BY.WEEKLY_CHANGE?o(e.wow_change.index,i.wow_change.index):n===r.ZP.SORT_BY.MONTHLY_CHANGE?o(e.mom_change.index,i.mom_change.index):n===r.ZP.SORT_BY.YEARLY_CHANGE?o(e.yoy_change.index,i.yoy_change.index):o(e.reverseRank,i.reverseRank)}):[]},O=function(e){return null!=e&&/^\d+$/.test(e.toString())?parseInt(e,10):e},P=function(e){return e>=r.ZP.SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE?r.ZP.SEASONALITY_SCORE_THRESHOLD:r.ZP.SEASONALITY_SCORE_OLD_THRESHOLD},T=function(e,t){return e>=P(t)?"Yes":""},A=function(e){var t,n=e.keywordsToInclude,i=e.keywordsToExclude,o=e.ageBucket,a=e.gender,s=e.lookbackWindow,l=e.seasonal,u=e.rankingMethod,c=e.searchParams,d=e.nonUrlParams,p=e.tableData,f=S(n)||[r.ZP.EXPORT_ALL],_=S(i)||[r.ZP.EXPORT_NONE],g=S(a)||[r.ZP.EXPORT_ALL],h=S(o)||[r.ZP.EXPORT_ALL],m=r.ZP.LOOK_BACK_WINDOW_TO_DAYS[s||r.ZP.LOOK_BACK_WINDOW_DEFAULT],y=(null==d?void 0:null===(t=d.checkedTerms)||void 0===t?void 0:t.length)>0?d.checkedTerms.map(function(e){var t=p.find(function(t){return e===t.term});return{trend:null==t?void 0:t.term,totalSearches:null==t?void 0:t.total_count,weeklyChange:null==t?void 0:t.wow_change.value,monthlyChange:null==t?void 0:t.mom_change.value,yearlyChange:null==t?void 0:t.yoy_change.value,isSeasonal:T(null==t?void 0:t.seasonality_score,c.dateRange.endDate)}}):p.map(function(e){return{trend:e.term,totalSearches:e.total_count,weeklyChange:e.wow_change.value,monthlyChange:e.mom_change.value,yearlyChange:e.yoy_change.value,isSeasonal:T(e.seasonality_score,c.dateRange.endDate)}});return{dateRangeDate:c.dateRange.endDate,dateRangeDaysBefore:m,interests:d[r.ZP.CONCATENATED_INTERESTS_PARAM_KEY]||r.ZP.EXPORT_ALL,includeKeywords:f.join(", "),excludeKeywords:_.join(", "),ages:h.join(", "),genders:g.join(", "),seasonalOnly:l===r.ZP.URL_PARAM_BOOLEAN_VALUES.TRUE?"Yes":"No",trendType:r.ZP.TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS[u],selectedTrends:y}},x=function(){var e=window.open("http://example.com/waiting.html","_blank");return null==e||e.document.write("<h4>".concat(r.ZP.EXPORT_MESSAGE_HEADER,"</h4><p>").concat(r.ZP.EXPORT_MESSAGE,"</p>")),e},w=function(e){return f(e)||"all"===e?"":e.split(r.ZP.URL_JOIN_SIGN).join(", ")},j=function(e,t){if(!f(e)){var n,i=(l(n={},r.ZP.GENDER.FEMALE,t._('Female', 'trends.filter.gender.female', 'Gender Female')),l(n,r.ZP.GENDER.MALE,t._('Male', 'trends.filter.gender.male', 'Gender Male')),l(n,r.ZP.GENDER.UNSPECIFIED,t._('Unspecified', 'trends.filter.gender.unspecified', 'Unspecified Gender')),n);return e.split(r.ZP.URL_JOIN_SIGN).map(function(e){return i[e]}).join(", ")}return""},R=function(e){return f(e)||"all"===e?0:e.split(r.ZP.URL_JOIN_SIGN).length},D=function(e){return Object.entries(e).reduce(function(e,t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||c(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],i=n[1];return Array.isArray(i)&&(e[r]=i.map(function(e){return{images:{"474x":{height:0,width:0,url:e}}}})),e},{})},N=function(e,t){var n,r=u((null===(n=e.results)||void 0===n?void 0:n.terms)||[]).sort(function(e,t){return t.affinity-e.affinity});return void 0!==t&&t>0?r.filter(function(e){return e.affinity>=t}):r},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(null==e||0===e.trim().length||(n?0>Number.parseFloat(e.trim()):0>=Number.parseFloat(e.trim()))||void 0!==t&&e.trim().length<t)},M=function(e){for(var t,n="",r=0;r<3;r+=1){t=0;for(var i=0;i<5;i+=1){var o=e.substring(5*r+i,5*r+i+1);o.toUpperCase()===o&&o>="A"&&o<="Z"&&(t+=1<<i)}t<=25?n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(t,t+1):n+="012345".substring(t-26,t-25)}return n},L="000000000000000000",k=/^[A-z0-9]{18}$/,Z=/\b([A-z0-9]{18})\b/,U=function(e){return k.test(e)&&e.substr(15)===M(e.substr(0,15))&&"006"===e.slice(0,3)||e===L},F=function(e){if(e.length<18)return e;var t=e.match(Z);return t&&t[0]?t[0]:e},B=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null===(t=e.current)||void 0===t||t.scrollIntoView(),window.scrollBy(0,-n)},z=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},o.eg);return n.adGroups[0].targeting.keywords=(null==t?void 0:t.join(r.ZP.KEYWORD_SPLIT_CHARACTER))||"",n.adGroups[0].targeting.selectedLocations=(null==e?void 0:e[0].split(r.ZP.PLUS_ICON))||[],n.adGroups[0].autoTargetingEnabled=!1,n}},150984:function(e,t,n){function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",new File([r],"image.png"));case 7:case"end":return e.stop()}},e)}),(o=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)})}).apply(this,arguments)}n.d(t,{Z:function(){return i}})},512691:function(e,t,n){function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e,t){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var r=new FileReader;r.onload=function(){var i=new Image;i.src=r.result,i.onload=function(){var r=i.height,o=i.width;o>474&&(r*=474/o,o=474),n({src:i.src,height:r,width:o});var a=document.createElement("canvas");a.width=o,a.height=r,a.getContext("2d").drawImage(i,0,0,o,r),a.toBlob(function(n){e(new File([n],t.name,{type:"image/jpeg"}))},"image/jpeg",.9)}},r.readAsDataURL(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),(o=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)})}).apply(this,arguments)}n.d(t,{Z:function(){return i}})},860340:function(e,t,n){n.d(t,{X:function(){return b},f:function(){return E}});var r=n(672652),i=n(295977),o=n(684851),a=n(730773),s=n(79589),l=n(72994),u=n(842748),c=n(342513),d=n(105737),p=n(256683),f=n(325362),_=n(819267);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t,n){var r=null==t?void 0:t.find(function(e){var t,r=e.action;return(null==r?void 0:null===(t=r.filter)||void 0===t?void 0:t.product_filter_type)===n});if(r){var i=(0,p.Z)(f.Z,!0)(r),o=e.findIndex(function(e){var t,r=e.action;return(null==r?void 0:null===(t=r.filter)||void 0===t?void 0:t.productFilterType)===n});e[o]?e[o]=i:e.push(i)}},y=(0,c.Z)("OneBarProductFilters"),v=y.Provider,b=y.useHook;function E(e){var t=e.children,n=g((0,r.useState)([]),2),c=n[0],p=n[1],f=g((0,r.useState)(null),2),h=f[0],y=f[1],b=(0,l.Z)(),E=(0,a.Z)(),S=(0,i.Z)(),I=(0,o.Z)(),O=(0,s.Z)(),P=(0,u.Z)(),T=(0,r.useCallback)(function(e){var t=e.oneBarModules,n=e.baseCacheKey,r=null==t?void 0:t.filter(function(e){return 17===e.module_type});if(r&&(null==r?void 0:r.length)!==0&&n){var i=n!==h,o=i?[]:c;(i||!b)&&m(o,r,1),(i||!E)&&m(o,r,0),(i||!S)&&m(o,r,3),(i||!I)&&m(o,r,6),(i||!P)&&m(o,r,10),(i||!O)&&[7,8,9].forEach(function(e){m(o,r,e)}),(0,d.ZP)(o,c)||(p(o),y(n))}},[c,S,I,P,E,O,b,h]),A=(0,r.useMemo)(function(){return{cachedProductFilterOneBarModules:c,cacheOneBarModules:T}},[c,T]);return(0,_.jsx)(v,{value:A,children:t})}},78894:function(e,t,n){n.d(t,{wy:function(){return j},N$:function(){return x},M:function(){return T}});var r,i=n(672652),o=n(42279),a=n(306320),s=n(493459);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){var r;return(r=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e,t,n){return n&&(0,s.nZ)(n,t)?a.v.MODIFIED:(0,s.B1)(t,e)?a.v.CLEARED:a.v.APPLIED};function g(e,t){(0,s.ph)(t);var n,r=e.find(function(e){return e.id===t.id}),i=null==r?void 0:r.rules,o=(null==r?void 0:null===(n=r.filter_options.find(function(e){return e.id===t.selectedOptionId}))||void 0===n?void 0:n.rules)||i;if(!o)return[e,[]];var a=[],l=[];return e.forEach(function(e){o.includes(e.product_filter_type)?a.push(e):l.push(e)}),[a,l]}function h(e,t){switch(t.type){case"RESET_FILTERS":var n=p(t.payload,2),r=n[0],i=n[1];return{models:r,availableFilterModels:r,appliedFilters:i,filters:i,isFetching:!1,pendingDeletedSelections:{},status:_(r,i)};case"CLEAR_FILTERS":var o=(0,s.Af)(e.models),l=e.models;return Object.values(o).forEach(function(e){l=p(g(l,e),1)[0]}),c(c({},e),{},{filters:o,availableFilterModels:l,pendingDeletedSelections:{},status:_(e.models,e.appliedFilters,o)});case"UPDATE_FILTER":var u=t.payload,f=p(g(e.models,u),2),h=f[0],m=f[1],y=c(c({},e.filters),{},d({},u.id,u)),v=c({},e.pendingDeletedSelections);return h.forEach(function(e){var t=v[e.id];t&&(y[e.id]=t,delete v[e.id])}),m.forEach(function(e){var t=y[e.id];t&&(v[e.id]=t,delete y[e.id])}),(0,s.ph)(u,e.models.find(function(e){return e.id===u.id}))&&delete y[u.id],c(c({},e),{},{availableFilterModels:h,filters:y,pendingDeletedSelections:v,status:_(e.models,e.appliedFilters,y)});case"SUBMIT_FILTER":return c(c({},e),{},{pendingDeletedSelections:{},status:a.v.SUBMITTED});case"SUBMIT_FAILED":return c(c({},e),{},{status:a.v.FAILED});case"SUBMIT_COMPLETE":var b=e.filters;return c(c({},e),{},{appliedFilters:b,pendingDeletedSelections:{},status:_(e.models,b)});case"LOADING":return c(c({},e),{},{isFetching:!0});case"LOADING_COMPLETED_OR_FAILED":return c(c({},e),{},{isFetching:!1});default:return e}}var m=n(342513),y=n(757640),v=n(792034),b=n(819267);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=(0,m.Z)("UnifiedFiltersContext"),P=O.Provider,T=O.useMaybeHook,A=function(e){var t=e.applyInitFilters,n=e.children,r=e.filterModels,o=e.filters,l=e.isFetching,u=e.refreshFiltersData,c=(null==t?void 0:t(r))||o||{},d=S((0,i.useReducer)(h,{models:r,availableFilterModels:r,appliedFilters:c,filters:c,pendingDeletedSelections:{},isFetching:l,status:(0,s.B1)(c,r)?a.v.CLEARED:a.v.APPLIED}),2),p=d[0],f=d[1],_=S((0,i.useState)(r),2),g=_[0],m=_[1];(0,i.useEffect)(function(){l&&f({type:"LOADING"})},[l]),(0,i.useEffect)(function(){if(!l&&(!p.isFetching||0!==r.length)){if(!(0,s.a$)(g,r)){f({type:"LOADING_COMPLETED_OR_FAILED"});return}f({type:"RESET_FILTERS",payload:[r,(null==t?void 0:t(r))||{}]}),m(r)}},[t,r,g,l,p.isFetching]);var y=(0,i.useMemo)(function(){return{filterState:p,dispatch:f,refreshFiltersData:u}},[p,u]);return(0,b.jsx)(P,{value:y,children:n})},x=function(e){var t=e.bookmark,n=void 0===t?"":t,r=e.children,i=e.generateInitFilterCb,o=(0,y.Z)(n?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:n}}}:null),a=o.data,s=o.refresh,l=o.isLoaded;return(0,b.jsx)(A,{applyInitFilters:i,filterModels:(void 0===a?null:a)||[],isFetching:!l||!n,refreshFiltersData:s,children:r})},w=void 0!==r?r:r=n(540793),j=function(e){var t,n,r,s,l,u,c,d=e.children,p=e.oneBarModulesKey,f=(0,v.ZP)(),_=f.data,g=f.isFetching,h=(_||{}).oneBarModules,m=(0,o.useFragment)(w,p),y=(0,i.useMemo)(function(){return{dispatch:function(){},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:g,pendingDeletedSelections:{},status:a.v.CLEARED},refreshFiltersData:function(){}}},[g]),S=null===(l=m?[m]:null==h?void 0:h.map(function(e){var t,n;return e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(function(e){var t,n,r,i;return{isSelected:null!==(t=e.is_selected)&&void 0!==t?t:null,id:null!==(n=e.id)&&void 0!==n?n:null,display:e.display?{displayText:null!==(r=e.display.display_text)&&void 0!==r?r:null}:null,action:e.action?{feedUrl:null!==(i=e.action.feed_url)&&void 0!==i?i:null}:null}}):null}:null,id:null!==(t=e.id)&&void 0!==t?t:null,moduleType:null!==(n=e.module_type)&&void 0!==n?n:null}}))||void 0===l?void 0:l.find(function(e){return 0===e.moduleType}),I=null==S?void 0:null===(u=S.action)||void 0===u?void 0:u.filters;if(!S||!I)return(0,b.jsx)(P,{value:y,children:d});var O=S.id||"";return(0,b.jsx)(A,{filterModels:[{filter_component_type:2,filter_options:I.map(function(e,t){var n,r;return{label:(null==e?void 0:null===(n=e.display)||void 0===n?void 0:n.displayText)||"",id:(null==e?void 0:e.id)||"",string_value:(null==e?void 0:null===(r=e.action)||void 0===r?void 0:r.feedUrl)||"",is_selected:"boolean"==typeof(null==e?void 0:e.isSelected)?e.isSelected:0===t}}),id:O,title:"",product_filter_type:4}],filters:(n={},r=O,s={id:O,selectedOptionId:null===(c=I.find(function(e,t){return(null==e?void 0:e.isSelected)&&0!==t}))||void 0===c?void 0:c.id,type:"single"},(t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),(r="symbol"===E(t)?t:String(t))in n)?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n),isFetching:g,refreshFiltersData:function(){},children:d})}},306320:function(e,t,n){n.d(t,{$:function(){return r},v:function(){return i}});var r=50,i={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},52197:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(860340),i=n(78894),o=n(493459),a=n(256683),s=n(294551),l=n(623891),u=n(766323);function c(){var e=(0,u.bp)(),t=e.brands,n=e.colors,c=e.domains,d=e.onSale,p=e.priceMax,f=e.priceMin,_=e.style,g=(0,i.M)(),h=(0,r.X)().cachedProductFilterOneBarModules,m=Number((0,l.Z)().filter_location);if(1===m){var y=(g||{}).filterState;return y?(0,o.Ax)(y.appliedFilters,y.models):null}if(0===m){var v=(0,a.Z)(s.Z,!0)(h.map(function(e){var t;return null===(t=e.action)||void 0===t?void 0:t.filter}).filter(Boolean));return(0,o.vJ)({brandsParam:t,colorsParam:n,domainsParam:c,onSaleParam:d,priceMaxParam:p,priceMinParam:f,styleParam:_,unifiedFilterModels:v})}return null}},295977:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(328038),i=n(340523),o=n(624797);function a(){var e=(0,i.F)().checkExperiment,t=(0,r.TH)();return!!(0,o.mB)(t.search).brands&&!!e("shopping_onebar_brand_filter",{dangerouslySkipActivation:!0}).anyEnabled}},684851:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(328038),i=n(340523),o=n(624797);function a(){var e=(0,i.F)().checkExperiment,t=(0,r.TH)();return!!(0,o.mB)(t.search).colors&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},730773:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(328038),i=n(340523),o=n(624797);function a(){var e=(0,i.F)().checkExperiment,t=(0,r.TH)();return!!(0,o.mB)(t.search).domains&&!!e("shopping_onebar_retailer_filter",{dangerouslySkipActivation:!0}).anyEnabled}},79589:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(328038),i=n(340523),o=n(624797),a=n(149722);function s(){var e=(0,i.F)().checkExperiment,t=(0,r.TH)(),n=(0,a.Z)().isAuth;return!!(0,o.mB)(t.search).on_sale&&!!e(n?"dweb_shopping_onebar_on_sale_filter":"dweb_one_bar_on_sale_filter_unauth",{dangerouslySkipActivation:!0}).anyEnabled}},72994:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(328038),i=n(340523),o=n(624797);function a(){var e=(0,i.F)().checkExperiment,t=(0,r.TH)(),n=(0,o.mB)(t.search),a=n.price_max;return(!!n.price_min||!!a)&&!!e("dweb_shopping_onebar_price_filter",{dangerouslySkipActivation:!0}).anyEnabled}},842748:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(328038),i=n(340523),o=n(624797);function a(){var e=(0,i.F)().checkExperiment,t=(0,r.TH)();return!!(0,o.mB)(t.search).style&&!!e("web_shopping_onebar_style_filter",{dangerouslySkipActivation:!0}).anyEnabled}},493459:function(e,t,n){n.d(t,{Af:function(){return E},Ak:function(){return A},Ax:function(){return P},B1:function(){return b},LG:function(){return T},UP:function(){return x},a$:function(){return y},eF:function(){return w},i7:function(){return S},nZ:function(){return m},ph:function(){return v},rc:function(){return O},vJ:function(){return I}});var r=n(306320),i=n(105737),o=n(782005);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||l(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){var r;return(r=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=function(e){return e.map(function(e){var t=e.filter_component_type,n=e.filter_options,r=e.title;return{filter_component_type:t,filter_options:n.map(function(e){return{label:e.label,count:e.count,image_url:e.image_url,is_verified:e.is_verified,numeric_value:e.numeric_value,string_value:e.string_value,unit:e.unit}}),title:r}})},g=function(e,t){if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type)return!(0,i.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type)return!(e.min===t.min&&e.max===t.max);throw Error("Filter type specific return must be specified")},h=function(e){return!e||!Object.keys(e).length},m=function(e,t){if(h(e)&&h(t))return!1;if(h(e)||h(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(var n in e)if(g(e[n],null==t?void 0:t[n]))return!0;return!1},y=function(e,t){return!(0,i.ZP)(_(e),_(t))},v=function(e,t){if("single"===e.type){if(t&&e.selectedOptionId){var n;return!!(null!==(n=t.filter_options.find(function(t){var n=t.id;return e.selectedOptionId===n}))&&void 0!==n&&n.is_selected)}return!e.selectedOptionId}if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return e.min===(null==t?void 0:t.filter_options[0].numeric_value)&&e.max===(null==t?void 0:t.filter_options[2].numeric_value);throw Error("Filter type specific return must be specified")},b=function(e,t){try{for(var n in e){var r=function(n){var r=e[n],i=t.find(function(e){return e.id===r.id});if(!v(r,i))return{v:!1}}(n);if("object"===f(r))return r.v}return!0}catch(e){return!0}},E=function(e){return e.map(function(e){var t;switch(e.filter_component_type){case 2:var n=null===(t=e.filter_options.find(function(e){return e.is_selected}))||void 0===t?void 0:t.id;return n?{selectedOptionId:n,id:e.id,type:"single"}:null;case 1:var r=e.filter_options.filter(function(e){return e.is_selected}).map(function(e){return e.id});return r.length>0?{selectedOptionIds:new Set(r),id:e.id,type:"multi"}:null;default:return null}}).reduce(function(e,t){return t?d(d({},e),{},p({},t.id,t)):e},{})},S=function(e){var t,n=e.brands,r=e.colors,i=e.domains,l=e.onSale,u=e.priceMax,c=e.priceMin,d=e.scope,p=e.unifiedFilterModels,f={},_=s(p);try{for(_.s();!(t=_.n()).done;)!function(){var e=t.value,s=e.filter_options,p=e.id,_=e.product_filter_type;if(1===_&&("number"==typeof c||"number"==typeof u)){var g,h,m=a(s,4),y=m[0],v=m[1],b=m[2],E=m[3],S=null!==(g=null!=c?c:null==b?void 0:b.numeric_value)&&void 0!==g?g:null==y?void 0:y.numeric_value,I=null!==(h=null!=u?u:null==E?void 0:E.numeric_value)&&void 0!==h?h:null==v?void 0:v.numeric_value;f[p]={min:S,max:I,id:p,type:"range",lastChangedLocation:1}}if(0===_&&i&&i.length>0){var O=i.map(function(e){var t=s.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);O.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(O),type:"multi"})}if(3===_&&n&&n.length>0){var P=n.map(function(e){var t=s.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);P.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(P),type:"multi"})}if(6===_&&r&&r.length>0){var T=r.map(function(e){var t=s.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);T.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(T),type:"multi"})}if(4===_&&d){var A=(0,o.gi)(d),x=s.find(function(e){return e.search_type===A});x&&!x.is_selected&&(f[p]={id:p,lastChangedLocation:1,selectedOptionId:x.id,type:"single"})}if(new Set([7,8,9]).has(_)&&l){var w,j=null===(w=s[0])||void 0===w?void 0:w.id;j&&(f[p]={id:p,lastChangedLocation:1,selectedOptionId:j,type:"single"})}}()}catch(e){_.e(e)}finally{_.f()}return f},I=function(e){var t,n,r,i,o,a=e.brandsParam,l=e.colorsParam,u=e.domainsParam,c=e.onSaleParam,d=e.priceMaxParam,p=e.priceMinParam,f=e.styleParam,_=e.unifiedFilterModels,g=[],h=Number(p),m=Number(d),y=Number.isNaN(h)?void 0:h,v=Number.isNaN(m)?void 0:m,b=null!==(t=null==u?void 0:u.split(",").filter(Boolean))&&void 0!==t?t:[],E=null!==(n=null==a?void 0:a.split(",").filter(Boolean))&&void 0!==n?n:[],S=null!==(r=null==l?void 0:l.split(",").filter(Boolean))&&void 0!==r?r:[],I=null!==(i=null==f?void 0:f.split(",").filter(Boolean))&&void 0!==i?i:[],O=s(_);try{for(O.s();!(o=O.n()).done;)!function(){var e=o.value,t=e.filter_options,n=e.id,r=e.product_filter_type;if(1===r&&"number"==typeof y&&"number"==typeof v){var i={filter_id:n,filter_options:t.slice(0,2).map(function(e,t){return{filter_option_id:e.id,numeric_value:0===t?y:v,unit:e.unit||"USD"}}),location:0,product_filter_type:r};g.push(i)}if(0===r&&b&&b.length>0){var a=b.map(function(e){var n=t.find(function(t){return t.string_value===e});return n?n.id:null}).filter(Boolean);if(a.length>0){var s={filter_id:n,filter_options:a.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};g.push(s)}}if(3===r&&E&&E.length>0){var l=E.map(function(e){var n=t.find(function(t){return t.string_value===e});return n?n.id:null}).filter(Boolean);if(l.length>0){var u={filter_id:n,filter_options:l.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};g.push(u)}}if(6===r&&S&&S.length>0){var d=S.map(function(e){var n=t.find(function(t){var n;return(null===(n=t.string_value)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()});return n?n.id:null}).filter(Boolean);if(d.length>0){var p={filter_id:n,filter_options:d.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};g.push(p)}}if(10===r&&I&&I.length>0){var f=I.map(function(e){var n=t.find(function(t){var n;return(null===(n=t.string_value)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()});return n?n.id:null}).filter(Boolean);if(f.length>0){var _={filter_id:n,filter_options:f.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};g.push(_)}}if(7===r&&c){var h,m=null===(h=t[0])||void 0===h?void 0:h.id;if(m){var O={filter_id:n,filter_options:[{filter_option_id:m,numeric_value:Number(c)}],location:0,product_filter_type:r};g.push(O)}}}()}catch(e){O.e(e)}finally{O.f()}return 0===g.length?null:{filters:g}},O=function(e){var t=e.filterMap,n=e.isInWebHundredPercentProductLoadExp,r=e.models,i=null,a=null,s=!1,l=null,u=null,c=null,d=null,p=null;for(var f in t)!function(e){var f=t[e],_=r.find(function(e){return e.id===f.id});if(_){if("range"===f.type&&1===_.product_filter_type)c=f.min,u=f.max;else if("multi"===f.type&&0===_.product_filter_type)l=_.filter_options.filter(function(e){return f.selectedOptionIds.has(e.id)}).map(function(e){return e.string_value}).filter(Boolean);else if("multi"===f.type&&3===_.product_filter_type)i=_.filter_options.filter(function(e){return f.selectedOptionIds.has(e.id)}).map(function(e){return e.string_value}).filter(Boolean);else if("multi"===f.type&&6===_.product_filter_type)a=_.filter_options.filter(function(e){return f.selectedOptionIds.has(e.id)}).map(function(e){return e.string_value}).filter(Boolean);else if("single"===f.type&&4===_.product_filter_type){var g=_.filter_options.find(function(e){return f.selectedOptionId===e.id}),h=g&&void 0!==g.search_type?(0,o.zh)(g.search_type):o.lw.PINS;p=h,n&&(p=h===o.lw.PINS_BUYABLE?o.lw.PINS:h,s=h===o.lw.PINS_BUYABLE)}else"single"===f.type&&7===_.product_filter_type&&(d=_.filter_options[0].numeric_value)}}(f);var _=r.find(function(e){return 4===e.product_filter_type}),g=null==_?void 0:_.filter_options.find(function(e){return e.is_selected});return null===p&&"number"==typeof(null==g?void 0:g.search_type)&&(p=(0,o.zh)(g.search_type)),{brands:i,colors:a,commerce_only:s,domains:l,max:u,min:c,on_sale:d,scope:p}},P=function(e,t){var n=[];return(Object.keys(e).forEach(function(r){var i=e[r],o=t.find(function(e){return e.id===i.id});if(o&&4!==o.product_filter_type){var s=[];if("range"===i.type){var l=a(o.filter_options,2),u=l[0],c=l[1];s=[{filter_option_id:u.id,numeric_value:i.min,unit:u.unit},{filter_option_id:c.id,numeric_value:i.max,unit:c.unit}]}if("single"===i.type){var d=o.filter_options.find(function(e){return e.id===i.selectedOptionId});if(!d)return;s=[{filter_option_id:d.id,numeric_value:d.numeric_value,string_value:d.string_value}]}"multi"===i.type&&(s=o.filter_options.filter(function(e){return i.selectedOptionIds.has(e.id)}).map(function(e){return{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}})),n.push({filter_id:r,filter_options:s,location:i.lastChangedLocation,product_filter_type:o.product_filter_type})}}),n&&0!==n.length)?{filters:[].concat(n)}:null};function T(e,t,n){var i=a(n,4),o=i[0],s=i[1],l=i[2],u=i[3],c=(null!=u?u:o).numeric_value,d=void 0===c?0:c,p=(null!=l?l:s).numeric_value,f=void 0===p?d+r.$:p,_=o.unit,g=e.filters[t]||{min:d,max:f,id:t,type:"range"};return{defaultMax:f,defaultMin:d,unit:void 0===_?"USD":_,range:g}}function A(e){return"multi"!==e.type?e:d(d({},e),{},{selectedOptionIds:new Set})}function x(e,t){var n=[];return Object.keys(t).forEach(function(r){var i=e.find(function(e){return(null==e?void 0:e.id)===r}),o=t[r];if(i){var a,s=null===(a=i.aux_data)||void 0===a?void 0:a.module_id;s&&n.push(s);var c=("multi"===o.type?Array.from(o.selectedOptionIds):"single"===o.type?[o.selectedOptionId]:[]).map(function(e){var t,n=i.filter_options.find(function(t){return t.id===e});return(null==n?void 0:null===(t=n.aux_data)||void 0===t?void 0:t.module_id)||""}).filter(Boolean);n.push.apply(n,function(e){if(Array.isArray(e))return u(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||l(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}),n}function w(e,t){var n=[];return Object.keys(t).forEach(function(t){var r=e.find(function(e){return(null==e?void 0:e.id)===t});if(r){var i=r.product_filter_type;i&&n.push(i)}}),n}},341309:function(e,t,n){n.d(t,{Z:function(){return o},t:function(){return i}});var r=n(447479),i=[r.i.GUIDED_SEARCH_LANDING,r.i.GUIDED_SEARCH_ENTRY],o=296},705318:function(e,t){var n=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){var r=this._uidToData[e];r||(r=new n(e,t),this._uidToData[e]=r,this._numItems+=1),this._moveToFront(r),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){var t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){var t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1},t.Z=r},343902:function(e,t,n){n.d(t,{N:function(){return a},Z:function(){return o}});var r=n(684404),i=n(819267);function o(e){var t=e.children,n=e.fullWidth;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:t})}function a(e){var t=e.children;return e.enabled?(0,i.jsx)(o,{children:t}):t}},928162:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(684404),i=n(819267),o={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},a=function(e,t,n){switch(n){case"MOBILE":r={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":r={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}var r,i=r[e];return i.border="1px solid #FFFFFF",i.transition="all 150ms ease-out",i};function s(e){var t,n=e.fanOut,s=e.card,l=e.index,u=e.size,c=e.rounding,d=o[u],p=s.height,f=void 0===p?d.HEIGHT_PX:p,_=s.url,g=s.width,h=void 0===g?d.WIDTH_PX:g,m=s.colorRGB,y=s.opacity;return _?t=(0,i.jsx)(r.Ee,{alt:_,fit:"cover",naturalHeight:f,naturalWidth:h,src:_}):m&&y&&(t=(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(".concat(m.join(", "),", ").concat(y,")")}},height:d.HEIGHT_PX,width:d.WIDTH_PX})),(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(l,n,u)},position:"absolute",rounding:null!=c?c:5,children:(0,i.jsx)(r.zd,{height:d.HEIGHT_PX,rounding:5,wash:!0,width:d.WIDTH_PX,children:t})})}},860208:function(e,t,n){function r(e){return[0,24,21,26].includes(e)}function i(e){var t=e.articleType,n=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===t?"/today/shop/".concat(r,"/").concat(n,"/"):"/discover/article/".concat(r,"/").concat(n,"/")}n.d(t,{x:function(){return i},y:function(){return r}})},549629:function(e,t,n){n.d(t,{Q:function(){return d},Z:function(){return p}});var r=n(672652),i=n(587703),o=n(525364),a=n(996523),s=n(5859);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,o.sV)().setViewContextData,l=(0,s.B)().requestIdentifier,u=(0,i.Z)(),d=(0,o.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),u(c(c({},e),{},{event_type:13,request_identifier:l}))}},[t])}function p(e){var t=e.children;return d(e.log),t||null}},543867:function(e,t){t.Z=function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}},541841:function(e,t,n){var r=n(672652),i=n(843362);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(p,e);var t,n,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=l(p);return e=t?Reflect.construct(n,arguments,l(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(s(e=d.call.apply(d,[this].concat(n))),"observer",null),u(s(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){var e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}(p.prototype,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component);t.Z=d},329725:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(672652),i=n(839391);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e,t){var n=RegExp("\\b"+t+"\\b","i");return e===t||e.match(n)};function d(e){var t=e.children,n=e.experiences,o=e.placementId,a=e.searchTerm,u=e.suggestions,d=(0,i.Z)().viewExperience,p=l((0,r.useState)(null),2),f=p[0],_=p[1],g=l((0,r.useState)(new Set),2),h=g[0],m=g[1],y=(null==n?void 0:n.filter(function(e){var t;return(null===(t=e.display_data)||void 0===t?void 0:t.component_type)===3}).map(function(e){return s(s({},e.display_data),{},{id:e.experience_id})}))||[];return(0,r.useEffect)(function(){if(!a||!u){_(null);return}if(!(null==f?void 0:f.search_query_list.find(function(e){return u.some(function(t){var n=t.label;return c(null!=n?n:"",e)})}))){var e=y.find(function(e){var t;return e.id!==(null==f?void 0:f.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find(function(e){return u.some(function(t){var n=t.label;return c(null!=n?n:"",e)})}))});if(e){_(e);var t=e.id;h.has(t)||("number"==typeof t&&d(o,t),m(new Set(h).add(t)))}}},[a]),t({searchDelightConfig:f})}},200397:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(672652),i=n(684404),o=n(401429),a=n(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=c(p);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function p(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var e,t,n,i,o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=u(e=r.call.apply(r,[this].concat(a))),i={paused:!1,showPulsar:!1},(n=d(n="state"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,e}return n=[{key:"componentDidMount",value:function(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"mountPulsar",value:function(){this.experience&&this.experience.display_data.has_pulsar&&this.setState({showPulsar:!0})}},{key:"renderPulsar",value:function(){var e=this.props.anchor,t=this.state.paused;if(!e)return null;var n=e.getBoundingClientRect(),r=n.height,o=n.width;return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-(68+r/2),marginLeft:-(68-o/2),cursor:"pointer",pointerEvents:"none"}},"data-test-id":"pulsar-box",position:"absolute",zIndex:new i.Ry(1),children:(0,a.jsx)(i.o3,{paused:t})})}},{key:"renderFlyout",value:function(e){var t=this.props,n=t.anchor,r=t.flyoutSize,o=t.idealDirection;return(0,a.jsx)(i.Li,{anchor:n,idealDirection:o||"down",message:e,onDismiss:function(){},size:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.experienceIds,r=t.placementId,s=t.shouldTimeoutDismiss,l=this.state.showPulsar;return(0,a.jsx)(o.Z,{eligibleIds:n,eligibleTypes:[8],placementId:r,children:function(t){var n=t.complete,r=t.dismiss,o=t.experience;e.experience=o;var u=o.display_data;return u.has_pulsar||u.has_tooltip?(s&&u.disappearTime&&u.disappearTime>0&&(e.timer=setTimeout(function(){return r(),null},u.disappearTime)),(0,a.jsxs)(i.xu,{"data-test-id":"experience-tooltip-no-buttons",zIndex:new i.Ry(10),children:[l&&e.renderPulsar(),u.has_tooltip&&(!u.has_pulsar||e.state.paused)&&e.renderFlyout(u.text)]})):(n(),null)}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(p.prototype,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component)},547643:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(340523),i=n(5859);function o(e){var t,n=(0,i.B)().isAuthenticated,o=(0,(0,r.F)().checkExperiment)(n?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:null!==(t=null==e?void 0:e.skipActivation)&&void 0!==t&&t}),a=o.anyEnabled,s=o.group;return{expName:n?"web_masonry_v2_auth":"web_masonry_v2_unauth",anyEnabled:a,group:s,isMeasureAllEnabled:"enabled_measure_all"===s||"enabled_measure_all_impression_fix"===s,isImpressionFixEnabled:"control_impression_fix"===s||"enabled_impression_fix"===s||"enabled_measure_all_impression_fix"===s}}},213377:function(e,t,n){n.d(t,{$H:function(){return a},$q:function(){return y},D6:function(){return u},KN:function(){return b},Lo:function(){return i},P2:function(){return g},TS:function(){return E},Wv:function(){return v},ZZ:function(){return d},g5:function(){return p},jC:function(){return s},lX:function(){return _},nW:function(){return f},oX:function(){return h},qG:function(){return m},tG:function(){return o},yF:function(){return r},yc:function(){return c},yt:function(){return l}});var r=236,i=157.33333333333334,o=175,a=24,s=4,l=8,u=2,c=2,d=14,p=16,f=12,_=16,g=24,h=16,m=-1,y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?_:f:g},v=function(e){var t=e.contentVisibleItemCount,n=e.gap,i=e.isDesktop,a=e.moduleWidth;return t||a?Math.min((a-Math.ceil(t)*n)/t,i?r:o):r},b=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d,o=e+i;return"\n@media (min-width: ".concat(t*o,"px) and (max-width: ").concat((n+1)*o-1,"px) {\n  ").concat(r,"\n}\n")},E=function(e,t,n){var i=n?3:2,a=t?5:i,s=t?r:o,u=t?h:l,c=s*a+u*a-(t?12:!t&&n?12:6);if(!e)return c;for(var d=a;d>=2&&!(e>c);d-=1)c=s*d+u*d;return c}},699750:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){return e.reduce(function(e,n){var r="function"==typeof t?t(n):n[t];return r in e||(e[r]=[]),e[r].push(n),e},{})}},666472:function(e,t,n){n.d(t,{F:function(){return b},Z:function(){return v}});var r=n(672652),i=n(263032),o=n(214877),a=n(547643),s=n(30378),l=n(5859),u=n(554786),c=n(369708),d=n(953565),p=n(84768),f=["children"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){var r;return(r=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===_(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function v(e){var t=e.carouselData,n=e.closeupImpressionType,f=e.closeupNavigationType,_=e.componentType,g=e.contextLogData,v=e.clientTrackingParams,b=e.elementType,E=e.impressionAuxFields,S=e.inImpressionExp,I=e.impressionType,O=e.impressionsFramework,P=e.isPaused,T=e.loggingId,A=e.objectIdStr,x=e.slotIndex,w=e.trackCarousel,j=e.viewData,R=e.viewParameter,D=e.viewType,N=e.isPromoted,C=e.storyPinProductEventData,M=e.pinData,L=(0,o.v)().logContextEvent,k=(0,c.rG)().logMrcVideoAdEventOnPlay,Z=O||s.Z,U=(0,r.useRef)(null),F=function(e){var r,o,a,s,l,u,c,d,p=y[I],S=p.idType,O=h(h((m(N={clientTrackingParams:v,endTime:e.endTime},S,T),m(N,"slotIndex",x),m(N,"time",e.startTime),m(N,"renderDuration",e.endTime-e.startTime),m(N,"type",n),N),E),{},{forcedExit:"removed"===e.forcedExit?0:void 0}),P={};if("Pin"===I&&(O=h(h({},O),{},{pinCellWidth:(null===(Z=U.current)||void 0===Z?void 0:Z.offsetWidth)||0,pinCellHeight:(null===(F=U.current)||void 0===F?void 0:F.offsetHeight)||0,windowWidth:null===(B=window)||void 0===B?void 0:B.innerWidth,windowHeight:null===(z=window)||void 0===z?void 0:z.innerHeight}),null!=E&&E.chromeAraViewExp&&M&&M.isPromoted)){var N,Z,F,B,z,H,G,V,Y,W,q,X,K=M.attributionSourceId;(0,i.YS)(I,null!==(H=M.isPromoted)&&void 0!==H?H:null,null!=K?K:null,null!==(G=M.link)&&void 0!==G?G:null,null!==(V=M.campaignId)&&void 0!==V?V:null,null!==(Y=E.araAuxData)&&void 0!==Y?Y:null,null!==(W=M.advertiserId)&&void 0!==W?W:null,null!==(q=M.domain)&&void 0!==q?q:null,null!==(X=M.adDestinationUrl)&&void 0!==X?X:null),P={is_arapi:!0,attribution_source_id:K||""}}var Q={component:_,object_id_str:A,view_type:D,view_data:j||{},view_parameter:R};if(w)t&&w&&L(h(h({event_type:7352,event_data:{pinCarouselSlotImpressions:[h(h({},O),"canonical"===t.type?{carouselDataId:Number(null!==(r=t.carouselId)&&void 0!==r?r:0),slotIndex:t.index,carouselSlotId:(null===(o=t.carouselSlots)||void 0===o?void 0:o[null!==(a=t.index)&&void 0!==a?a:0])&&Number(t.carouselSlots[null!==(s=t.index)&&void 0!==s?s:0].slotId)}:{carouselDataId:Number(null!==(l=t.id)&&void 0!==l?l:0),carouselSlotId:(null===(u=t.carousel_slots)||void 0===u?void 0:u[null!==(c=t.index)&&void 0!==c?c:0])&&Number(t.carousel_slots[null!==(d=t.index)&&void 0!==d?d:0].id),slotIndex:t.index})]}},Q),{},{aux_data:h(h({},g),P)}));else{var $=h(h({clientTrackingParams:v,event_type:p.eventType},Q),{},{element:b,event_data:h(m({},p.impressionType,"Story"===I?O:[O]),C?{storyPinProductEventData:C}:{}),aux_data:h(h({closeup_navigation_type:f},g),P)});L($),k($)}},B=(0,a.Z)({skipActivation:!0}),z=B.expName,H=B.group,G=(0,u.ZP)(),V=(0,p.MM)(),Y=(0,l.B)().isAuthenticated,W=(0,r.useCallback)(function(){try{var e=U.current;e instanceof HTMLElement&&(!N||e.getElementsByTagName("img").length>0)&&(Z.start(e).onExitViewport(F).setDebugId(T||"unknown"),H&&(0,d.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:G,experimentName:z,group:H,handlerId:V,isAuthenticated:Y,slotIndex:null!=x?x:"unknown"}}))}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[U.current]);return(0,r.useEffect)(function(){return S&&!Z.inExperiment&&Z.setExperimentStatus(!0),P||W(),function(){var e=U.current;e instanceof HTMLElement&&(!N||e.getElementsByTagName("img").length>0)&&Z.stop(e)}},[P,W]),U}var b=function(e){return(0,e.children)({impressionTrackerRef:v(function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,f))})}},984234:function(e,t,n){var r=n(624797);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var s={carousel:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(enabled|employees|enabled_redirect_to_hf)/,scenarios:["offsite_pin_creation"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"],orbacExperiment:"web_m10n_business_access_orbac_www"},shop_the_pin:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacExperiment:"web_m10n_business_access_orbac_www"},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/,orbacExperiment:"web_m10n_business_access_orbac_www"},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:function(e){var t=e.user;return!!(null!=t&&t.video_upload_allowed)},authOnly:!0,hasCustomEnabledCheck:function(){return!0},orbacExperiment:"web_m10n_business_access_orbac_www"},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"],orbacExperiment:"web_m10n_business_access_orbac_www"},pinQuality:{partnerOnly:!0},ideaPinCreationWithoutThinking:{authOnly:!0,experiment:"web_snc_pin_creation_without_thinking",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]}},l=new(function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),o(this,"_experiments",null),o(this,"_viewer",null),o(this,"_advertiser",null),o(this,"_scenario",null),o(this,"_language",null),o(this,"_context",null),o(this,"_orbacActingAs",null)}return e=[{key:"initialize",value:function(e){var t=e.requestContext,n=e.viewer,i=e.location,o=e.advertiser,a=e.scenario,s=e.orbacActingAs;this._context=e,this._experiments=t.experimentsClient,this._language=t.language,this._viewer=n,this._advertiser=o,this._orbacActingAs=s;var l=(0,r.mB)(i.search).adCreate;a?this._scenario=a:l?this._scenario="ad_creation":this._scenario="default"}},{key:"scenario",value:function(){return this._scenario}},{key:"enabled",value:function(e){if(!this._viewer||!this._experiments)return!1;var t,n,r=s[e],i=r.advertisers,o=r.authOnly,a=r.customEnabledCheck,l=r.experiment,u=r.groups,c=r.hasCustomEnabledCheck,d=r.languages,p=r.orbacDisabled,f=r.orbacExperiment,_=r.partnerOnly,g=r.scenarios,h=r.skipActivation;if(null!==(t=this._orbacActingAs)&&void 0!==t&&t.id&&this._orbacActingAs.id!==this._viewer.id&&(p||f&&"enabled"!==this._experiments.checkExperiment(f).group))return!1;if(c&&a&&this._context&&c(this._context))return!!this._context&&a(this._context);if(h&&this._experiments){var m=this._experiments.checkExperiment;return!!l&&m(l,{dangerouslySkipActivation:!0}).anyEnabled}return!!i&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!o||!!this._viewer.isAuth)&&(!this._viewer||!_||!!this._viewer.isPartner)&&(!g||!!g.includes(this._scenario))&&(!d||!!d.includes(this._language))&&(!l||(void 0===u?/.*/:u).test((null===(n=this._experiments)||void 0===n?void 0:n.checkExperiment(l).group)||""))}},{key:"getExperimentGroup",value:function(e){if(!this._viewer||!this._experiments)return null;var t=s[e].experiment;return t?this._experiments.checkExperiment(t).group:null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}());t.Z=l},471314:function(e,t,n){n.d(t,{Z:function(){return R}});var r=n(672652),i=n(342513),o=n(297329),a=n(608029),s=n(107860),l=n(309300),u=n(521525),c=n(819281),d=n(793250),p=n(363404),f=n(840387),_=n(438555),g=n(889998),h=n(59648),m=n(404373),y=n(970126);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e,t,n){var r;return(r=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===v(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=(0,a.XV)("PwtStopwatch"),A=function(e,t){if(y.Z){if("start"===t.type&&!e.isTiming){var n=t.name,r=t.startTime,i=t.navigationType;return(0,o.A9)("TIMING.".concat(n)),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:y.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:i},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(t.bypassIsTimingCheck)T("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var a=t.name||e.name;return T("ignoring action - stopwatch is not actively timing",t),(0,o.A9)("WARN.".concat(a,".noTiming.").concat(t.type)),e}}if("annotate"===t.type){var _=y.Z.now();return T("adding annotation {".concat(t.label,": ").concat(_,"}")),O(O({},e),{},{annotations:e.annotations.concat([{label:t.label,timestamp:_}])})}if("binaryAnnotate"===t.type)return T("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),O(O({},e),{},{binaryAnnotations:O(O({},e.binaryAnnotations),P({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var h=t.binaryAnnotationValueAndType,v=h.value,E=h.type;if(!e.binaryAnnotations[t.name])return O(O({},e),{},{binaryAnnotations:O(O({},e.binaryAnnotations),P({},t.name,{value:v,type:E}))});var S=e.binaryAnnotations[t.name].value||0;return T("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(S),"\n          operand: ").concat(String(v),"\n        }")),O(O({},e),{},{binaryAnnotations:O(O({},e.binaryAnnotations),P({},t.name,{value:v?t.operation(S,v):S,type:E}))})}if("addSubspan"===t.type){T("adding subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&T("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var I=t.id||(0,m.Z)();-1!==e.spans.findIndex(function(e){return e.id===I})&&T("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(I,"}"));var A=0;return t.startTime?A=t.startTime:e.startTime?A=e.startTime:T("WARNING: adding subspan {".concat(t.name,"} without start time")),O(O({},e),{},{spans:[].concat(b(e.spans),[{name:t.name,id:I,startTime:A,endTime:t.endTime||1/0,annotationMap:O({},t.annotations),binaryAnnotationMap:O({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){T("starting subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&T("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var x,w=t.id||(0,m.Z)();-1!==e.spans.findIndex(function(e){return e.id===w})&&T("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(w,"}"));var j=t.parentName?null===(x=e.spans.find(function(e){return e.name===t.parentName}))||void 0===x?void 0:x.id:null;return O(O({},e),{},{spans:[].concat(b(e.spans),[{name:t.name,id:w,parentId:t.parentId||j,startTime:y.Z.now(),endTime:1/0,annotationMap:O({},t.annotations),binaryAnnotationMap:O({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){T("stopping subspan {".concat(t.name,"}")),!t.id&&e.spans.filter(function(e){return e.name===t.name}).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var R=t.id?e.spans.findIndex(function(e){return e.id===t.id}):e.spans.findIndex(function(e){return e.name===t.name});return R>-1?(e.spans[R].endTime=y.Z.now(),t.annotations&&(e.spans[R].annotationMap=O(O({},e.spans[R].annotationMap),t.annotations)),t.binaryAnnotations&&(e.spans[R].binaryAnnotationMap=O(O({},e.spans[R].binaryAnnotationMap),t.binaryAnnotations))):(0,o.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.filter(function(e){return e.name===t.currentName}).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var D=e.spans.findIndex(function(e){return e.name===t.currentName});return D>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(b(e.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(T("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),e.spans[D].name=t.newName):(0,o.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){var N=e.startTime,C=e.metricId,M=e.pwtStaticContext,L=e.annotations,k=e.binaryAnnotations,Z=e.isSampled,U=e.spans,F=e.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),Z){var B=t.stopTime||y.Z.now(),z=b(U.map(function(t){t.endTime===1/0&&(t.endTime=B);var n=e.spanNameUpdates.findIndex(function(e){return t.name===e.currentName});return n>-1&&(T("renaming subspan {".concat(t.name,"} to {").concat(e.spanNameUpdates[n].newName,"}")),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===U.length){var H=(0,m.Z)();z.push.apply(z,[{name:"network_resources",id:H,startTime:N,endTime:B,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(b((t.customStopwatchBuffer||[]).map(function(e){return(0,f.Z)((0,d.p)(e,[]),H)}).filter(Boolean))))}var G="initial_app_load"===C.navigationType&&(0,c.Z)(),V={type:"COMPLETE",traceId:F,startTime:N,endTime:B,spans:z,annotationMap:O(O(O({},(0,g.Z)(L)),(0,l.jh)("browser_",G?(0,l.D3)(G):{})),(0,l.jh)("mark_",(0,s.gQ)())),binaryAnnotationMap:(0,u.ng)({metricId:C,pwtStaticContext:M,binaryAnnotations:k,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,p.Z)({metricId:C,pwtStaticContext:M,result:V})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("error"===t.type){var Y=t.error,W=t.stopwatchPerformanceObserver;return Y&&(0,o.H)(Y),W&&W.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var q=e.metricId,X=e.pwtStaticContext,K=t.reason||"";return(0,p.Z)({metricId:q,pwtStaticContext:X,result:{type:"ABORT",reason:K}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}}return e},x=function(e){var t,n=e.name,i=e.sampleRate,o=e.navigationType,a=e.manualAndResourceSpans,s=void 0!==a&&a,l=(0,_.Z)(),u=(0,r.useRef)([]),c=(0,r.useRef)(null),d=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(A,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||E(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],f=d[1];return l?{isTiming:p.isTiming,start:function(e){return window.PerformanceObserver&&(u.current=[],c.current=(0,h.Z)({entryTypes:["resource"]},function(e){u.current=u.current.concat(e.getEntries()),u.current.length>1e3&&(u.current=u.current.slice(-1e3))})),f({type:"start",startTime:e,name:n,navigationType:o,pwtStaticContext:l,isSampled:!i||Math.random()<i})},stop:function(e){return f({type:"stop",stopTime:e,stopwatchPerformanceObserver:c.current,customStopwatchBuffer:u.current,manualAndResourceSpans:s})},error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){f({type:"error",stopwatchPerformanceObserver:c.current,error:e})}),abort:function(e){return f({type:"abort",stopwatchPerformanceObserver:c.current,customStopwatchBuffer:u.current,reason:e})},annotate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n})},binaryAnnotate:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:i})},binaryAnnotateOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;return f({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:n,operation:r,parentId:i,bypassIsTimingCheck:void 0!==o&&o})},addSubspan:function(e){var t=e.name,n=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,a=e.parentId,s=e.id,l=e.bypassIsTimingCheck;return f({type:"addSubspan",name:t,startTime:n,endTime:r,annotations:void 0===i?{}:i,binaryAnnotations:void 0===o?{}:o,parentId:void 0===a?null:a,id:void 0===s?null:s,bypassIsTimingCheck:void 0!==l&&l})},subspanStart:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,a=e.id,s=e.bypassIsTimingCheck;return f({type:"subspanStart",name:t,annotations:void 0===n?{}:n,binaryAnnotations:void 0===r?{}:r,parentId:void 0===i?null:i,parentName:void 0===o?null:o,id:void 0===a?null:a,bypassIsTimingCheck:void 0!==s&&s})},subspanStop:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,a=e.bypassIsTimingCheck;return f({type:"subspanStop",name:t,annotations:n,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:void 0!==a&&a})},subspanUpdateName:function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;return f({type:"subspanUpdateName",currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:void 0===i||i})},getSpans:function(e,t){return p.spans.filter(function(n){return n[e]===t})},getTraceId:function(){return p.traceId}}:null},w=n(991323),j=n(819267),R=function(e){var t=e.name,n=e.sampleRate,a=e.abortOnUnloadOrClientNavigation,s=void 0===a||a,l=e.navigationType,u=e.manualAndResourceSpans,c=void 0!==u&&u,d=(0,i.Z)("Stopwatch_".concat(t)),p=d.Provider;return{Provider:function(e){var i=e.children,a=x({name:t,sampleRate:n,navigationType:l,manualAndResourceSpans:c}),u=(0,w.Z)(),d=u?u.time:0,f=(0,r.useRef)(!1),_=null==a?void 0:a.isTiming,g=(0,r.useCallback)(function(e){f.current?(f.current=!1,null==a||a.abort(e)):(0,o.A9)("WARN.".concat(t,".noTiming.abort"))},[a]),h=(0,r.useCallback)(function(e,t){null==a||a.annotate(e,t)},[a]),m=(0,r.useCallback)(function(e,t,n,r){null==a||a.binaryAnnotate(e,t,n,r)},[a]),y=(0,r.useCallback)(function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;null==a||a.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:n,operation:r,parentId:i,bypassIsTimingCheck:o})},[a]),v=(0,r.useCallback)(function(e){var t=e.name,n=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,s=e.parentId,l=e.id,u=e.bypassIsTimingCheck;null==a||a.addSubspan({name:t,startTime:n,endTime:r,annotations:i,binaryAnnotations:o,parentId:s,id:l,bypassIsTimingCheck:u})},[a]),b=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,s=e.id,l=e.bypassIsTimingCheck;null==a||a.subspanStart({name:t,annotations:n,binaryAnnotations:r,parentId:i,parentName:o,id:s,bypassIsTimingCheck:l})},[a]),E=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,s=e.bypassIsTimingCheck;null==a||a.subspanStop({name:t,annotations:n,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:s})},[a]),S=(0,r.useCallback)(function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;null==a||a.subspanUpdateName({currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:i})},[a]),I=(0,r.useCallback)(function(e,t){return a?a.getSpans(e,t):[]},[a]),O=(0,r.useCallback)(function(){return a?a.getTraceId():0},[a]),P=(0,r.useCallback)(function(e){f.current?(f.current=!1,null==a||a.error(e)):(0,o.A9)("WARN.".concat(t,".noTiming.error"))},[a]),T=(0,r.useCallback)(function(e){f.current&&(null==a||a.abort("duplicated_init_stopwatch_action")),f.current=!0,null==a||a.start(e)},[a]),A=(0,r.useCallback)(function(e){f.current?(f.current=!1,null==a||a.stop(e)):(0,o.A9)("WARN.".concat(t,".noTiming.stop"))},[a]);(0,r.useEffect)(function(){return function(){s&&g("unloadOrClientNavigation")}},[d]);var R=(0,r.useMemo)(function(){return{isTiming:_,abort:g,addAnnotation:h,addBinaryAnnotation:m,binaryAnnotationOperation:y,addSubspan:v,subspanStart:b,subspanStop:E,getSpans:I,getTraceId:O,updateSubspanName:S,stop:A,error:P,start:T}},[_,g,h,m,y,v,b,E,I,O,S,A,P,T]);return(0,j.jsx)(p,{value:R,children:i})},useHook:d.useMaybeHook}}},991323:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(672652),i=n(107981);function o(){return(0,r.useContext)(i.Z)}},438555:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(672652),i=n(95732);function o(){return(0,r.useContext)(i.Z)}},59709:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(672652),i=function(e,t){var n=RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;var r=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,r),e.slice(r,r+t.length)]},o=n(819267);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){var t=e.searchDelightText,n=e.searchDelightConfig,r=n.text_background_color,i=n.text_colors,a=void 0===i?[]:i,s=r?{backgroundColor:r,margin:"-2px",padding:"2px"}:void 0;if(!(a.length>1))return(0,o.jsx)("span",{style:l({color:a[0],whiteSpace:"pre-wrap"},s),children:t},"searchDelight-".concat(t));var u=0;return(0,o.jsx)("span",{style:l({whiteSpace:"pre-wrap"},s),children:t.split("").map(function(e,t){var n=a[u];return" "!==e&&(u=(u+1)%a.length),(0,o.jsx)("span",{style:{color:n},children:e},"searchDelight-".concat(t))})})}var c=n(684404),d=function(e){var t=e.children,n=e.gray,r=e.weight;return(0,o.jsx)(c.xv,{color:n?"subtle":void 0,inline:!0,weight:void 0===r?"normal":r,children:(0,o.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:t})})};function p(e){var t=e.allBold,n=e.searchDelightParts,i=e.searchDelightConfig,a=e.text,s=e.weightPivot,l=n[1],c=a.indexOf(l),p=c+l.length;return s<=c?(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,s)}),(0,o.jsxs)(d,{weight:"bold",children:[a.substring(s,c),(0,o.jsx)(u,{searchDelightConfig:i,searchDelightText:l}),a.substring(p)]})]}):s<=p?(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,c)}),(0,o.jsxs)(d,{weight:"bold",children:[(0,o.jsx)(u,{searchDelightConfig:i,searchDelightText:l}),a.substring(p)]})]}):(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,c)}),(0,o.jsx)(d,{weight:"bold",children:(0,o.jsx)(u,{searchDelightConfig:i,searchDelightText:l})}),(0,o.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:a.substring(p,s)}),(0,o.jsx)(d,{weight:"bold",children:a.substring(s)})]})}function f(e){var t=e.allBold,n=e.searchDelightConfig,a=e.query,s=void 0===a?"":a,l=e.text,u=(l.toLowerCase().startsWith(s.toLowerCase())?s:"").length,c=n?n.search_query_list.map(function(e){return i(l,e)}).filter(Boolean).sort(function(e,t){return e&&t?t[1].length-e[1].length:0}).shift():null;return c&&n?(0,o.jsx)(p,{allBold:t,searchDelightConfig:n,searchDelightParts:c,text:l,weightPivot:u}):(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:l.substr(0,u)}),(0,o.jsx)(d,{weight:"bold",children:l.substr(u)})]})}},760132:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(672652),i=n(328038),o=n(684404),a=n(214274),s=n(140017),l=n(406893),u=n(340523),c=n(819267);function d(e){var t=e.gradientPrimaryColor,n=e.gradientSecondaryColor,r=e.gradientDirection,i=e.position;return(0,c.jsx)(o.xu,{bottom:"bottom"===i,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(".concat(r,", ").concat(t,", ").concat(n,")"),pointerEvents:"none"}},height:16,position:"absolute",rounding:"pill",top:"top"===i,width:"100%",zIndex:new o.Ry(1)})}var p=function(e){var t=e.children;return(0,c.jsx)(o.xv,{color:"subtle",inline:!0,lineClamp:1,children:t})};function f(e){var t,n=e.suggestedSearchTerms,i=e.defaultPlaceholder,a=e.height,u=e.gradientSecondaryColor,f=void 0===u?"#FFF":u,_=(0,s.ZP)(),g=0===n.length,h=(0,r.useRef)(null);return(0,c.jsx)(o.xu,{ref:h,alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"dynamic-search-placeholder",display:"flex",height:void 0===a?48:a,overflow:"hidden",position:"relative",children:g?(0,c.jsx)(o.xv,{color:"subtle",inline:!0,children:i}):(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(d,{gradientDirection:"to top",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:f,position:"top"}),(0,c.jsx)(d,{gradientDirection:"to bottom",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:f,position:"bottom"}),(0,c.jsxs)(o.kC,{alignItems:"stretch",height:18,justifyContent:"start",children:[(0,c.jsx)(o.xv,{color:"subtle",inline:!0,overflow:"noWrap",children:_._('Search for', 'searchBar.placeholder.dynamicText', 'Placeholder in search input. This text is followed by a set of animated search phrases like "Search for aesthetic art"')}),(0,c.jsx)(l.Z,{unsafeCSS:"\n@keyframes slide-3-terms{\n  0%,32.61%{\n    transform: translateY(0%);\n  }\n  50%,82.61%{\n    transform: translateY(-33.33%);\n  }\n  100%{\n    transform: translateY(-66.66%);\n  }\n}\n@keyframes slide-4-terms{\n  0%, 21.74% {\n    transform: translateY(0%);\n  }\n  33.33%, 55.07% {\n      transform: translateY(-25%);\n  }\n  66.66%, 88.4% {\n      transform: translateY(-50%);\n  }\n  100% {\n      transform: translateY(-75%);\n  }\n}\n@keyframes slide-5-terms{\n  0%,16.3% {\n    transform: translateY(0%);\n  }\n  25%,41.3%{\n    transform: translateY(-20%);\n  }\n  50%,66.3%{\n    transform: translateY(-40%);\n  }\n  75%,91.3%{\n    transform: translateY(-60%);\n  }\n  100% {\n    transform: translateY(-80%);\n  }\n}\n@keyframes slide-3-terms-loop {\n  0%, 21.74% {\n    transform: translateY(0%);\n  }\n  33.33%, 55.07% {\n      transform: translateY(-25%);\n  }\n  66.66%, 88.4% {\n      transform: translateY(-50%);\n  }\n  100% {\n      transform: translateY(-75%);\n  }\n}\n@keyframes slide-4-terms-loop {\n  0%,16.3% {\n    transform: translateY(0%);\n  }\n  25%,41.3%{\n    transform: translateY(-20%);\n  }\n  50%,66.3%{\n    transform: translateY(-40%);\n  }\n  75%,91.3%{\n    transform: translateY(-60%);\n  }\n  100% {\n    transform: translateY(-80%);\n  }\n}\n@keyframes slide-5-terms-loop {\n  0%, 13.04% {\n    transform: translateY(0%);\n  }\n  20%,33.04%{\n    transform: translateY(-16.66%);\n  }\n  40%,53.04%{\n    transform: translateY(-33.33%);\n  }\n  60%,73.04%{\n    transform: translateY(-49.98%);\n  }\n  80%,93.04%{\n    transform: translateY(-66.64%);\n  }\n  100% {\n    transform: translateY(-83.3%);\n  }\n}\n"}),(0,c.jsx)(o.xu,{children:(0,c.jsxs)(o.xu,{dangerouslySetInlineStyle:(t=n.length,{__style:{animation:"slide-".concat(t,"-terms-loop ").concat(2.3*(t+1),"s ease-out infinite forwards")}}),display:"inlineBlock",marginStart:1,children:[n.map(function(e){return(0,c.jsx)(o.xu,{marginBottom:7,children:(0,c.jsx)(p,{children:e})},e)}),(0,c.jsx)(o.xu,{marginBottom:7,children:(0,c.jsx)(p,{children:n[0]})})]})})]})]})})}var _=n(899384),g=n(370833),h=n(494125),m=n(149722);function y(e){var t,n=e.dataTestId,d=e.focusOptionId,p=e.isFocused,y=e.name,v=e.onBlur,b=e.onChange,E=e.onClick,S=e.onFocus,I=e.onKeyDown,O=e.onSearchTrigger,P=e.placeholder,T=e.value,A=e.disabled,x=e.searchBoxHovered,w=e.suggestedSearchTerms,j=(0,s.ZP)(),R=(0,r.useRef)(null),D=(0,u.F)().checkExperiment,N=(0,m.Z)().isAuth,C=(0,i.TH)(),M=(0,o.JZ)(),L=(0,_.b)(C),k=L.pageType,Z=L.isEligiblePageTypeForDynamicSearchPlceholder;switch(k){case"pin":t=D("dweb_unauth_dynamic_search_placeholder").anyEnabled;break;case"board":t=D("dweb_unauth_dynamic_search_placeholder_board").anyEnabled;break;default:t=!1}var U=!N&&Z&&!M&&t;(0,r.useEffect)(function(){R.current&&O&&R.current.addEventListener("searchTrigger",O)},[]),(0,r.useEffect)(function(){R.current&&document.activeElement===R.current!==p&&(p?R.current.focus():R.current.blur())},[p]),(0,h.Z)(function(){R.current&&new URLSearchParams(window.location.search).get("search_box_open")&&setTimeout(S,500)});var F=U&&!T,B=P||j._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box');return(0,c.jsxs)(o.xu,{flex:"grow",height:"100%",children:[(0,c.jsx)(l.Z,{unsafeCSS:"input::placeholder{ color: #767676".concat(F?"; opacity: 0":"","}")}),(0,c.jsx)("input",{ref:R,"aria-activedescendant":d,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":p,"aria-label":j._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-test-id":n,disabled:void 0!==A&&A,name:y,onBlur:v,onChange:function(e){b(e.target.value)},onClick:void 0===E?function(){}:E,onFocus:S,onKeyDown:I,placeholder:B,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:a.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:T}),F&&(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,width:"85%",children:(0,c.jsx)(f,{defaultPlaceholder:B,gradientSecondaryColor:x?g.w:g.S,searchBoxHovered:x,suggestedSearchTerms:void 0===w?[]:w})}),(0,c.jsx)(o.xu,{display:"none",id:"searchBoxAccessibleText",children:j._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}},899384:function(e,t,n){n.d(t,{Z:function(){return O},b:function(){return S}});var r,i=n(672652),o=n(545007),a=n(308082),s=n(328038),l=n(684404),u=n(96157),c=n(340523),d=n(5859),p=n(217058),f=n(487487),_=n(554786),g=n(800516);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=void 0!==r?r:r=n(65051),S=function(e){var t={pageType:"other",isEligiblePageTypeForDynamicSearchPlceholder:!1};return(0,u.uM)(e)?(t.pageType="pin",t.isEligiblePageTypeForDynamicSearchPlceholder=!0):(0,u.am)(e)&&(t.pageType="board",t.isEligiblePageTypeForDynamicSearchPlceholder=!0),t},I=function(e){var t=e.fetchedSuggestedTerms,n=e.deviceType,r=e.pageType,i={deviceType:n,dataType:e.dataType,pageType:r};return t.length<3?((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",b({termsCount:t.length},i)),t=[]):(t=t.filter(function(e){return e.split(" ").length>1}).map(function(e){return e.toLowerCase()})).length<3&&((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",b({termsCount:t.length},i)),t=[]),t};function O(){var e,t,n=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,2)||m(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],h=n[1],v=(0,s.TH)(),b=(0,l.JZ)(),O=(0,f.Z)(v.pathname)||"",P=(0,d.B)().isAuthenticated,T=(0,c.F)().checkExperiment,A=(0,_.ZP)(),x=(0,u.uM)(v),w=(0,u.am)(v),j=S(v),R=j.pageType,D=j.isEligiblePageTypeForDynamicSearchPlceholder;switch(R){case"pin":t=T("dweb_unauth_dynamic_search_placeholder").anyEnabled;break;case"board":t=T("dweb_unauth_dynamic_search_placeholder_board").anyEnabled;break;default:t=!1}var N=!P&&D&&!b&&t||!1,C=(0,a.useRelayEnvironment)(),M=(0,o.v9)(function(e){return(0,g.Z)(e)[v.pathname]}),L=(0,i.useCallback)(function(){(0,a.fetchQuery)(C,E,{pinId:O},{fetchPolicy:"store-or-network"}).subscribe({next:function(e){var t,n,r,i,o,a=[];null!==(t=e.v3GetPinQuery)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.isUnsafe?(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(null!==(r=e.v3GetPinQuery)&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&null!==(o=i.pinJoin)&&void 0!==o&&o.visualAnnotation&&(a=e.v3GetPinQuery.data.pinJoin.visualAnnotation),a=I({fetchedSuggestedTerms:a,deviceType:A,pageType:R,dataType:"vase"})),h(a.slice(0,5))},error:function(e){(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[A,O,C,R]),k=(0,i.useCallback)(function(){if(null!=M&&M.seo_related_interests){var e=M.seo_related_interests.reduce(function(e,t){return t.name?[].concat(function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.name]):e},[]);h((e=I({fetchedSuggestedTerms:e,deviceType:A,pageType:R,dataType:"board_annotations"})).slice(0,5))}},[M,R,A]);return(0,i.useEffect)(function(){!P&&N&&("desktop"!==A?h([]):(x&&L(),w&&k()))},[M,x,w,N,P,A,L,k]),(0,i.useEffect)(function(){x||w||0===r.length||h([])},[x,r.length,w]),r}},124946:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(672652),i=n(705318),o=n(638747),a=["bookmarks"];function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)})}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t,n,s,u,d,f,_,g,h,m,y,v,b,E,S=e.allowSearchOnMount,I=void 0!==S&&S,O=e.resourceName,P=e.resourceOptions,T=void 0===P?{}:P,A=e.value,x=(0,r.useRef)(!1),w=(0,r.useRef)({}),j=function(e){if(Array.isArray(e))return e}(E=(0,r.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(E,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,2)}}(E,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),R=j[0],D=j[1],N=(m=(t={resourceName:O,resourceOptions:T}).resourceName,y=t.resourceOptions,v=(0,o.vL)(),(b=(0,r.useRef)()).current||(b.current=(u=(0,(n={resourceCreator:v,resourceName:m,resourceOptions:y}).resourceCreator)(n.resourceName,p(p({},s=n.resourceOptions),{},{count:"count"in s?s.count:5})),d=new i.Z,f=function(){u.abort()},_=c(regeneratorRuntime.mark(function e(t,n){var r,i,o,s,l,c,_,g,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.isCalling()){e.next=8;break}if(o=null===(r=u.options)||void 0===r?void 0:r.term,s=null===(i=u.options)||void 0===i?void 0:i.pin_scope,!(t===o&&n===s)){e.next=7;break}return e.abrupt("return",void 0);case 7:f();case 8:return(l=u.options||{}).bookmarks,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(l,a),u.options=p(p({},c),{},{term:t,pin_scope:n}),e.next=12,u.callGet({showError:!1});case 12:return g=null==(_=e.sent.resource_response.data)?void 0:_.items,m={hint:h=(null==_?void 0:_.hint)||{},items:g},d.set("".concat(n,"-").concat(t),m),e.abrupt("return",{term:t,items:g,hint:h});case 19:case"end":return e.stop()}},e)})),g=function(e,t){return _.apply(this,arguments)},h=c(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=d.get("".concat(n,"-").concat(t)))||!((i=r.items)&&i.length)){e.next=7;break}return f(),o=r.hint,e.abrupt("return",{hint:o,items:i,term:t});case 7:if(!(t.length>=0)){e.next=11;break}return e.abrupt("return",g(t,n));case 11:return e.abrupt("return",{hint:{},items:[],term:t});case 12:case"end":return e.stop()}},e)})),function(e,t){return h.apply(this,arguments)})),b.current),C=T.pin_scope||"pins",M="".concat(C,"-").concat(A);return(0,r.useEffect)(function(){c(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=A&&""!==A&&(I||x.current))){e.next=17;break}if(!(M in w.current)){e.next=5;break}D(w.current[M]),e.next=17;break;case 5:return e.prev=5,e.next=8,N(A,C);case 8:(t=e.sent)&&(n=t.items,w.current[M]=n,D(n)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:x.current||(x.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[A,C,M]),R}},319808:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return e.startsWith("http")?e:"".concat(window.location.origin).concat(e)}},207099:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(337478);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){var t=e.query,n=e.rs,a=e.scope,s=e.guideAdded,l=e.filters,u=e.user,c=e.requestParams,d=e.selectedOneBarModules;if(!t)return"/";var p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({q:t,rs:n},c);if(l&&(p.filters=l),u&&(p.user=u),d&&(p.selected_one_bar_modules=d),s&&s.term&&(p.add_refine="".concat(s.term,"|guide|word|").concat(s.index)),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,r.Z)(p));var f=a;return["pins","buyable_pins","my_pins","boards","users","idea_pins","videos"].includes(f)||(f="pins"),f?"/search/".concat(f,"/?").concat((0,r.Z)(p)):"".concat(window.location.pathname,"?").concat((0,r.Z)(p))}},370833:function(e,t,n){n.d(t,{S:function(){return i},w:function(){return r}});var r="#E1E1E1",i="#F1F1F1"},768806:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(624797);function i(e){var t,n=(0,r.mB)(e.search)||{};if(n.q){var i=e.pathname.split("/");t=i.length>2?i[2]:"pins"}if(n.q&&t){var o=Array.isArray(n.q)?n.q.join(" "):n.q,a=Array.isArray(n.rs)?"":n.rs,s=Array.isArray(n.user)?"":n.user;return{filters:n.filters||"",user:s,query:o||"",rs:a||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t||"idea_pins"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},660980:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return[e.category,e.domains,e.maxPrice,e.minPrice].map(function(e){return null!=e?e:""}).join("-")}},314018:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(860208),i=n(337478);function o(e){var t=e.bubbleId,n=e.pinId,o=e.query,a=e.referringSource,s=e.storyCategory,l=e.storyId,u=e.title,c=[0,24,21,26].includes(s),d=(0,i.Z)({q:o,rs:a||void 0,b_id:t,source_id:l,top_pin_id:n}),p=c&&u?(0,r.x)({title:u,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return c?p:"/search/pins/".concat(d?"?"+d:"")}},203381:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(624797);function i(e,t){var n=(0,r.mB)(e);return n.utm_pai&&n.utm_source&&n.pid&&"pins"===t?n.pid:""}},980803:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return(e||"").trim().replace(/\s+/g," ")}},575742:function(e,t,n){n.d(t,{J:function(){return r},Z:function(){return i}});var r=-1;function i(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},873955:function(e,t,n){var r=n(958881),i=/\{\{\s*(\w+)\s*\}\}/g;t.Z=function(e,t){return(0,r.Z)(i,e,t)}},498659:function(e,t){t.Z=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}},958881:function(e,t){t.Z=function(e,t,n){return t?t.replace(e,function(e,t){return n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""}):""}},427514:function(e,t,n){var r=n(873955),i=n(498659);t.Z=function(e,t){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]?(0,i.Z)(t[e].toString()):""}),(0,r.Z)(e,n)}},294551:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return e.replace(/([A-Z])/g,function(e,t){return"_"+t.toLowerCase()})}},627408:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(672652),i=n(541841),o=n(901855),a=n(5859),s=n(520893),l=n(503325),u=(0,n(342513).Z)("timeSpentContext"),c=u.Provider,d=u.useMaybeHook,p=n(28449),f=n(19447),_=n(819267);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=b(a);return e=t?Reflect.construct(n,arguments,b(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),E(v(t=o.call(this,e)),"componentWillUnmount",function(){t.unregisterComponent()}),E(v(t),"getContext",function(){var e=t.props,n=e.clientTrackingParams,r=e.component,i=e.element,o=e.objectId,a=e.timeSpentContext,s=e.view,l=e.viewParameter;return{view:s||(null==a?void 0:a.view),viewParameter:l||(null==a?void 0:a.viewParameter),component:r||(null==a?void 0:a.component),element:i,objectId:o||(null==a?void 0:a.objectId),clientTrackingParams:n||(null==a?void 0:a.clientTrackingParams),getParentUuid:function(){return t.getUuid()},getGrandparentUuid:function(){return t.getParentId()}}}),E(v(t),"getLoggerContext",function(){var e=m({},t.getContext());return delete e.getParentUuid,e}),E(v(t),"getParentId",function(){var e=t.props,n=e.timeSpentContext,r=e.shouldUseGrandparentId;if(void 0!==r&&r&&n&&n.getGrandparentUuid){var i=n.getGrandparentUuid();if(i)return i}return n&&n.getParentUuid?n.getParentUuid():void 0}),E(v(t),"getUuid",function(){return t.state.timedPair?t.state.timedPair.uuid:void 0}),E(v(t),"getTimedPair",function(){return t.state.timedPair}),E(v(t),"setTimedPair",function(e,n){t.setState({timedPair:e},function(){n&&n()})}),E(v(t),"isRegistered",!1),E(v(t),"registerComponent",function(){t.props.timeSpentManager.registerComponent(v(t)),t.isRegistered=!0}),E(v(t),"unregisterComponent",function(){t.isRegistered&&(t.props.timeSpentManager.unregisterComponent(v(t)),t.isRegistered=!1)}),E(v(t),"handleVisibilityChange",function(e){var n=e[0].intersectionRatio,r=e[0].intersectionRect,i=r.bottom,o=r.left,a=r.right,s=r.top;n>0?t.registerComponent():0===n&&(0===i&&0===o&&0===a&&0===s?t.unregisterComponent():t.registerComponent())}),t.state={timedPair:new l.Z(t.getLoggerContext())},t}return n=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props.children;return(0,_.jsx)(c,{value:this.getContext(),children:(0,_.jsx)(i.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r.Children.only(e)})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function O(e){var t,n=(0,o.Hv)(),i=d(),s=(0,p.Z)(),l=(0,f.H0)(),u=(0,a.B)().requestIdentifier,c=m({app_instance_id:(void 0===u?"":u).slice(0,8)},null!==(t=e.auxData)&&void 0!==t?t:{});return(0,r.useEffect)(function(){null==s||s.setHistoryStackContext(n)},[n,s]),(0,r.useEffect)(function(){null==s||s.setPins(null!=l?l:{})},[l,s]),s?(0,_.jsx)(I,m(m({},e),{},{auxData:c,timeSpentContext:i,timeSpentManager:s,children:e.children})):e.children}O.displayName="TimeSpent";var P=O},843964:function(e,t){t.Z=function(){return window.location.pathname}},373543:function(e,t,n){var r=n(623891);t.Z=function(e){var t=e.url;if(t){var n=t.split("?");if(n[1])return(0,r.Z)(n[1])}return(0,r.Z)()}},973435:function(e,t){t.Z=function(e){var t=e.url;return""===t||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(t)}},477458:function(e,t,n){n.d(t,{q:function(){return s}});var r=n(672652);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=i((0,r.useState)(!1),2),t=e[0],n=e[1],o=i((0,r.useState)(!1),2),a=o[0],s=o[1],l=i((0,r.useState)(!1),2),u=l[0],c=l[1];return{active:t,focused:a,hovered:u,onBlur:function(){s(!1),n(!1)},onFocus:function(){return s(!0)},onMouseDown:function(){return n(!0)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){c(!1),n(!1)},onMouseUp:function(){return n(!1)}}};function s(e){return(0,e.children)(a())}t.Z=a},872038:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(672652),i=n(684404),o=n(819267);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var _={default:{backgroundColor:"#efefef",boxShadow:"none"},drag:{backgroundColor:"#d7edff",boxShadow:"0 0 0 1px #0074e8"},error:{backgroundColor:"#ffe0e0",boxShadow:"0 0 0 1px #e60023"}},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(s,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(s);return e=t?Reflect.construct(n,arguments,d(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return p(c(e=r.call.apply(r,[this].concat(n))),"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),p(c(e),"handleOnDragEnter",function(t){var n=e.props.onDragEnter;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!0}),n&&n(t)}),p(c(e),"handleOnDragLeave",function(t){var n=e.props.onDragLeave;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),n&&n(t)}),p(c(e),"handleOnDragOver",function(t){var n=e.props.onDragOver;t.preventDefault(),t.stopPropagation(),n&&n(t)}),p(c(e),"handleOnDrop",function(t){var n=e.props.onDrop;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),n&&n(t)}),p(c(e),"handleMouseEnter",function(){var t=e.props.onMouseEnter;t&&t(),e.setState({isHoveringOver:!0})}),p(c(e),"handleMouseLeave",function(){var t=e.props.onMouseLeave;t&&t(),e.setState({isHoveringOver:!1})}),p(c(e),"setContainedHeight",function(t){e.setState({containedHeight:t})}),e}return n=[{key:"getDragContainerStyles",value:function(e,t){return t&&"default"===e?l(l({},_[e]),{},{backgroundColor:t}):_[e]}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.color,r=e.dropRounding,a=e.hasError,s=e.height,u=e.position,c=e.width,d=this.state,p=d.isDraggingOver,f=d.isHoveringOver,_=d.containedHeight;return(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:l(l({},this.getDragContainerStyles(p?"drag":a?"error":"default",n)),r?{borderRadius:r}:{})},"data-test-id":"drag-behavior-container",height:s||_||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:u,rounding:2,width:c||"100%",children:t(p,f,this.setContainedHeight,_)})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.Component)},979702:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(672652),i=n(684404),o=n(872038),a=n(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var f={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(_,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=c(_);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function _(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,_);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return d(u(e=r.call.apply(r,[this].concat(n))),"handleChange",function(t){var n=e.props.onChange;t.preventDefault(),t.stopPropagation(),n&&n(t),t.target.value=""}),d(u(e),"handleClick",function(t){var n=e.props.onClick;n&&n(t)}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.accept,r=t.accessibilityLabel,s=t.allowMultipleFiles,l=t.children,u=t.color,c=t.dropRounding,d=t.hasError,p=t.height,_=t.id,g=t.onDrop,h=t.position,m=t.rounding,y=void 0===m?2:m,v=t.width,b=t.isAriaHidden,E=void 0===b?void 0:b,S=t.experimentsClient;return(0,a.jsx)(o.Z,{color:u,dropRounding:c,experimentsClient:S,hasError:d,height:p,onDrop:g,position:h,width:v,children:function(t){return(0,a.jsxs)(i.xu,{height:"100%",position:"relative",rounding:y,children:[l(t),(0,a.jsx)("input",{accept:n,"aria-hidden":E,"aria-label":r,"data-test-id":_,id:_,multiple:s,onChange:e.handleChange,onClick:e.handleClick,style:f,tabIndex:E?-1:0,type:"file"})]})}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}(_.prototype,n),Object.defineProperty(_,"prototype",{writable:!1}),_}(r.Component)},478492:function(e,t,n){n.d(t,{P7:function(){return i},Zx:function(){return s},sc:function(){return a},ss:function(){return o},xl:function(){return r}});var r=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],i=["bmp","gif","jpg","jpeg","png","tiff","webp"],o=["video/mp4","video/x-m4v","video/quicktime"],a=["mp4","m4v","mov"],s={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},622270:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(339001),i=n(203966),o=n(984234);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,s){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:n,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:t._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:n,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:t._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var l,u=function(e){if(Array.isArray(e))return e}(l=o.Z.enabled("pinQuality")||null!=s&&s.isStoryPin?[300,200]:[100,100])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(l,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,2)}}(l,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],d=u[1];return{dispatchId:n,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(t._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:c,minWidth:d,pixelString:t.ngettext('pixel', 'pixels', d, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:n,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(t.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:n,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:t._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:n,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(t.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var p=Math.floor(4);return{dispatchId:n,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(t.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', p, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:p}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var f=i.W_;return{dispatchId:n,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(t.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', f, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:f}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:n,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:t._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:n,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:t._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:n,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(t.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(t._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(i.P9)}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:n,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(t.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var _=i.Lr/1024/1024;return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(t.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', _, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:_}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:t._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:t._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:t._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:t._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:n,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:t._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:n,id:"GENERAL_ERROR",type:"error",message:t._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},643749:function(e,t,n){var r=n(512419),i=n(622270);t.Z=function(e){return function(t){return new Promise(function(n,o){var a=new Image;a.addEventListener("load",function(){return n({fileSrc:t,height:a.height,id:(0,r.Z)(),name:t.name,size:t.size,src:a.src,type:"localImage",width:a.width})}),a.addEventListener("error",function(){return o((0,i.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}),a.src=URL.createObjectURL(t)})}}},744627:function(e,t,n){var r=n(512419),i=n(622270),o=n(354185);t.Z=function(e){return function(t){return new Promise(function(n,a){var s,l=new FileReader,u=((null===(s=window.navigator)||void 0===s?void 0:s.userAgent)||"").includes("Safari")?t.slice(0,t.size,"video/mp4"):t,c=URL.createObjectURL(u);l.addEventListener("load",function(){var s=document.createElement("video");s.addEventListener("loadedmetadata",function(){return n({id:(0,r.Z)(),duration:s.duration,fileSrc:t,height:s.videoHeight,name:t.name,size:t.size,src:s.src,thumbnail:0,type:"localVideo",width:s.videoWidth})}),s.addEventListener("error",function(){a((0,i.Z)((0,o.Z)(),e))}),s.src=c}),l.readAsDataURL(t)})}}},354185:function(e,t,n){n.d(t,{Z:function(){return r}});function r(){var e,t=(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||"";if(t.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(t.includes("SamsungBrowser")||t.includes("Opera")||t.includes("OPR")||t.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(t.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(t.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(t.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},324115:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(478492),i=n(622270),o=n(643749),a=n(984234),s=n(622350);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=n(203966),c=n(744627),d=n(354185);function p(e){var t,n,p=e.i18n,f=e.file,_=e.options,g=e.ideaPinRenamingEnabled,h=_||{},m=h.allowVideo,y=h.videoOnly;return r.ss.includes(f.type)&&m?(n=(t=(_||{}).forStoryPin)?u.Lr:2147483648,f.size>n?Promise.resolve((0,i.Z)(t?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",p)):(0,c.Z)(p)(f).then(function(e){var t,n,r,o,a,s,l,c;return t=p,n=e,o=(r=_||{}).forStoryPin,a=r.allowAllAspectRatios,l=(s=!!o)?u.W_:4,c=s?u.P9:900,n.duration<l?(0,i.Z)(s?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",t):n.duration>c?(0,i.Z)(s?"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",t):n.width&&n.height?!a&&(n.width/n.height<.5||n.width/n.height>1.91)?(0,i.Z)("VIDEO_UNSUPPORTED_RATIO",t):n.width<100||n.height<100?(0,i.Z)("VIDEO_UNDER_MIN_DIMENSIONS",t):n:(0,i.Z)((0,d.Z)(),t)}).catch(function(e){return e})):!r.xl.includes(f.type)||y?Promise.resolve((0,i.Z)("FILE_UNRECOGNIZED_TYPE",p)):f.size>20971520?Promise.resolve((0,i.Z)("IMAGE_OVER_MAX_FILE_SIZE",p)):(0,o.Z)(p)(f).then(function(e){var t,n,r,i,o,u;return r=(n=function(e){if(Array.isArray(e))return e}(t=a.Z.enabled("pinQuality")||null!=_&&_.isStoryPin?[300,200]:[100,100])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],i=n[1],o=(null==_?void 0:_.minHeight)||r,u=(null==_?void 0:_.minWidth)||i,e.height*e.width>89478485?(0,s.ZP)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:g}):e.height<o||e.width<u?(0,s.ZP)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:g,options:_}):e}).catch(function(e){return e})}},987034:function(e,t,n){n.d(t,{$R:function(){return y},Gd:function(){return c},I3:function(){return S},Kr:function(){return l},MJ:function(){return I},MP:function(){return p},Mm:function(){return r},OV:function(){return s},Tp:function(){return f},YB:function(){return i},bA:function(){return g},c3:function(){return b},h0:function(){return o},js:function(){return a},lc:function(){return h},mU:function(){return m},mw:function(){return E},nt:function(){return v},nv:function(){return d},rb:function(){return u},wt:function(){return _}});var r=",",i="-",o="\n",a="/",s=", ",l=["brandAwareness","consideration","videoViews"],u="Product | Media Planning Tool",c="http://pinch/mediaplanningpod",d="https://docs.google.com/document/d/1ExHoefENHwEiq56tGxUAHOxoX16Lc_7JGr99RVgDScM/edit#bookmark=kix.8xm9361cbpul",p="https://docs.google.com/document/d/1uSmZXN-TEjwm7_AjrDSEV5NzFM6P6FX8GFa7IeSXjwM/edit#bookmark=id.d23e6qi02ovi",f=Object.freeze({UTM_SOURCE:"utm_source"}),_={"Collections ad":"SHOP_THE_PIN","Shopping ad":"SHOPPING"},g={ALL:"ALL",SEARCH:"SEARCH",BROWSE:"BROWSE"},h="PUBLISHED",m="UNPUBLISHED",y={READY:"READY",INITIALIZING:"INITIALIZING",PERSONAS_INELIGIBLE_SIZE:"PERSONAS_INELIGIBLE_SIZE",TOO_SMALL:"TOO_SMALL",IN_PROGRESS:"IN_PROGRESS",INITIALIZING_PERSONA:"INITIALIZING_PERSONA"},v=1000535,b=506009,E="gpt-4-turbo",S="/internal/planning_hub/gpt/",I="POST"},506868:function(e,t,n){n.d(t,{B:function(){return p},db:function(){return c},eg:function(){return f}});var r=n(512419),i=n(543867),o=n(886569);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=/.*\((\d{12})\)$/,c=function(e){var t=e;if(isNaN(e)){var n=e.match(u);n&&(t=n[1])}return t},d={name:"".concat((0,i.Z)(new Date)," | Ad group"),autoTargetingEnabled:!0,optimization:"PIN_CLICK",optimizationConversionEvent:"CHECKOUT",conversionWindow:"7/7/1",targeting:{selectedAges:[],selectedAdFormats:[],selectedLanguages:[],selectedDevices:[],selectedGenders:[],selectedLocations:["US"],selectedRegions:{},selectedMetros:{},selectedZipCodes:[],keywords:"",selectedInterests:{},selectedInterestsLabels:[],audienceListsInclude:[],audienceListsExclude:[],selectedAudienceLists:[],productGroups:{},placement:["all"],frequency:{timeRange:"optional"}}},p=function(e){return l(l({},l(l({},d),{},{optimization:e||d.optimization})),{},{id:(0,r.Z)()})},f={id:"",name:"",budgetType:"daily",objective:"consideration",budgetMicro:void 0,startDate:(0,o.Z)((0,i.Z)(new Date)),endDate:void 0,adGroups:[p()],tiersBudgetMicro:[],tiersBudgetPercentage:[],isExportTiers:!1,isSpotlightEnabled:!1}},97630:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(672652),i=n(684404),o=n(587703),a=n(401429),s=n(249150),l=n(321329),u=n(140017),c=n(263148),d=n(340370),p=n(477458),f=n(819267),_=function(e){var t=e.anchorElementRef,n=e.children;return"/"===e.url?(0,f.jsx)(s.Z,{anchor:".HomeButton2",anchorElementRef:t.current,containerBoxConfig:{display:"flex",height:"100%"},children:n}):n},g=function(e){var t=e.children,n=e.role,r=e.url,a=e.contextData,s=e.onClick,l=(0,o.Z)(),u=(0,d.Z)({href:r||"",onHistoryChange:c.Jd}),_=(0,p.Z)(),g=_.onBlur,h=_.onFocus,m=_.onMouseDown,y=_.onMouseEnter,v=_.onMouseLeave,b=_.onMouseUp,E=function(e){if(a){var t=a.event;l({component:a.component,element:a.element,event_type:t})}s&&s(e)};return"link"===n?(0,f.jsx)(i.Tg,{href:r||"",onBlur:g,onFocus:h,onMouseDown:m,onMouseEnter:y,onMouseLeave:v,onMouseUp:b,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),E(t),r&&u({event:t})},rounding:6,children:t}):(0,f.jsx)(i.iP,{onBlur:g,onFocus:h,onMouseDown:m,onMouseEnter:y,onMouseLeave:v,onMouseUp:b,onTap:function(e){var t=e.event;E(t),r&&u({event:t})},role:"button",rounding:6,children:t})};function h(e){var t=e.contextData,n=e.dataTestId,o=e.iconEnd,s=e.isSelected,c=e.onClick,d=void 0===c?function(){}:c,h=e.role,m=e.showNotifBadge,y=void 0!==m&&m,v=e.text,b=e.url,E=(0,u.ZP)(),S=(0,r.useRef)(null),I=(0,p.Z)(),O=I.active,P=I.hovered,T=(0,l.Z)(1000109);return(0,f.jsx)(i.xu,{"data-test-id":n,flex:"none",height:48,minWidth:60,rounding:6,children:(0,f.jsx)(_,{anchorElementRef:S,url:b||"",children:(0,f.jsx)(g,{contextData:t,onClick:function(e){d(e),y&&T.completeExperience(1000109,505586)},role:void 0===h?"link":h,url:b,children:(0,f.jsx)(i.xu,{color:s||O?"selected":P?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:O&&!s?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:48,minWidth:60,paddingX:4,rounding:6,children:(0,f.jsxs)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,f.jsx)(i.xv,{align:"center",color:s?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:v}),o&&(0,f.jsx)(i.xu,{marginStart:2,children:(0,f.jsx)(i.JO,{accessibilityLabel:"",color:s?"inverse":"default",icon:o,size:12})}),y&&(0,f.jsx)(a.Z,{eligibleIds:[505586],placementId:1000109,children:(0,f.jsx)(function(){return(0,f.jsx)(i.xu,{"aria-label":E._('Notifications', 'header.headerTab.notifBadge', 'accessibility label for icon indicating the header tab has notifications'),color:"primary",height:6,marginStart:1,marginTop:-2,rounding:"circle",width:6})},{})})]})})})})})}},939809:function(e,t,n){n.d(t,{Cy:function(){return p},HE:function(){return f},Mv:function(){return l},PR:function(){return m},Y4:function(){return _},dL:function(){return s},fS:function(){return g},fv:function(){return c},lu:function(){return h},qS:function(){return d},uc:function(){return u}});var r=n(666472);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},l=function(e){var t=(0,r.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},u=function(e){var t=(0,r.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},c=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},d=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},g=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},h=function(e){var t,n=(0,r.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:null!==(t=e.slotIndex)&&void 0!==t?t:0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:n})},m=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},572345:function(e,t,n){n.d(t,{O:function(){return u},Z:function(){return c}});var r=n(672652),i=n(684404),o=n(140017),a=n(702497),s=n(819267),l={xs:12,sm:16,md:20,lg:24};function u(e){var t=e.children,n=(0,o.ZP)();return(0,s.jsx)(i.u,{link:(0,s.jsx)(i.rU,{href:a.vBy,target:"blank",children:(0,s.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:n._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:n._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function c(e){var t=e.iconOnly,n=e.isVerifiedIdentity,a=e.isVerifiedMerchant,c=e.showText,d=e.size,p=(0,o.ZP)(),f=(0,s.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(i.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),c&&(0,s.jsx)(i.xu,{marginStart:2,children:(0,s.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(r.Fragment,{children:[a&&!t&&(0,s.jsx)(u,{children:f}),a&&t&&f,n&&!a&&(0,s.jsx)(i.JO,{accessibilityLabel:p._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},67664:function(e,t,n){n.d(t,{A:function(){return s},Z:function(){return l}});var r=n(672652),i=n(684404),o=n(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l(e){var t,n,l,u=e.backgroundColor,c=e.children,d=e.coverImage,p=e.disableTabIndex,f=e.height,_=e.id,g=e.isHovered,h=e.onClick,m=e.onMouseDown,y=e.onMouseEnter,v=e.onMouseLeave,b=e.searchBoxRenderStopwatch,E=e.url,S=e.width,I=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=I[0],P=I[1],T=function(){y?y():P(!0)},A=function(){v?v():P(!1)},x=g||O,w=x?s.hoverOverlay:s.bubbleOverlay;return(0,o.jsx)(i.Tg,{href:E,onBlur:A,onFocus:T,onMouseDown:m,onMouseEnter:T,onMouseLeave:A,onTap:function(){null==h||h(_)},rounding:4,tabIndex:p?-1:void 0,children:(0,o.jsx)(i.zd,{height:f,rounding:4,width:S||"100%",children:null!=d&&d.url?(0,o.jsxs)(i.Ee,{alt:"",color:u,fit:"cover",naturalHeight:null!==(n=d.height)&&void 0!==n?n:1,naturalWidth:null!==(l=d.width)&&void 0!==l?l:1,onLoad:function(){null==b||b.stop()},role:"presentation",src:d.url,children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:w},height:"100%",width:"100%"}),"function"==typeof c?c({isHovered:x}):c]}):(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},495716:function(e,t,n){n.d(t,{Z:function(){return tj}});var r=n(672652),i=n(328038),o=n(684404),a=n(341309),s=n(499041),l=n(214877),u=n(140017),c=n(494125),d=n(819267);function p(e){var t=e.showCancel,n=e.viewType,r=(0,u.ZP)(),a=(0,i.$B)().path,p=(0,l.v)().logContextEvent,f=(0,s.t)(),_=f.setImage,g=f.setUpdatedCropArea,h=f.setIsLensModalOpen,m="/lens-search"===a;(0,c.Z)(function(){p({component:43,element:1304,event_type:120,view_type:n})});var y=function(){p({component:43,element:1304,event_type:101}),h(!0)};return(0,d.jsxs)(o.kC,{alignItems:"center",direction:"row",height:"100%",children:[t&&(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #cdcdcd",borderRadius:24}},"data-test-id":"lens-vertical-line",height:20}),(0,d.jsx)(o.hU,{accessibilityLabel:r._('Lens', 'searchBox.lens.accessibilityLabel', 'Lens'),icon:"search-by-image",iconColor:"gray",onClick:function(){m||(_(void 0),g(void 0)),y()}})]})}var f=n(150984),_=n(757640),g=n(928162),h=n(477458);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(){var e,t=(0,u.ZP)(),n=(0,s.t)(),a=n.setHistoryData,c=n.setImage,p=n.setIsLensModalOpen,f=(0,i.k6)(),y=(0,l.v)().logContextEvent,v=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,2)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=v[0],E=v[1],S=(0,_.Z)({name:"ApiResource",options:{url:"/v3/visual_search/lens/history/",data:{fields:"id,image_urls,image_sizes"}},noCache:!0}),I=S.data,O=void 0===I?[]:I,P=S.isLoaded&&O&&O.length>0;(0,r.useEffect)(function(){!b&&P&&(y({component:15075,element:14560,event_type:120,view_type:119}),E(!0))},[P,y,E,b]),(0,r.useEffect)(function(){P&&a(O)},[a,O,P]);var T=function(){c(void 0),p(!1),y({component:15075,element:14560,event_type:101,view_type:119}),f.push("/lens-search/history")};return O&&0!==O.length?(0,d.jsx)(h.q,{children:function(e){var n=e.hovered,r=e.onMouseEnter,i=e.onMouseLeave;return(0,d.jsx)(o.iP,{onTap:T,children:(0,d.jsxs)(o.xu,{alignContent:"between",dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, .1)":void 0}},direction:"row",display:"flex",height:110,onMouseEnter:r,onMouseLeave:i,position:"relative",rounding:4,width:"100%",children:[(0,d.jsx)(o.xu,{marginTop:2,position:"relative",width:112,children:O.slice(0,3).map(function(e,t){return(null==e?void 0:e.id)&&t<3&&(0,d.jsx)(g.Z,{card:{url:e.image_urls["236x236"]},fanOut:!1,index:t,rounding:4,size:"SMALL"},e.id)})}),(0,d.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingX:2,width:"calc(100% - ".concat(112,"px)"),children:[(0,d.jsxs)(o.kC,{alignItems:"stretch",direction:"column",gap:1,justifyContent:"start",children:[(0,d.jsx)(o.X6,{size:"400",children:t._('History', 'lens.history', 'header for the history count')}),(0,d.jsx)(o.xv,{size:"200",children:t._('View previous uploads', 'lens.previous.uploads', 'previously uploaded lens image history ')})]}),(0,d.jsx)(o.JO,{accessibilityLabel:t._('Lens history', 'lens.history.navigation.button', 'Clicking on the button will navigate the user to the Lens History landing page'),color:"default",icon:"arrow-forward"})]})]})})}}):null}var v=n(512691),b=n(120889),E=n(930837),S=n(339001),I=n(343902),O=n(973435),P=n(478492),T=n(979702),A=n(324115);function x(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function w(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){x(o,r,i,a,s,"next",e)}function s(e){x(o,r,i,a,s,"throw",e)}a(void 0)})}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||R(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var N={border:"2px dashed #dadada",borderRadius:"16px",pointerEvents:"none"};function C(){var e,t=(0,u.ZP)(),n=(0,i.k6)(),a=(0,s.t)(),p=a.historyData,_=a.image,g=a.setHeroImageUrl,h=a.setImage,m=a.setImageData,x=a.setIsLensModalOpen,C=(0,i.$B)().path,M=(0,l.v)().logContextEvent,L=j((0,r.useState)(347),2),k=L[0],Z=L[1],U=j((0,r.useState)(""),2),F=U[0],B=U[1],z=j((0,r.useState)(""),2),H=z[0],G=z[1],V=j((0,r.useState)(null),2),Y=V[0],W=V[1],q=j((0,r.useState)(""),2),X=q[0],K=q[1],Q=(0,r.useRef)(),$="/lens-search"===C,J="/lens-search/history"===C;(0,c.Z)(function(){M({component:15075,event_type:120,view_type:119})}),(0,r.useEffect)(function(){""===F?K(""):G("")},[F]),(0,r.useEffect)(function(){($||J)&&Y&&!_&&(x(!1),J&&n.push("/lens-search/"))},[x,n,$,_,Y,J]),(0,r.useEffect)(function(){_&&!$&&(n.push("/lens-search/"),x(!1))},[n,$,_,x]),(0,r.useEffect)(function(){p&&p.length>0&&347===k&&Z(k+110+12)},[p,Z,k]);var ee=function(e){var t=new FormData;t.append("image",e),(0,b.Z)({url:"/upload-image-lens-history/",type:"PUT",data:t})},et=(0,r.useCallback)(w(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=14;break}return e.prev=1,e.next=4,(0,v.Z)(Y,m);case 4:return n=e.sent,e.next=7,(0,A.Z)({i18n:t,ideaPinRenamingEnabled:!1,file:n,options:{allowVideo:!1}});case 7:"error"===(r=e.sent).type?G(r.message):(G(""),h(n),ee(n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),G(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[1,11]])})),[Y,G,h,t,m]),en=function(e){var n=(0,O.Z)({url:e});M({component:15075,element:14559,event_type:15656,view_type:119}),n?K(""):K(t._('Invalid URL. Try using another link', 'lens.url.invalid', 'Error message for invalid URL in Lens Image Search')),h(void 0),w(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.Z)(e);case 2:W(t.sent);case 4:case"end":return t.stop()}},t)}))(),e&&((0,f.Z)(e),g(e))},er=function(){h(void 0),g(void 0)};return(0,r.useEffect)(function(){Y&&et()},[et,Y]),(0,d.jsx)(E.ZP,{accessibilityModalLabel:t._('Lens modal', 'lens.modal.accessibilityLabel', 'Modal for Lens Image Search'),align:"start",heading:(0,d.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(o.X6,{accessibilityLevel:1,size:"500",children:t._('Upload an image to search', 'lens.modal.header', 'Header for Lens Image Search modal')}),(0,d.jsx)(o.hU,{accessibilityLabel:t._('Lens icon', 'lens.entrypoint.icon', 'Icon for lens entrypoint'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:function(){return x(!1)},size:"md"})]}),isOpen:!0,onDismiss:function(){return x(!1)},size:"sm",children:(0,d.jsx)(o.xu,{height:k,marginTop:1,paddingX:6,children:(0,d.jsxs)(o.xu,{height:311,position:"relative",children:[(0,d.jsx)(T.Z,{accept:((function(e){if(Array.isArray(e))return D(e)})(e=P.xl)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).join(","),accessibilityLabel:t._('File Upload', 'lens.upload.fileUpload', 'Input where we upload files for Lens image search'),allowMultipleFiles:!1,dropRounding:16,hasError:!!H,id:"lens-photo-upload-input",onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(M({component:15075,element:14558,event_type:15656,view_type:119}),W(n)),er()},onDrop:function(e){var n=e.dataTransfer.files;M({component:15075,event_type:3501,view_type:119}),n.length>1?G(t._('We can\u2019t search multiple images at once', 'lens.error.multipleImages', 'Error message for uploading multiple images in Lens Image Search')):(G(""),W(e.dataTransfer.files[0])),er()},children:function(){return(0,d.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:N},direction:"column",display:"flex",height:"100%",children:[(0,d.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:70}},direction:"column",display:"flex",children:[(0,d.jsx)(o.JO,{accessibilityLabel:t._('Upload photo', 'lens.photo.upload.icon', 'Upload indicator for lens image search'),color:H?"error":"dark",icon:H?"alert":"arrow-circle-up",size:24}),(0,d.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,d.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:4,children:[!!H&&(0,d.jsx)(o.xu,{marginBottom:4,width:320,children:(0,d.jsx)(o.xv,{align:"center",color:"error",children:H})}),(0,d.jsx)(o.xv,{align:"center",inline:!0,children:(0,S.nk)(t._('Drag an image here or {{ chooseFile }}', 'lens.modal.uploadTip.dragImage', 'Upload tip for Lens Image Search. chooseFile: choose a file to upload'),{chooseFile:(0,d.jsx)(o.xv,{inline:!0,underline:!0,children:t._('choose a file', 'lens.modal.uploadTip', 'Upload tip for Lens Image Search')},"lens-choose-file")})})]})})]}),(0,d.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #cdcdcd"}},paddingY:6,position:"absolute",width:"90%",children:(0,d.jsx)(I.Z,{children:(0,d.jsxs)(o.xu,{position:"relative",zIndex:new o.Ry(10),children:[(0,d.jsx)(o.nv,{ref:Q,errorMessage:X,hasError:!!X,id:"scrape-view-website-link",label:t._('Upload from URL', 'lens.url.label', 'Label for url input'),onChange:function(e){B(e.value)},placeholder:t._('Paste image link', 'lens.url.textField', 'Placeholder text to enter website url'),size:"lg",type:"url",value:F}),!!F&&(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:30}},paddingX:2,position:"absolute",right:!0,top:!0,children:(0,d.jsx)(o.hU,{accessibilityLabel:t._('Submit', 'lens.url.submitButton', 'Submit button to scrape images from url'),bgColor:"lightGray",icon:"arrow-forward",iconColor:"darkGray",onClick:function(){return en(F)},size:"sm"})})]})})})]})}}),(0,d.jsx)(o.xu,{marginTop:6,children:(0,d.jsx)(y,{})})]})})})}var M=n(30378),L=n(317540),k=n(340523),Z=(0,n(471314).Z)({name:"search_tab_render",sampleRate:1}),U=Z.Provider,F=Z.useHook,B=n(5859),z=n(760132),H=n(207099),G=n(370833),V=n(768806),Y=n(980803),W=n(447479),q=n(782005),X=n(149722),K=n(239821),Q={md:407,sm:332,auto:"auto"},$=["pin.description","pin.id","pin.images[236x]"],J={__style:{backgroundColor:"rgba(0,0,0, .4)"}},ee=n(983983);function et(e){var t=e.contentTypes,n=e.contentTypesAnchor,r=e.handleSelectFilter,i=e.onDismiss;return(0,d.jsx)(o.Lt,{anchor:n,disableMobileUI:!0,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:i,zIndex:new o.Ry(ee.fe),children:t.map(function(e,t){return(0,d.jsx)(o.Lt.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:function(){return r(t)},option:{value:e.text,label:e.text},children:(0,d.jsx)(o.xv,{weight:[q.lw.PINS,q.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)})})}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ei=function(e){switch(e){case q.lw.PINS:return 220;case q.lw.PINS_MINE:return 223;case q.lw.PINS_VIDEO:return 11399;case q.lw.BOARDS:return 221;case q.lw.USERS:return 222;default:return null}},eo=function(e){var t,n,a=e.currentlySelectedFilter,s=e.currentQuery,c=e.handleContentTypeFilterHover,p=e.handleScopeChange,f=(0,l.v)().logContextEvent,_=(0,u.ZP)(),g=(n=(t=[{scope:q.lw.PINS,text:_._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:q.lw.PINS_MINE,text:_._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(function(e){return e.scope===q.lw.PINS_MINE}),t.push(t.splice(n,1)[0]),t),h=(0,r.useRef)(null),m=(0,i.k6)(),y=en((0,r.useState)(a||g[0].scope),2),v=y[0],b=y[1],E=en((0,r.useState)(!1),2),S=E[0],I=E[1],O=en((0,r.useState)(!1),2),P=O[0],T=O[1];(0,r.useEffect)(function(){b(a)},[a]);var A=function(){T(!0),c&&c(!0)},x=function(){T(!1),c&&c(!1)},w=(g[v?g.findIndex(function(e){return e.scope===v}):0]||g[0]).text,j=(0,d.jsx)(o.xu,{ref:h,dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:48}},"data-test-id":"search-filter",overflow:"hidden",children:(0,d.jsxs)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,d.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:w}),(0,d.jsx)(o.xu,{marginStart:2,children:(0,d.jsx)(o.JO,{accessibilityLabel:_._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,d.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:P?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:48,marginStart:2,position:"relative",rounding:6,children:[(0,d.jsx)(o.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:function(){return A()},onMouseLeave:function(){return x()},onTap:function(e){var t=e.event;t&&(t.preventDefault(),t.stopPropagation()),I(!S),f({event_type:101,component:215,aux_data:{entered_query:s}})},rounding:6,children:j}),S&&(0,d.jsx)(et,{contentTypes:g,contentTypesAnchor:h.current,handleSelectFilter:function(e){var t=g[e].scope;b(t),I(!1),f({event_type:101,component:215,element:ei(t),aux_data:{entered_query:s}}),p(t),s&&m.push("/search/".concat(t,"/?q=").concat(encodeURIComponent(s),"&rs=").concat(W.i.FILTER))},onDismiss:function(){return I(!1)}})]})},ea=n(342513),es=n(638747);function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==el(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==el(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===el(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ed={recentSaves:[],recentViews:[]};function ep(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ed,t=arguments.length>1?arguments[1]:void 0;if("FETCH_COMPLETE"===t.type){var n=t.payload,r=n.options,i=n.resource,o=t.payload.response.resource_response.data;if("ApiResource"===i&&"/v3/users/me/recent/engaged/pin/stories/"===(void 0===r?{}:r).url&&o){var a=o.find(function(e){return"user_recently_viewed_pins"===e.story_type}),s=o.find(function(e){return"user_recently_saved_pins"===e.story_type}),l=(null==a?void 0:a.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_view",url:"/pin/".concat(r)}}))||[],u=(null==s?void 0:s.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_save",url:"/pin/".concat(r)}}))||[];return ec(ec({},e),{},{recentSaves:u,recentViews:l})}}return e}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e_=(0,ea.Z)("SearchBox"),eg=e_.Provider,eh=e_.useHook;function em(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(ep,ed))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ef(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1];(0,es.Z8)("ApiResource",function(e){a({type:"FETCH_COMPLETE",payload:e})});var s=(0,r.useMemo)(function(){return{state:o}},[o]);return(0,d.jsx)(eg,{value:s,children:n})}var ey=n(860208),ev=n(899384),eb=n(314018),eE=n(88682),eS=n(623891);function eI(e){var t=e.suggestion,n=e.query,r=e.lastFocusTime,i=void 0===r?0:r,o=e.filterSelectedTerm;if("explorearticle"===t.type){var a,s,l=t.id,u=t.query,c=t.story_category,d=t.storyId;return null!==(a=null===(s=t.action)||void 0===s?void 0:s.url)&&void 0!==a?a:(0,eb.Z)({bubbleId:l,query:u,referringSource:2===c?"trending":"autocomplete_bubble",storyCategory:c,storyId:d})}if("todayarticle"===t.type){var p=t.id,f=t.title;return(0,ey.x)({title:f,id:p,articleType:"today"})}var _={eq:(0,Y.Z)(n)};return i&&(_.etslf=String(Date.now()-i)),"inclusive_product_filter_query"===t.type&&o&&(_.filters=o),(0,eE.Z)(t.url||"",_)}function eO(e,t){return"SuggestionGroup-Option-".concat(e,"-").concat(t)}var eP=function(e,t){var n=0;return e.map(function(e){var r,i,o=n;return n+=(null!==(r=(null!==(i=e.items)&&void 0!==i?i:[]).length)&&void 0!==r?r:0)+(t?1:0),o})},eT=function(e,t,n){if(null!=t){for(var r=eP(e,n),i=n?1:0,o=0;o<r.length;o+=1)if(e[o].items.length&&t-r[o]<e[o].items.length+i)return e[o].items[t-r[o]-i];return null}};function eA(e,t,n){var r=e.find(function(e){return"blended_autocomplete"===e.type}),i=r&&!!r.items[0].modified_filter_eligibility,o=e.map(function(e){var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce(function(e,t){return e+t},0),a=n?null==t?0:t===o-1?void 0:t+1:null==t?o-1:0===t?void 0:t-1,s=eT(e,a,i);return[a,s]}var ex=n(699750),ew=n(124946),ej=n(582103),eR=n(172203),eD=n(627408),eN=n(373543),eC=n(510989),eM=n(329725),eL=n(608516),ek=n(59709),eZ=n(575742),eU=n(862249);function eF(e){var t,n=e.suggestions[0],r=(0,eU.Z)({url:null===(t=n[0])||void 0===t?void 0:t.action_button_uri});return(0,d.jsxs)(o.xu,{padding:10,children:[(0,d.jsx)(o.xu,{marginBottom:6,children:(0,d.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:n.description})}),(0,d.jsx)(o.Tg,{href:n.action_button_uri,rel:r?"nofollow":"none",rounding:"pill",children:(0,d.jsx)(o.xu,{color:"infoBase",display:"inlineBlock",padding:3,rounding:"pill",children:(0,d.jsx)(o.xv,{color:"inverse",weight:"bold",children:n.action_button_text})})})]})}var eB=n(572345);function ez(e){var t=e.id,n=e.children,r=e.isHovered,i=e.url,a=e.onClick,s=e.onMouseEnter,l=e.onMouseLeave;return(0,d.jsx)(o.xu,{"aria-selected":r?"true":"false",color:r?"secondary":"default","data-test-id":"search-suggestion",id:t,role:"option",children:(0,d.jsx)(o.Tg,{href:i,onMouseEnter:s,onMouseLeave:l,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),t.metaKey||t.ctrlKey||(t.preventDefault(),a())},tabIndex:-1,children:(0,d.jsx)(o.xu,{marginBottom:1,paddingX:5,children:n})})})}function eH(e){var t=e.highlightMatch,n=e.iconName,r=e.imageUrl,i=e.isVerifiedMerchant,a=void 0!==i&&i,s=e.label,l=e.query,c=e.rounding,p=e.searchDelightConfig,f=e.subLabel,_=e.verified,g=void 0!==_&&_,h=(0,u.ZP)();return(0,d.jsx)(o.xu,{"data-test-id":r||n?"enriched-search-suggestion":"regular-search-suggestion",display:"flex",paddingY:r?1:0,width:"100%",children:(0,d.jsxs)(o.kC,{alignItems:"center",gap:{row:2,column:0},children:[r?(0,d.jsx)(o.xu,{"data-test-id":"enriched-autocomplete-image",height:40,overflow:"hidden",rounding:c&&2===c?2:"circle",width:40,children:(0,d.jsx)(o.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,role:"presentation",src:r})}):(0,d.jsx)(o.kC,{alignItems:"center",height:40,justifyContent:"center",width:40,children:(0,d.jsx)(o.xu,{marginTop:1,children:(0,d.jsx)(o.JO,{accessibilityLabel:n?(0,S.nk)(h._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:n}).join():"",color:"default",icon:n||"search",size:12})})}),(0,d.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,d.jsxs)(o.kC,{alignItems:"center",children:[void 0!==t&&t&&l?(0,d.jsx)(ek.Z,{query:l,searchDelightConfig:p,text:s||l}):(0,d.jsx)(o.xv,{weight:"bold",children:s}),(g||a)&&(0,d.jsx)(o.xu,{marginStart:1,children:(0,d.jsx)(eB.Z,{iconOnly:!0,isVerifiedIdentity:g,isVerifiedMerchant:a,size:"xs"})})]}),f&&(0,d.jsx)(o.xv,{size:"100",children:f})]})]})})}var eG=n(930493),eV=(0,r.lazy)(function(){return n.e(43784).then(n.bind(n,343784))});function eY(e){var t=e.experiences,n=e.index,i=e.focusedIndex,a=e.onInclusiveProductFilterClick,s=e.onSuggestionClick,l=e.onSuggestionMouseEnter,c=e.onSuggestionMouseLeave,p=e.query,f=e.suggestion,_=(0,u.ZP)(),g="number"==typeof f.identifier_icon_name&&f.identifier_icon_name!==eZ.J?(0,eZ.Z)(f.identifier_icon_name):void 0;return(0,d.jsx)(eM.Z,{experiences:t,placementId:1000315,searchTerm:p,suggestions:[f],children:function(e){var t=e.searchDelightConfig;return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(ez,{id:eO(0,n),isHovered:i===n,onClick:function(){s(f,n)},onMouseEnter:function(){l(n)},onMouseLeave:function(){c()},url:eI({suggestion:f,query:p}),children:(0,d.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,d.jsx)(o.xu,{flex:"grow",children:"inclusive_product_filter_query"===f.type?(0,d.jsx)(o.xu,{marginBottom:2,children:(0,d.jsx)(o.xv,{weight:"bold",children:(0,S.nk)(f.eligibleHairPatternFilters?_._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):_._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:(0,d.jsx)(ek.Z,{query:p,searchDelightConfig:t,text:f.label||p})})})}):(0,d.jsx)(eH,{highlightMatch:!0,iconName:g,imageUrl:f.image,label:f.label,query:p,rounding:2,searchDelightConfig:t,subLabel:f.subLabel})})})}),"inclusive_product_filter_query"===f.type&&a&&(0,d.jsx)(o.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:f.eligibleHairPatternFilters?(0,d.jsx)(eC.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,d.jsx)(eL.Z,{children:(0,d.jsx)(o.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,d.jsx)(eV,{eligibleFilters:f.eligibleHairPatternFilters,isUpsell:!0,onClickApplyFilters:function(e){return a(f,n,e)},query:p})})})}):(0,d.jsx)(eG.Z,{onClickApplyFilters:function(e){return a(f,n,e)},query:p,showHeaderText:!1})})]})}})}var eW=function(e){var t=e.index,n=e.focusedIndex,r=e.onSuggestionClick,i=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.suggestion;return(0,d.jsx)(ez,{id:eO(0,t),isHovered:n===t,onClick:function(){r(a,t)},onMouseEnter:function(){i(t)},onMouseLeave:function(){o()},url:a.url,children:(0,d.jsx)(eH,{imageUrl:a.image,isVerifiedMerchant:a.is_verified_merchant,label:a.label,rounding:"circle",subLabel:a.subLabel,verified:a.verified})},"".concat(a.type,"-").concat(a.label,"-").concat(a.subLabel||""))};function eq(e){var t=e.focusedIndex,n=e.onSuggestionClick,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=(0,u.ZP)(),s=0===t;return(0,d.jsx)(o.xu,{"aria-selected":s?"true":"false",id:"syop_cta",role:"option",children:(0,d.jsxs)(o.xu,{marginTop:3,paddingX:6,children:[(0,d.jsx)(o.iz,{}),(0,d.jsx)(o.xu,{marginTop:4,children:(0,d.jsxs)(o.kC,{alignItems:"center",dataTestId:"search-your-pins-section",justifyContent:"between",children:[(0,d.jsx)(o.xv,{lineClamp:2,weight:"bold",children:a._('Looking for ideas you saved?', 'searchBox.suggestionsMenu.searchYourPinsCTA', 'Heading for search autocomplete call to action to search your own pins')}),(0,d.jsx)(o.kC.Item,{flex:"none",children:(0,d.jsx)(o.iP,{onMouseEnter:function(){r(0)},onMouseLeave:i,onTap:n,rounding:"pill",children:(0,d.jsx)(o.xu,{alignItems:"center",color:s?"darkWash":"secondary","data-test-id":"search-your-pins-button",display:"flex",height:40,justifyContent:"center",paddingX:3,paddingY:2,rounding:"pill",children:(0,d.jsx)(o.xv,{align:"center",weight:"bold",children:a._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})})})})]})})]})})}function eX(e){var t=e.experiences,n=e.suggestion,r=e.index,i=e.focusedIndex,o=e.query,a=e.onSuggestionClick,s=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,u=e.onInclusiveProductFilterClick;switch(n.type){case"autocompleteupsell":return(0,d.jsx)(eF,{suggestions:[n]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,d.jsx)(eY,{experiences:t,focusedIndex:i,index:r,onInclusiveProductFilterClick:u,onSuggestionClick:a,onSuggestionMouseEnter:s,onSuggestionMouseLeave:l,query:o,suggestion:n});case"user":return(0,d.jsx)(eW,{focusedIndex:i,index:r,onSuggestionClick:a,onSuggestionMouseEnter:s,onSuggestionMouseLeave:l,suggestion:n})}return null}var eK=n(545007),eQ=n(44801),e$=n(213377),eJ=n(666472),e0=n(67664);function e1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e2=(0,r.lazy)(function(){return n.e(30825).then(n.bind(n,739711))});function e3(e){var t,n,i,a=e.contextLogData,s=e.dominantColor,l=e.handleReport,u=e.height,c=e.id,p=e.image,f=e.isDarkRep,_=void 0!==f&&f,g=e.isHovered,h=e.name,m=e.onMouseEnter,y=e.onMouseLeave,v=e.onTap,b=e.searchBoxRenderStopwatch,E=e.slotIndex,S=e.url,I=e.viewParameter,O=e.viewType,P=e.width,T=(0,eJ.Z)({contextLogData:a,impressionType:"Article",loggingId:c,slotIndex:E,viewParameter:I,viewType:O}),A=(0,X.Z)(),x=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e1(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e1(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=x[0],j=x[1],R=w||g,D=u||80;!P||P>=200?(n=3,i="300"):P>=150?(n=2,i="200"):(n=2,i="100");var N=function(){m?m():j(!0)},C=function(){y?y():j(!1)};return(0,d.jsx)(o.xu,{ref:T,height:D,width:P||"100%",children:(0,d.jsx)(o.zd,{rounding:4,wash:!_,children:(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:_?{__style:{backgroundColor:R?eQ.Pv2:eQ.pzk}}:{__style:R?e0.A.lightHoverOverlay:{}},children:(0,d.jsx)(o.st,{children:(0,d.jsxs)(o.Tg,{href:S,onBlur:C,onFocus:N,onMouseEnter:N,onMouseLeave:C,onTap:v,rounding:4,children:[(0,d.jsxs)(o.kC,{direction:"row",children:[(0,d.jsx)(o.zd,{height:D,wash:!0,width:D,children:(0,d.jsx)(o.Ee,{alt:"",color:s,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:function(){null==b||b.stop()},role:"presentation",src:p})}),(0,d.jsx)(o.xu,{alignItems:"center",display:"flex",maxHeight:D,maxWidth:P?P-D:e$.yF-80,padding:4,children:(0,d.jsx)(o.xv,{color:_?"light":void 0,lineClamp:n,size:i,weight:"bold",children:h})})]}),l&&A.isAuth&&A.isEmployee?(0,d.jsx)(o.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,d.jsx)(eL.Z,{children:(0,d.jsx)(e2,{handleReport:l,imgSignature:p,isVisible:null!=R&&R})})}):null]})})})})})}var e4=n(549629),e6=n(372085),e5=n(227258),e8=n(205841),e7=n(427514),e9=n(193163),te=n(939809);function tt(e){var t,n,r=e.bubble,i=e.height,a=e.isHovered,s=e.onClick,l=e.onMouseDown,u=e.onMouseEnter,c=e.onMouseLeave,p=e.searchBoxRenderStopwatch,f=e.slotIndex,_=e.storyId,g=e.storyType,h=e.viewParameter,m=e.viewType,y=e.width,v=r.id,b=r.title,E=r.image_urls,S=r.article_creator_user,I=E&&E.length>0?{url:E[0]}:void 0,O=(0,e7.Z)(b||"",{});if(!r.title||!r.id)return null;var P=(0,e9.T7)(null!==(t=r.feed_source)&&void 0!==t?t:0,null!==(n=r.is_product_pin_feed)&&void 0!==n&&n,r.title,r.id);return(0,d.jsx)(te.Y4,{auxData:{grid_index:f.toString(),today_article_id:v,story_type:g,story_id:_},loggingId:v,objectIdStr:v,slotIndex:f,viewParameter:h||3467,viewType:m,children:function(e){var t=e.impressionTrackerRef;return(0,d.jsx)(e0.Z,{ref:t,backgroundColor:"gray",coverImage:I,disableTabIndex:!0,height:i,id:v,isHovered:a,onClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,searchBoxRenderStopwatch:p,url:P,width:y,children:(0,d.jsx)(o.xu,{ref:t,alignItems:"end",display:"flex",height:i,justifyContent:"center",padding:3,position:"absolute",top:!0,width:y||"100%",children:(0,d.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[i>200?(0,d.jsx)(o.X6,{align:"center",color:"light",size:"500",children:O}):(0,d.jsx)(o.xv,{align:"center",color:"light",weight:"bold",children:O}),S&&S.image_small_url&&S.full_name&&(0,d.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,d.jsx)(o.xu,{marginEnd:2,children:(0,d.jsx)(e8.qE,{name:S.full_name,outline:!0,size:"xs",src:S.image_small_url})}),(0,d.jsx)(o.xv,{color:"light",size:"100",children:S.full_name})]})]})})})}})}function tn(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}var tr=function(e){var t=e.title;return(0,d.jsx)(o.xu,{alignItems:"center",display:"flex",marginStart:8,children:(0,d.jsx)(o.xv,{lineClamp:1,weight:"bold",children:t})})},ti=function(e){var t=e.handleRemove,n=e.id,r=e.isHovered,i=e.label,a=e.onClick,s=e.onMouseEnter,l=e.onMouseLeave,u=e.removeA11yText,c=e.url;return(0,d.jsx)(o.xu,{"aria-selected":r?"true":"false","data-test-id":"search-suggestion",id:n,marginBottom:2,marginEnd:2,role:"option",children:(0,d.jsx)(o.Tg,{accessibilityLabel:i,href:c,onMouseEnter:s,onMouseLeave:l,onTap:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.metaKey||t.ctrlKey||(n(),t.preventDefault(),a())},rounding:"pill",children:(0,d.jsxs)(o.xu,{alignItems:"center",color:r?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,d.jsx)(o.xv,{align:"center",children:i}),(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,d.jsx)(o.hU,{accessibilityLabel:null!=u?u:"",icon:"cancel",iconColor:"darkGray",onClick:function(e){var n=e.event;n.stopPropagation(),n.preventDefault(),null==t||t(i)},size:"xs"})})]})})})},to=function(e){var t,n,i,a,s,l,c=e.id,p=e.isHovered,f=e.onClick,_=e.onMouseEnter,g=e.onMouseLeave,h=e.showSeeMoreOverlay,m=e.suggestion,y=e.trackClick,v=e.url,b=(0,u.ZP)();return(0,d.jsx)(o.xu,{"aria-selected":p?"true":"false","data-test-id":"search-suggestion",id:c,marginBottom:2,paddingX:1,role:"option",children:(0,d.jsx)(o.Tg,{href:v||m.url,onMouseEnter:_,onMouseLeave:g,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),y(),t.metaKey||t.ctrlKey||v||(t.preventDefault(),f())},rounding:3,tabIndex:-1,children:(0,d.jsxs)(o.zd,{height:116,rounding:3,wash:p,width:90,children:[(0,d.jsx)(o.Ee,{alt:m.label,fit:"cover",naturalHeight:null!==(t=null===(n=m.images["236x"])||void 0===n?void 0:n.height)&&void 0!==t?t:1,naturalWidth:null!==(i=null===(a=m.images["236x"])||void 0===a?void 0:a.width)&&void 0!==i?i:1,src:null!==(s=null===(l=m.images["236x"])||void 0===l?void 0:l.url)&&void 0!==s?s:""}),h&&(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:J,height:116,left:!0,position:"absolute",top:!0,width:90}),(0,d.jsx)(o.xu,{alignItems:"center",display:"flex",height:116,justifyContent:"center",padding:3,position:"absolute",top:!0,width:90,children:(0,d.jsx)(o.xv,{align:"center",color:"inverse",weight:"bold",children:b._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},ta=function(e){var t=e.componentType,n=e.focusedIndex,r=e.groupIndex,i=e.keyPrefix,a=e.onSuggestionClick,s=e.onSuggestionMouseEnter,u=e.onSuggestionMouseLeave,c=e.seeMoreUrl,p=e.suggestions,f=e.title,_=(0,l.v)().logContextEvent;return(0,d.jsxs)(o.kC,{direction:"column",gap:4,children:[(0,d.jsx)(o.kC,{width:"100%",children:(0,d.jsx)(tr,{title:f})}),(0,d.jsx)(o.xu,{display:"flex",paddingX:8,width:"100%",wrap:!0,children:p.map(function(e,o){var l=6===o&&7===p.length;return(0,d.jsx)(to,{id:eO(r,o),isHovered:n===o,onClick:function(){a(e,o)},onMouseEnter:function(){s(o)},onMouseLeave:function(){u()},showSeeMoreOverlay:l,suggestion:e,trackClick:function(){_({event_type:101,component:t,element:l?179:12374,view_type:2,view_parameter:103})},url:l?c:e.url},"".concat(i,"-").concat(o))})})]})};function ts(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionClick,i=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.suggestions,s=(0,u.ZP)();return(0,e4.Q)({component:13844,view_parameter:103,view_type:2}),(0,d.jsx)(ta,{componentType:13844,focusedIndex:t,groupIndex:n,keyPrefix:"recent_save",onSuggestionClick:r,onSuggestionMouseEnter:i,onSuggestionMouseLeave:o,seeMoreUrl:"/me/pins/",suggestions:a,title:s._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function tl(e){var t,n,r=e.containerWidth,i=e.focusedIndex,a=e.groupIndex,s=e.onSuggestionClick,l=e.onSuggestionMouseEnter,c=e.onSuggestionMouseLeave,p=e.suggestions,f=(0,u.ZP)(),_=(0,eK.I0)(),g=(t=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e6.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 2:_((0,e5.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}));case 3:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(e){tn(o,r,i,a,s,"next",e)}function s(e){tn(o,r,i,a,s,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}),h=f._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion'),m=function(e){var t=e.pillLabels,n=e.maxWidth,r=t.length;if(!n)return r;for(var i=0,o=0;o<t.length;o+=1){var a=7.5*t[o].length+40+24;if(a+i<n)i+=a;else{r=o;break}}return r}({pillLabels:p.map(function(e){return e.label}),maxWidth:r});return(0,d.jsxs)(o.kC,{direction:"column",gap:4,children:[(0,d.jsx)(tr,{title:f._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),(0,d.jsx)(o.xu,{display:"flex",overflow:"hidden",paddingX:8,position:"relative",children:p.slice(0,m).map(function(e,t){return(0,d.jsx)(o.xu,{"data-test-id":"recent-query",children:(0,d.jsx)(ti,{handleRemove:g,id:eO(a,t),isHovered:i===t,label:e.label,onClick:function(){s(e,t)},onMouseEnter:function(){l(t)},onMouseLeave:function(){c()},removeA11yText:h,url:eI({suggestion:e,query:""})})},"".concat(e.type,"-").concat(e.label))})})]})}function tu(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionClick,i=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.suggestions,s=(0,u.ZP)();return(0,e4.Q)({component:13843,view_parameter:103,view_type:2}),(0,d.jsx)(ta,{componentType:13843,focusedIndex:t,groupIndex:n,keyPrefix:"recent_view",onSuggestionClick:r,onSuggestionMouseEnter:i,onSuggestionMouseLeave:o,seeMoreUrl:"/recently-viewed/",suggestions:a,title:s._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function tc(e){var t=e.groupIndex,n=e.focusedIndex,r=e.onSuggestionClick,i=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,s=e.searchBoxRenderStopwatch,l=e.suggestions,u=l.id,c=l.items,p=l.story_type,f=l.title.format,_=c.map(function(e){return e.type+":"+e.id}).join("|"),g=(0,eJ.Z)({viewType:2,componentType:200,viewParameter:3467,loggingId:u,objectIdStr:u,contextLogData:{content_ids:_,story_id:u,story_type:p},impressionType:"Story",slotIndex:t});return(0,d.jsxs)(o.kC,{direction:"column",gap:4,children:[(0,d.jsx)(tr,{title:f}),(0,d.jsx)(o.xu,{ref:g,display:"flex",marginBottom:5,paddingX:8,wrap:!0,children:c.slice(0,8).map(function(e,l){var c=n===l;return(0,d.jsx)(o.xu,{"aria-selected":c?"true":"false","data-test-id":"search-suggestion-today-bubble",id:eO(t,l),marginBottom:2,paddingX:1,role:"option",children:(0,d.jsx)(tt,{bubble:e,height:192,isHovered:c,onClick:function(){r(e,l)},onMouseEnter:function(){i(l)},onMouseLeave:function(){a()},searchBoxRenderStopwatch:s,slotIndex:l,storyId:u,storyType:p,viewParameter:3467,viewType:2,width:192})},"story".concat("--",t,"-").concat(l))})})]})}function td(e){for(var t=e.containerWidth,n=e.focusedIndex,r=e.groupIndex,i=e.onSuggestionClick,a=e.onSuggestionMouseEnter,s=e.onSuggestionMouseLeave,u=e.searchBoxRenderStopwatch,c=e.suggestions,p=(0,l.v)().logContextEvent,f=c.id,_=c.items,g=c.story_type,h=c.title.format,m=_.map(function(e){return e.type+":"+e.id}).join("|"),y=(0,eJ.Z)({componentType:200,contextLogData:{content_ids:m,story_id:f,story_type:g},impressionType:"Story",loggingId:f,slotIndex:r,viewParameter:3467,viewType:2}),v=function(e){return 64+8*e},b=3,E=(t-v(3))/b;E>1.5*e$.yF;)b+=1,E=(t-v(b))/b;var S=E/2.6,I="shopping_spotlight"===g;return(0,d.jsxs)(o.kC,{direction:"column",gap:4,children:[(0,d.jsx)(tr,{title:h}),(0,d.jsx)(o.xu,{ref:y,direction:"row",display:"flex",paddingX:8,wrap:!0,children:I?_.map(function(e,t){return(0,d.jsx)(tt,{bubble:e,height:192,onClick:function(){p({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:g}})},onMouseDown:function(e){return e.event.preventDefault()},slotIndex:t,viewParameter:3467,viewType:2,width:192},"ss-bubble-".concat(t))}):_.map(function(e,t){var l,c,p=n===t,_=e.aux_fields,h=e.cover_images,y=e.dominant_colors,v=e.id,b=e.story_category,I=e.title.format,O=h&&h[0]&&((null===(l=h[0]["236x"])||void 0===l?void 0:l.url)||(null===(c=h[0]["474x"])||void 0===c?void 0:c.url))||"",P=(0,eb.Z)({query:I,referringSource:2===b?"trending":"autocomplete_bubble",bubbleId:null!=v?v:"",storyId:f,pinId:null==_?void 0:_.image_pin_id});return(0,d.jsx)(o.xu,{"aria-selected":p?"true":"false","data-test-id":"search-suggestion",id:eO(r,t),marginBottom:2,marginEnd:2,role:"option",children:(0,d.jsx)(e3,{contextLogData:{story_type:g,content_ids:m,grid_index:t,story_id:f},dominantColor:y?y[0]:"",height:S,id:v,image:O,isHovered:p,name:I,onMouseEnter:function(){a(t)},onMouseLeave:function(){s()},onTap:function(){i(e,t)},searchBoxRenderStopwatch:u,slotIndex:t,url:P,viewParameter:3467,viewType:2,width:E})},"story-".concat(null!=b?b:"","-").concat(r,"-").concat(v))})})]})}function tp(e){return(tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t_(e,t){if(e){if("string"==typeof e)return tg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tg(e,t)}}function tg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var th={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function tm(e){var t,n=e.focusIndex,i=e.maxHeight,a=e.onInclusiveProductFilterClick,s=e.onMouseEnter,l=e.onMouseLeave,c=e.onSuggestionClick,p=e.onSuggestionHovered,f=e.onSyopCtaClick,_=e.query,g=e.searchBoxHeight,h=e.searchBoxRenderStopwatch,m=e.showSyopHeading,y=e.suggestionGroups,v=e.width,b=(0,r.useRef)(),E=(0,u.ZP)(),I=(0,eR.Z)(1000315).experiencesMulti,O=(0,X.Z)(),P=(0,(0,k.F)().checkExperiment)(O.isAuth?"web_auth_search_tab_render_layout_shift_fix":"web_unauth_search_tab_render_layout_shift_fix").anyEnabled,T=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||t_(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=T[0],x=T[1],w=(0,ej.Ns)(x,400);function j(){p(void 0)}return(0,r.useLayoutEffect)(function(){if(!P||!b.current)return function(){};x(b.current.getBoundingClientRect().width);var e=new ResizeObserver(function(){w(function(e){var t;return(null===(t=b.current)||void 0===t?void 0:t.getBoundingClientRect().width)||e})});return e.observe(b.current),function(){e.disconnect()}},[P,w]),(0,d.jsx)(eD.Z,{view:2,viewParameter:103,children:y.length>0?(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:g}},id:"SuggestionsMenu",overflow:"hidden",position:"absolute",role:"listbox",width:v||"100%",children:(0,d.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:s,onMouseLeave:l,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==tp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tp(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tp(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({maxHeight:i},th.searchSuggestionsContainer),children:(0,d.jsxs)(o.xu,{ref:b,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:"24px",paddingTop:"32px"}},overflow:"hidden",width:"100%",children:[m&&(0,d.jsx)(o.xu,{marginBottom:4,marginStart:8,marginTop:4,children:(0,d.jsx)(o.X6,{size:"500",children:_.length>0?(0,S.nk)(E._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:_}):E._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),y.map(function(e,t){var r,i,s,l;return e.items.length?(0,d.jsx)(o.kC,{direction:"column",gap:10,children:(0,d.jsx)(o.xu,{children:function(e,t,r){var i=eP(y),o=null==n?void 0:n-i[t],s=function(e){p(eP(y)[t]+e)};switch(e.type){case"recent_query":return(0,d.jsx)(tl,{containerWidth:r,focusedIndex:o,groupIndex:t,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,suggestions:e.items});case"recent_save":return(0,d.jsx)(ts,{focusedIndex:o,groupIndex:t,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,suggestions:e.items});case"recent_view":return(0,d.jsx)(tu,{focusedIndex:o,groupIndex:t,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,d.jsx)(tc,{containerWidth:r,focusedIndex:o,groupIndex:t,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,searchBoxRenderStopwatch:h,suggestions:e}):(0,d.jsx)(td,{containerWidth:r,focusedIndex:o,groupIndex:t,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,searchBoxRenderStopwatch:h,suggestions:e});case"blended_autocomplete":return(function(e){var t,n=e.slice(),r=n[0],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t_(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(null!==(a=o.modified_filter_eligibility)&&void 0!==a&&a.hair_pattern||null!==(s=o.modified_filter_eligibility)&&void 0!==s&&s.skin_tone){var a,s,l,u,c,d=(null===(l=o.modified_filter_eligibility.hair_pattern)||void 0===l?void 0:l.base_query)||(null===(u=o.modified_filter_eligibility.skin_tone)||void 0===u?void 0:u.base_query)||"",p=null===(c=o.modified_filter_eligibility.hair_pattern)||void 0===c?void 0:c.eligible_filters,f=(0,eN.Z)({url:o.url}).rs,_={query:d,rs:f},g=(0,H.Z)(_),h="enriched_autocomplete"===r.type&&r.image?1:0,m={eligibleHairPatternFilters:p,label:d,query:d,resultIndex:h,type:"inclusive_product_filter_query",url:g};n.splice(h,0,m),r=n[0];break}}}catch(e){i.e(e)}finally{i.f()}return n})(e.items).map(function(e,t){return(0,d.jsx)(eX,{experiences:I,focusedIndex:o,index:t,onInclusiveProductFilterClick:a,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,query:_,suggestion:e},"search-suggestion-".concat(e.label||"","-").concat(e.query||"","-").concat(e.type,"-").concat(e.url||"","-").concat(e.image||""))});case"syop_cta":return(0,d.jsx)(eq,{focusedIndex:o,index:0,onSuggestionClick:f,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j})}return null}(e,t,P?A:null!==(s=null===(l=b.current)||void 0===l?void 0:l.getBoundingClientRect().width)&&void 0!==s?s:0)})},"".concat(_,"-").concat(e.type,"-").concat(null!==(r=null===(i=e.title)||void 0===i?void 0:i.format)&&void 0!==r?r:"")):null})]})})}):(0,d.jsx)(o.xu,{})})}function ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tv(e){var t,n,i,o,a,s,l,u,p,f=e.focusIndex,g=e.maxHeight,h=e.onInclusiveProductFilterClick,m=e.onMouseEnter,y=e.onMouseLeave,v=e.onSuggestionClick,b=e.onSuggestionGroupsUpdate,E=e.onSuggestionHovered,S=e.onSyopCtaClick,I=e.query,O=e.scope,P=e.searchBoxHeight,T=e.suggestionGroups,A=e.width,x=e.active,w=F(),j=(0,X.Z)(),R=(0,k.F)().checkExperiment,D=j.isAuth&&O===q.lw.PINS_MINE,N=R(j.isAuth?"web_auth_existing_search_query_layout_shift_fix":"web_unauth_existing_search_query_layout_shift_fix").anyEnabled;(0,c.Z)(function(){N||D||null==w||w.start()}),(0,r.useEffect)(function(){N&&(!x||D||null!=w&&w.isTiming||null==w||w.start())},[x,D,N]);var C=(0,_.Z)({name:"SearchTabResource"}).data,M=eh().state,L=M.recentSaves,Z=M.recentViews,U=(t=(0,X.Z)(),i=(n=(0,_.Z)(t.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:q.lw.PINS},noCache:!0}:null)).isLoaded,o=n.data,(0,r.useMemo)(function(){var e=[];return i&&o&&(e=({newRecentQueries:o.items}).newRecentQueries.slice(0,5).map(function(e,t){var n=e.label,r=e.query,i=e.url;return{label:n,query:r,resultIndex:t,type:e.type,url:i}})),e},[i,o])),B=(s=(a={query:I,scope:O}).query,l=a.scope,u=(0,X.Z)(),p=(0,ew.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:l},value:s}),(0,r.useMemo)(function(){if(u.isAuth)return[{items:p||[],type:"blended_autocomplete"}];var e=(0,ex.Z)(p||[],function(e){return e.type});return[{items:["query","user"].flatMap(function(t){return e[t]}).filter(function(e){return!!e}),type:"blended_autocomplete"}]},[p,u]));return((0,r.useEffect)(function(){var e,t,n=j.isAuth?B.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}):B,r=C||[],i=j.isAuth?r.filter(function(e){return"shopping_spotlight"!==e.story_type}):r;b(D?[{items:U,type:"recent_query"},{items:Z,type:"recent_view"},{items:L,type:"recent_save"}]:I.length?n:[{items:U,type:"recent_query"}].concat(function(e){if(Array.isArray(e))return ty(e)}(e=i||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ty(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ty(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[B,D,b,I,C,U,L,Z,O,j]),N&&!x)?null:(0,d.jsx)(tm,{focusIndex:f,maxHeight:g,onInclusiveProductFilterClick:h,onMouseEnter:m,onMouseLeave:y,onSuggestionClick:v,onSuggestionHovered:E,onSyopCtaClick:S,query:I,searchBoxHeight:P,searchBoxRenderStopwatch:w,showSyopHeading:D,suggestionGroups:T,width:A})}var tb=n(319808),tE=n(792034);function tS(e){var t=e.url;return(0,tE.g3)({url:(0,tb.Z)(t)}),null}function tI(e){return(tI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==tI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tI(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tx=function(e){var t,n,o,d,p,f,g,h,m,y,v,b,E=e.handleIconOnlyChange,S=e.iconOnly,I=void 0!==S&&S,O=e.isPartner,P=void 0!==O&&O,T=e.widthType,A=void 0===T?"md":T,x=(0,l.v)().logContextEvent,w=(0,X.Z)(),j=(0,i.k6)(),R=(0,i.TH)(),D=(0,i.$B)().path,N=(0,k.F)().checkExperiment,C=tT((0,r.useTransition)(),2)[1],Z=(0,s.t)().isLensModalOpen,U=w.isAuth&&N("web_lens").anyEnabled;t=(0,X.Z)(),n=(0,B.B)().isBot,o=t.isAuth,d=t.isLimitedLogin,(0,_.Z)(o?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:q.lw.PINS},noCache:!0}:null),(0,_.Z)(n?null:{name:"SearchTabResource"}),(0,_.Z)(o&&!d?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:$.join(","),pin_preview_count:7}}}:null);var F=(0,V.Z)(R),z=F.query,G=F.scope,Q=F.rs,J=a.t.includes(Q)?"":z,ee=null!=J?J:"",et=tT((0,r.useState)(ee),2),en=et[0],er=et[1],ei=tT((0,r.useState)(),2),eo=ei[0],ea=ei[1],es=eo&&eo.query?eo.query:en,el=(p=(0,i.TH)(),f=(0,X.Z)(),h=(g=(0,eS.Z)(p.search)).ideas_referrer,m=g.view_parameter_type,h=parseInt(h,10),m=parseInt(m,10),y=f.isAuth&&p.pathname.startsWith("/".concat(f.username,"/")),v=f.isAuth&&p.pathname.startsWith("/recently-viewed"),b=3173===m&&(1===h||25===h),(y||v)&&!b),eu=null!=G?G:q.lw.PINS;el&&(eu=q.lw.PINS_MINE),eu===q.lw.PINS_BUYABLE&&(eu=q.lw.PINS);var ec=tT((0,r.useState)(eu),2),ed=ec[0],ep=ec[1],ef=w.isAuth&&ed===q.lw.PINS_MINE,e_=tT((0,r.useState)([]),2),eg=e_[0],eh=e_[1],em=tT((0,r.useState)(),2),ey=em[0],eb=em[1],eE=tT((0,r.useState)(!1),2),eO=eE[0],eP=eE[1],ex=tT((0,r.useState)(!1),2),ew=ex[0],ej=ex[1],eR=tT((0,r.useState)(!1),2),eD=eR[0],eN=eR[1],eC=tT((0,r.useState)(!1),2),eM=eC[0],eL=eC[1],ek=tT((0,r.useState)(!1),2),eZ=ek[0],eU=ek[1],eF=tT((0,r.useState)(0),2),eB=eF[0],ez=eF[1];function eH(){eb(void 0),ea(void 0)}var eG=ew||eM,eV=(0,K.I)(),eY=eV.setAppFocusState,eW=eV.toggleTypeaheadOverlay,eq=tT((0,r.useState)(),2),eX=eq[0],eK=eq[1],eQ=function(e){N("dweb_search_resource_fast_fetch").anyEnabled&&e&&eK(e)};(0,r.useEffect)(function(){eX&&eK(void 0)},[eX]);var e$=tT((0,r.useState)(I),2),eJ=e$[0],e0=e$[1];(0,r.useEffect)(function(){e0(I)},[I]);var e1=tT((0,r.useState)(!1),2),e2=e1[0],e3=e1[1],e4=tT((0,r.useState)(),2),e6=e4[0];!function(e){var t=e.setShouldHideGhostText,n=e.setSuggestionsMaxHeight;function r(){var e;t(360>=((null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0)),n(window.innerHeight-14-76)}(0,c.Z)(function(){return window.addEventListener("resize",r),r(),function(){window.removeEventListener("resize",r)}})}({setShouldHideGhostText:e3,setSuggestionsMaxHeight:e4[1]});var e5=w.isAuth&&"shrink"!==A&&(ee||el),e8="auto".includes(A)?"8px":0;e5&&(e8="4px");var e7=tT(function(e){var t=e.shouldHideGhostText,n=e.isSyop,r=e.inputFocused,i=(0,u.ZP)(),o=(0,X.Z)().isAuth,a=(0,_.Z)(o?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),s=o?i._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):i._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),l="";if(!t&&a.isLoaded&&a.data&&a.data.length>0){var c=a.data[0].text;l=a.data[0].query,s=c}return n&&(s=r?i._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):i._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[s,l,(0,ev.Z)()]}({shouldHideGhostText:e2,isSyop:ef,inputFocused:ew}),3),e9=e7[0],te=e7[1],tt=e7[2],tn=(0,r.useRef)();function tr(){var e=(0,Y.Z)(en);if(e.length){var t=(0,H.Z)({query:e,rs:W.i.AC,scope:q.lw.PINS_MINE});eQ(t),j.push(t)}}(0,r.useEffect)(function(){tn.current!==eG&&C(function(){eG?M.Z.pause():M.Z.resume(),eY(!eG),eG||(eH(),er(ee)),eW(eG),tn.current=eG})},[ee,eG,eY,eW]),(0,r.useEffect)(function(){er(ee),ep(eu),ej(!1),eL(!1)},[ee,eu]);var ti=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?97:101,i={};switch(en&&(i.entered_query=en,i.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":x({event_type:r,view_type:2,view_parameter:103,component:35,element:104,aux_data:tP({autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t},i)});var o=eI({suggestion:e,query:en,lastFocusTime:eB});ef&&"recent_query"===e.type&&(o=o.replace("pins","my_pins")),eQ(o),j.push(o);break;case"recent_save":j.push(e.url);break;case"enriched_autocomplete":case"board":case"user":x({event_type:r,view_type:2,view_parameter:103,component:35,element:104,aux_data:tP({autocomplete_type:e.type,result_index:t},i)}),eQ(e.url),j.push(e.url);break;case"explorearticle":26===e.story_category?x({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:tP({article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight"},i)}):x({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:tP({autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t},i)});var a=eI({suggestion:e,query:""});eQ(a),n&&j.push(a);break;case"todayarticle":x({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:tP({article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight"},i)}),n&&j.push(eI({suggestion:e,query:""}));break;case"syop_cta":tr()}eH(),ej(!1),eL(!1)},to=function(){if(es!==ee||ed!==eu){var e,t=(0,Y.Z)(es);if(t.length){var n=(0,H.Z)({query:t,rs:null!==(e=W.i.TYPED)&&void 0!==e?e:"",scope:ed});eQ(n),ej(!1),eL(!1),j.push(n)}}};return{allowLens:U,appliedQuery:ee,displayedQuery:es,earlyFetchSearchResourceUrl:eX,endPadding:e8,enteredQuery:en,enteredScope:ed,handleClearSearch:function(){if(er(""),ep(q.lw.PINS),eH(),w.isAuth&&ee){var e=(0,H.Z)({query:"",rs:W.i.REMOVE});j.push(e)}else P&&E&&E(!0)},handleInclusiveProductFilterClick:function(e,t,n){var r={};en&&(r.entered_query=en),x({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:tP({autocomplete_type:"query",result_index:t},r)});var i=eI({suggestion:e,query:en,lastFocusTime:eB,filterSelectedTerm:n});eQ(i),j.push(i)},handleInputBlur:function(e){var t=e.currentTarget;setTimeout(function(){t.contains(document.activeElement)||ej(!1)},0)},handleInputFocus:function(){ez(Date.now()),x({event_type:101,component:43,element:227}),ej(!0)},handleKeyDown:function(e){switch(e.keyCode){case L.Z.ENTER:var t=eT(eg,ey);eG&&t&&e.preventDefault(),t&&eO?(ti(t,t.resultIndex||0,!0),eP(!1)):to();break;case L.Z.ESCAPE:eG&&e.preventDefault(),e.stopPropagation(),ej(!1),eL(!1);break;case L.Z.UP:eG&&e.preventDefault();var n=tT(eA(eg,ey),2),r=n[0],i=n[1];eb(r),eP(!0),ea(i);break;case L.Z.DOWN:eG&&e.preventDefault();var o=tT(eA(eg,ey,!0),2),a=o[0],s=o[1];eb(a),eP(!0),ea(s);break;case L.Z.TAB:te&&!en&&eG&&(e.preventDefault(),e.stopPropagation(),er(te))}},handleScopeChange:function(e){ep(e),ej(P&&!en),eH()},handleSearchIconButtonClick:function(){ej(!0),e0(!1),E&&E(!1),P&&x({event_type:101,element:11809})},handleSuggestionSelect:ti,handleSyopCtaClick:tr,handleTextChange:function(e){er(e),eH()},handleTypedSearchSubmit:to,inputFocused:ew,isContentTypeFilterHovered:eZ,isCurrentlyOnLensPage:"/lens-search"===D,isInTypeaheadSession:eG,isLensModalOpen:Z,searchBoxHovered:eD,searchBoxPlaceholder:e9,setContentTypeFilterHovered:eU,setSearchBoxHovered:eN,setSuggestionsFocusIndex:eb,setSuggestionsHovered:eL,showContentTypeFilter:e5,showIconOnly:eJ,suggestedSearchTerms:tt,suggestionGroups:eg,suggestionsFocusIndex:ey,suggestionsMaxHeight:e6,updateSuggestionGroups:eh}};function tw(e){var t=e.handleIconOnlyChange,n=e.iconOnly,i=e.isPartner,a=void 0!==i&&i,s=e.widthType,l=void 0===s?"md":s,c=(0,k.F)().checkExperiment,f=(0,X.Z)(),_=(0,u.ZP)(),g=(0,B.B)().isRTL,h=tx({handleIconOnlyChange:t,iconOnly:void 0!==n&&n,widthType:l,isPartner:a}),m=h.allowLens,y=h.appliedQuery,v=h.displayedQuery,b=h.earlyFetchSearchResourceUrl,E=h.endPadding,S=h.enteredQuery,I=h.enteredScope,O=h.handleClearSearch,P=h.handleInclusiveProductFilterClick,T=h.handleInputBlur,A=h.handleInputFocus,x=h.handleKeyDown,w=h.handleScopeChange,j=h.handleSearchIconButtonClick,R=h.handleSuggestionSelect,D=h.handleSyopCtaClick,N=h.handleTextChange,M=h.handleTypedSearchSubmit,L=h.inputFocused,Z=h.isContentTypeFilterHovered,F=h.isInTypeaheadSession,H=h.isLensModalOpen,V=h.searchBoxHovered,Y=h.searchBoxPlaceholder,W=h.setContentTypeFilterHovered,q=h.setSearchBoxHovered,K=h.setSuggestionsFocusIndex,$=h.setSuggestionsHovered,J=h.showContentTypeFilter,ee=h.showIconOnly,et=h.suggestedSearchTerms,en=h.suggestionGroups,er=h.suggestionsFocusIndex,ei=h.suggestionsMaxHeight,ea=h.updateSuggestionGroups;if(ee&&!L&&!y&&!F)return(0,d.jsx)(o.xu,{"data-test-id":"search-box-container",id:"searchBoxContainer",children:(0,d.jsx)(o.hU,{accessibilityLabel:_._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",iconColor:"gray",onClick:j,size:"lg"})});var es=function(e){var t,n,r=e.suggestionsFocusIndex,i=eP(e.suggestionGroups);if("number"==typeof r){for(var o=i.length-1;o>=0;o-=1)if(r>=i[o]){t=o,n=r-i[o];break}}return"number"==typeof t&&"number"==typeof n?eO(t,n):""}({suggestionsFocusIndex:er,suggestionGroups:en}),el="shrink"===l?"".concat(80,"vw"):void 0,eu=l&&Object.keys(Q).includes(l)&&"shrink"!==l?Q[l]:"auto",ec=v||a&&J||F;return(0,d.jsxs)(r.Fragment,{children:[b&&(0,d.jsx)(tS,{url:b}),(0,d.jsx)(o.xu,{"data-test-id":"search-box-container",flex:"grow",id:"searchBoxContainer",minWidth:eu,paddingX:2,children:(0,d.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:V?G.w:G.S}},display:"flex",height:48,rounding:6,children:[(0,d.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:tP({padding:g?"0 16px 0 ".concat(E):"0 ".concat(E," 0 16px")},F?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{})},display:"flex",flex:"grow",height:"100%",onMouseEnter:function(){q(!0)},onMouseLeave:function(){q(!1)},position:"relative",children:[!(v||L)&&(0,d.jsx)(o.xu,{flex:"none",marginEnd:2,children:(0,d.jsx)(o.JO,{accessibilityLabel:_._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),(0,d.jsx)(z.Z,{dataTestId:"search-box-input",focusOptionId:es,isFocused:F,name:"searchBoxInput",onBlur:T,onChange:N,onFocus:A,onKeyDown:x,onSearchTrigger:M,placeholder:Y,searchBoxHovered:V,suggestedSearchTerms:et,value:v}),ec?(0,d.jsx)(o.xu,{flex:"none",marginStart:3,children:(0,d.jsx)(o.xu,{"data-test-id":"search-cancel",children:(0,d.jsx)(o.hU,{accessibilityLabel:_._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:y?"cancel":"clear",iconColor:"darkGray",onClick:O,size:y?"sm":"lg"})})}):null,c(f.isAuth?"web_auth_existing_search_query_layout_shift_fix":"web_unauth_existing_search_query_layout_shift_fix").anyEnabled||F?(0,d.jsx)(U,{children:(0,d.jsx)(tv,{active:F,focusIndex:er,maxHeight:ei,onInclusiveProductFilterClick:P,onMouseEnter:function(){return $(!0)},onMouseLeave:function(){return $(!1)},onSuggestionClick:R,onSuggestionGroupsUpdate:ea,onSuggestionHovered:function(e){return K(e)},onSyopCtaClick:D,query:S,scope:I,searchBoxHeight:52,suggestionGroups:en,width:el})}):null,m&&!S&&(0,d.jsx)(p,{showCancel:ec,viewType:2})]}),J?(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,d.jsx)(eo,{currentlySelectedFilter:I,currentQuery:y,handleContentTypeFilterHover:function(){a&&W(Z)},handleScopeChange:w})]}):null,H&&(0,d.jsx)(C,{})]})})]})}function tj(e){return(0,d.jsx)(em,{children:(0,d.jsx)(tw,tP({},e))})}},766323:function(e,t,n){n.d(t,{Mh:function(){return _},bp:function(){return m},vv:function(){return y}});var r=n(672652),i=n(328038),o=n(342513),a=n(340523),s=n(782005),l=n(624797),u=n(554786),c=n(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e){var t=e.url,n=(0,a.F)().checkExperiment,r=(0,u.HG)(),o=(0,i.TH)().search,c=(0,i.UO)().scope;if(t){var d=new URL(t),p=d.pathname.split("/");4===p.length&&"search"===p[1]&&(o=d.search,c=p[2])}var f=(0,l.mB)(o),_=f.auto_correction_disabled,g=f.b_id,h=f.brands,m=f.category,y=f.colors,v=f.commerce_only,b=void 0===v?"":v,E=f.cover_pin_sig,S=f.deb_d,I=f.domains,O=f.filters,P=f.guided_search_query,T=f.interest_id,A=f.journey_depth,x=f.on_sale,w=f.price_max,j=f.price_min,R=f.q,D=f.query_pin_sigs,N=f.rs,C=f.selected_one_bar_modules,M=f.source_module_id,L=f.style,k=f.tab,Z=f.user;return n("web_hundred_percent_product_load",{dangerouslySkipActivation:!0}).anyEnabled&&(c="true"===b.toLowerCase()?s.lw.PINS_BUYABLE:c),{autoCorrectionDisabled:"true"===(void 0===_?"":_).toLowerCase(),brands:h,bubbleId:g,category:m,colors:y,commerceOnly:"true"===b.toLowerCase(),coverPinSig:E,currentlyAppliedFiltersParamTerm:O,debD:S,domains:I,guidedSearchQuery:P,interestId:T,journeyDepth:A?parseInt(A,10):void 0,onSale:x,personalizationPinSig:D,placementId:(0,s.Hd)(c,r),priceMax:w,priceMin:j,query:R,rs:N,scope:c,selectedOneBarModules:C,sourceModuleId:M,style:L,tab:k||"",user:Z,viewParameter:(0,s._R)(c),viewType:2}}var g=(0,o.Z)("SearchParams"),h=g.Provider,m=g.useHook,y=function(e){var t=e.children,n=e.value,i=_({}),o=(0,r.useMemo)(function(){return f(f({},i),n)},[i,n]);return(0,c.jsx)(h,{value:o,children:t})}},930493:function(e,t,n){n.d(t,{W:function(){return u},Z:function(){return d}});var r=n(672652),i=n(684404),o=n(214877),a=n(200397),s=n(140017),l=n(819267),u=[["skinTone1","skinTone2","skinTone3","skinTone4"],["skinTone5","skinTone6","skinTone7","skinTone8"],["skinTone9","skinTone10","skinTone11","skinTone12"],["skinTone13","skinTone14","skinTone15","skinTone16"]],c=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function d(e){var t=e.currentlyAppliedFiltersParamTerm,n=e.filterTones,d=e.onClickApplyFilters,p=e.query,f=e.showHeaderText,_=void 0===f||f,g=(0,o.v)().logContextEvent,h=(0,s.ZP)(),m=(0,r.useRef)(null),y=(0,r.useRef)(null),v=function(e){var n,r=t===e?"":e;g({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:p,filter_type:"skin_tone",value:r}}),null===(n=y.current)||void 0===n||n.complete(),d(r)},b=t?h._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):h._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text');return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(i.kC,{alignItems:_?"center":"start",direction:"column",justifyContent:"start",children:[_&&(0,l.jsx)(i.xu,{marginBottom:2,children:(0,l.jsx)(i.xv,{color:"default",overflow:"normal",weight:"bold",children:b})}),(0,l.jsx)(i.xu,{ref:m,display:"flex",flex:"none",paddingX:1,children:(void 0===n?c:n).map(function(e,n){var r=e.term,o=e.display;return(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},"data-test-id":"skin-tone-option",children:(0,l.jsx)(i.Fm,{color:u[n],onClick:function(){return v(r)},selected:t===r,size:"lg",text:o})},r)})})]}),m&&(0,l.jsx)(a.Z,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:function(e){e.complete&&502978===e.experience_id&&(y.current=e)},placementId:29})]})}},792034:function(e,t,n){n.d(t,{ZP:function(){return m},_V:function(){return v},d0:function(){return g},g3:function(){return y}});var r=n(328038),i=n(52197),o=n(340523),a=n(5859),s=n(757640),l=n(660980),u=n(203381),c=n(414630),d=n(782005),p=n(554786),f=n(760101),_=n(766323),g=function(e){return e?{page_size:"14"}:{page_size:"25"}};function h(e){var t=e.appliedFilters,n=e.autoCorrectionDisabled,i=e.bubbleId,_=e.currentlyAppliedFiltersParamTerm,h=e.guidedSearchQuery,m=e.inGlobalSearch,y=e.initialCategory,v=e.initialDomains,b=e.initialMaxPrice,E=e.initialMinPrice,S=e.journeyDepth,I=e.personalizationPinSig,O=e.query,P=e.rs,T=e.scope,A=e.selectedOneBarModules,x=e.sourceModuleId,w=e.user,j=(0,o.F)().checkExperiment,R=(0,a.B)().isAuthenticated,D=(0,r.TH)().search,N=(0,p.HG)(),C=!R||!N,M=(0,f.Z)(),L=C;C&&(L=!!R&&!j("unify_search_resource_auth_mweb").anyEnabled);var k=null;!N&&M&&(k=g(R));var Z=null==A?void 0:A.split(",");if(m)U=(0,c.Ht)({autoCorrectionDisabled:n,filters:_,journeyDepth:S,query:O,scope:T,selectedOneBarModules:Z,selectedPinImgSig:I,sourceModuleId:x});else{var U,F,B={autoCorrectionDisabled:n,bubbleId:i,filters:_,guidedSearchQuery:h,journeyDepth:S,query:O,rs:P,scope:T,selectedOneBarModules:Z,selectedPinImgSig:I,sourceModuleId:x,user:w};t&&(B.appliedFilters=t),B.appliedProductFilters=(0,l.Z)({category:y,domains:v,maxPrice:b,minPrice:E}),C&&(B.domains=v,B.pageSize=null===(F=k)||void 0===F?void 0:F.page_size,B.priceMax=b?parseInt(b,10):void 0,B.priceMin=E?parseInt(E,10):void 0,B.topPinId=(0,u.Z)(D,T)),U=(0,c.Ht)(B)}var z=T===d.lw.USERS&&!C||L;return(0,s.Z)(z?null:U)}function m(){var e=(0,_.bp)(),t=e.autoCorrectionDisabled,n=e.bubbleId,r=e.category,o=e.currentlyAppliedFiltersParamTerm,a=e.domains,s=e.guidedSearchQuery,l=e.inGlobalSearch,u=e.journeyDepth,c=e.personalizationPinSig,d=e.priceMax,p=e.priceMin,f=e.query,g=e.rs,m=e.scope,y=e.selectedOneBarModules,v=e.sourceModuleId,b=e.user;return h({appliedFilters:(0,i.Z)(),autoCorrectionDisabled:t,bubbleId:n,currentlyAppliedFiltersParamTerm:o,guidedSearchQuery:s,inGlobalSearch:l,initialCategory:r,initialDomains:a,initialMaxPrice:d,initialMinPrice:p,journeyDepth:u,personalizationPinSig:c,query:f,rs:g,scope:m,selectedOneBarModules:y,sourceModuleId:v,user:b})}function y(e){var t=e.url,n=e.appliedFilters,r=(0,_.Mh)({url:t}),i=r.autoCorrectionDisabled,o=r.bubbleId,a=r.category,s=r.currentlyAppliedFiltersParamTerm,l=r.domains,u=r.guidedSearchQuery,c=r.inGlobalSearch,d=r.journeyDepth,p=r.personalizationPinSig;return h({appliedFilters:n,autoCorrectionDisabled:i,bubbleId:o,currentlyAppliedFiltersParamTerm:s,guidedSearchQuery:u,inGlobalSearch:c,initialCategory:a,initialDomains:l,initialMaxPrice:r.priceMax,initialMinPrice:r.priceMin,journeyDepth:d,personalizationPinSig:p,query:r.query,rs:r.rs,scope:r.scope,selectedOneBarModules:r.selectedOneBarModules,sourceModuleId:r.sourceModuleId,user:r.user})}function v(e){return y({url:e.url,appliedFilters:(0,i.Z)()})}},622350:function(e,t,n){n.d(t,{GB:function(){return _},ZP:function(){return f},q0:function(){return p}});var r=n(684404),i=n(339001),o=n(203966),a=n(427514),s=n(702497),l=n(843964),u=n(622270),c=n(961936),d=n(819267),p=function(e){return e._('Not a valid URL.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid URL was entered to create a Pin')};function f(e){var t=e.dispatchId,n=e.errorId,l=e.i18n,f=e.ideaPinRenamingEnabled,_=e.options,g=(0,u.Z)(n,l,t,_);if("GENERAL_ERROR"!==g.id)return g;switch(n){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:l._('Ooops! This description is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when description is greater than maximum character count.')};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:t,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:l._('Ooops! Too many user mentions. Try keeping it to 5 max.', 'pinBuilder.errorMessaging.descriptionMentionLimit', 'Error message when description contains more user mentions than maximum allowed count.')};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:l._('Ooops! This title is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when title is greater than maximum character count.')};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:t,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:l._('This image does not have the recommended aspect ratio.', 'storyPinBuilder.errorMessaging.message', 'Signal message when uploading an image that does not have the recommended aspect ratio.')};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:t,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:l._('You can\'t tag from the same page twice.', 'storyPinBuilder.errorMessaging.message', 'Error message for using the same product link twice on a Pin tag'),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:t,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:l._('You\'ve reached the maximum number of products for a tag.', 'storyPinBuilder.errorMessaging.message', 'Error message when user attempts to add more than 8 products to a tag'),blocking:!0};case"BOARD_MISSING":return{dispatchId:t,id:"BOARD_MISSING",type:"error",message:l._('A board is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a board is required to create a Pin'),blocking:!0};case"DATE_IN_PAST":return{dispatchId:t,id:"DATE_IN_PAST",type:"error",message:l._('A future date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the date is in the past for a scheduled Pin.'),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:t,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:l._('Make sure you schedule a Pin less than 30 days in the future.', 'storyPinBuilder.errorMessaging.30DayMessage', 'Error message indicating the date is too far in the future for a scheduled Pin.'),blocking:!0};case"DATE_MISSING":return{dispatchId:t,id:"DATE_MISSING",type:"error",message:l._('A date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a date is required to schedule a Pin.'),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:t,id:"DESCRIPTION_INVALID",type:"error",message:l._('The description is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid description was entered to create a Pin'),blocking:!0};case"MEDIA_MISSING":return{dispatchId:t,id:"MEDIA_MISSING",type:"error",message:l._('An image is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an image, video, or website is required to create a Pin.'),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:t,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:l._('Showcase ads don\u2019t currently support video. To continue, please upload an image.', 'showcasePinBuilder.errorMessaging.message', 'Error message for uploading the wrong format for showcase ads.'),blocking:!0};case"TAG_INVALID":return{dispatchId:t,id:"TAG_INVALID",type:"error",message:l._('You can only tag images linking to your claimed website.', 'storyPinBuilder.errorMessaging.message', 'Error message for entering a link you have not claimed.'),blocking:!0};case"TAG_EMPTY":return{dispatchId:t,id:"TAG_EMPTY",type:"error",message:l._('You must tag at least one feature Pin to continue.', 'storyPinBuilder.errorMessaging.message', 'Error message for not tagging at least one product on a showcase ad.'),blocking:!0};case"TIME_MISSING":return{dispatchId:t,id:"TIME_MISSING",type:"error",message:l._('A time is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a time is required to schedule a Pin.'),blocking:!0};case"TITLE_INVALID":return{dispatchId:t,id:"TITLE_INVALID",type:"error",message:l._('The title is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid title was entered to create a Pin'),blocking:!0};case"URL_INVALID":return{dispatchId:t,id:"URL_INVALID",type:"error",message:p(l),blocking:!0};case"URL_MISSING":return{dispatchId:t,id:"URL_MISSING",type:"error",message:l._('URL is required.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL is required to create a Pin'),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:t,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,i.nk)(l._('Some nudity is okay for Pinterest, some isn\'t. Make sure you understand {{ policy_link }}', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL entered is a porn domain.'),{policy_link:(0,d.jsx)(r.rU,{display:"inlineBlock",href:s.MsG,target:"blank",underline:"hover",children:(0,d.jsx)(r.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:l._('our policies', 'Link to policy page', 'Link to policy page')})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:t,id:"URL_IS_TOO_LONG",type:"error",message:(0,a.Z)(l._('Please shorten the link to {{ maxLength }} characters or fewer.', 'pinbuilder.urlIsTooLong.errorMessage', 'Error message indicating a URL is too long to create a Pin. maxLength: max number of chars in the link'),{maxLength:o.cH}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:t,id:"URL_IS_BLOCKED",type:"error",message:l._('This link is blocked because it may not meet our content policies.', 'pinbuilder.blockedUrl.errorMessage', 'Error message indicating a URL is blocked because it may not meet our content policies'),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:t,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:l._('Carousel images must have the same height and width', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a carousel with different sizes'),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:t,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:l._('Carousels can only contain images', 'storyPinBuilder.errorMessaging.message', 'Error message when attempting to add a non-image file type to a carousel'),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:t,id:"URL_IS_REDIRECT",type:"error",message:l._('URL is a redirect.  Please enter a URL without a redirect.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL with a redirect was entered'),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:t,id:"URL_UNREACHABLE",type:"error",message:l._('URL is unreachable.  Please check that it is correct.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL specified is unreachable.'),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:l._('Edit the image on the cover page to have a 9:16 ratio', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio.'),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:f?l._('Please provide an image for the cover page of your Pin', 'storyPinBuilder.errorMessaging.storypinCoverPageImageMissing', 'Error message indicating that the cover page of a Pin is missing an image'):l._('Please provide an image for the cover page of your Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page of a Idea Pin is missing an image')};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:t,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:f?l._('Cannot save Pin without signature set on cover', 'storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing', 'Error message indicating that the cover page is missing the signature'):l._('Cannot save Idea Pin without signature set on cover', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page is missing the signature')};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:f?l._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing', 'Error message indicating the cover page of a Pin is missing a title.'):l._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:t,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:f?l._('Cannot save Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing', 'Error message indicating that signatures are missing on media blocks/items'):l._('Cannot save Idea Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that signatures are missing on media blocks/items')};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:t,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:f?l._('Create at least 2 pages to publish a Pin', 'storyPinBuilder.errorMessaging.storyPinNotEnoughPages', 'Error message indicating the Pin is too short.'):l._('Create at least 2 pages to publish an Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is too short.'),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,i.nk)(l._('You have reached the limit of {{draftMaxCount}} drafts.', 'storyboard.errorMessaging.message.draftLimitError', 'Upload attempt error message when users reached max number of drafts allowed. draftMaxCount: max number of drafts'),{draftMaxCount:c.in}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,i.nk)(l._('You can only upload {{multiUploadMaxCount}} drafts at once.', 'storyboard.errorMessaging.message.multiUploadMaxError', 'Error message when users multi upload more than the max allowed. multiUploadMaxCount: max number of multi uploaded'),{multiUploadMaxCount:c.Af}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:t,id:"STORY_PIN_TITLE_MISSING",type:"error",message:f?l._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinTitleMissing', 'Error message indicating the Pin is missing a title.'):l._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var h=Math.floor(o.W_);return{dispatchId:t,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.nk)(l.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', h, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file that is longer than the allowed duration'),{minVideoLengthSeconds:h}).join(""),blocking:!0};case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:t,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:l._('The cover page cannot contain a video', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Story Pin contains a video.'),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var m=o.Lr/1024/1024;return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.nk)(l.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', m, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file larger than required megabytes.'),{maxVideoFileSize:m}).join(""),blocking:!0};case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:l._('Ooops! This alt text is getting long. Try trimming it down.', 'pinBuilder.errorMessaging.message', 'Error message when alt text is greater than maximum character count.')};default:return{dispatchId:t,id:"GENERAL_ERROR",type:"error",message:l._('Hmm, something went wrong. Please try again.', 'storyPinBuilder.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}function _(e,t,n){n({event_type:7564,view_type:212,component:(0,l.Z)().includes("create")?13762:13308,aux_data:{error_message:t,error_id:e}})}},800516:function(e,t,n){var r=(0,n(746074).P1)(function(e){return e.boards},function(e){return Object.keys(e).reduce(function(t,n){var r,i=e[n];t[null!==(r=i.url)&&void 0!==r?r:""]=i;var o=i.oldSlugUrl;return o&&(t[o]=i),t},{})});t.Z=r},961936:function(e,t,n){n.d(t,{Af:function(){return c},Ei:function(){return l},II:function(){return v},Lh:function(){return g},U:function(){return f},Zy:function(){return s},dD:function(){return o},er:function(){return _},hb:function(){return m},in:function(){return u},j7:function(){return h},kX:function(){return d},mx:function(){return y},n5:function(){return a},q8:function(){return p},xH:function(){return i}});var r=n(749886),i=1048576,o=3,a=20,s=3,l=10,u=50,c=10,d=1200,p=375,f=375/r.ap,_=1200,g="#FFFFFF",h={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},m=420,y=325,v=768},454051:function(e,t,n){function r(e,t){return t?"".concat(e,"?").concat(new URLSearchParams(t).toString()):e}function i(e){return r("/admin/",e)}function o(e){return r("/admin/oauth/logout/",e)}function a(e){return r("/today/",e)}n.d(t,{HF:function(){return i},Kn:function(){return o},tG:function(){return a}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/96620-b426da9da0fe2170.js.map