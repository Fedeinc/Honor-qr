"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3642],{705895:function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n,e){return(n=o(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function o(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!==e(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===e(n)?n:String(n)}var i=new(function(){var t;function n(){!function(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")}(this,n),r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}return t=[{key:"setExperiment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inExp=t}},{key:"onSessionResume",value:function(t){return this.onResumeListeners.push(t),this}},{key:"onSessionPause",value:function(t){return this.onPauseListeners.push(t),this}},{key:"removeResumeListener",value:function(t){this.onResumeListeners.filter(function(n){return n!==t})}},{key:"removePauseListener",value:function(t){this.onPauseListeners=this.onPauseListeners.filter(function(n){return n!==t})}},{key:"getAppState",value:function(){return this.windowInFocus?0:void 0}}],function(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}()),a=function(t){if(t.isHidden){var n=t.reason;i.windowInFocus=!1,i.onPauseListeners.forEach(function(t){return t(n)})}else i.windowInFocus=!0,i.onResumeListeners.forEach(function(t){return t()})};setTimeout(function(){window.addEventListener("beforeunload",function(){return a({isHidden:!0,reason:"beforeunload"})}),window.addEventListener("focus",function(){return a({isHidden:!1})}),window.addEventListener("blur",function(){return a({isHidden:!0,reason:"blur"})}),window.addEventListener("pageshow",function(){return a({isHidden:!1})}),window.addEventListener("pagehide",function(){return a({isHidden:!0,reason:"pagehide"})}),void 0!==document.hidden?document.addEventListener("visibilitychange",function(){return a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",function(){return a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1)},0),n.Z=i},107981:function(t,n,e){var r=(0,e(672652).createContext)(null);n.Z=r},95732:function(t,n,e){var r=(0,e(672652).createContext)(null);n.Z=r},603642:function(t,n,e){e.d(n,{Z:function(){return tw}});var r=e(672652),o=e(705895),i=e(685679),a=e(608029),c=e(297329),u=e(107860),s=e(906623),l=e(521525),f=e(819281),d=e(793250),p=e(309300);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function v(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?y(Object(e),!0).forEach(function(n){var r,o;r=n,o=e[n],(r=function(t){var n=function(t,n){if("object"!==m(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===m(n)?n:String(n)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}var g=function(t){var n=t.constraintMap,e=t.initialNavTiming;return v(v(v(v({},t.annotations),(0,p.jh)("constraint_",n)),(0,p.jh)("mark_",(0,u.gQ)())),(0,p.jh)("browser_",v(v({},e?(0,p.D3)(e):{}),(0,p.rX)())))},b=e(840387);function S(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}var h=function(t,n){var e;return function(t){if(Array.isArray(t))return S(t)}(e=t.map(function(t){return(0,b.Z)(t,n)}).filter(Boolean))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,n){if(t){if("string"==typeof t)return S(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return S(t,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},w=e(302234),T=e(663678),E=e(953565);function A(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return O(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return O(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var I=function(t){var n=t.eventPrefix,e=t.endTime,r=t.tags,o=t.resourceArr,i=t.resourceType,a=void 0===i?"allResources":i,c=o.length;if(c>0&&"object"===_(o[0])&&!Array.isArray(o[0])){for(var u=A(o).sort(function(t,n){return t.fetchStart-n.fetchStart}),s=A(o).sort(function(t,n){return t.responseEnd-n.responseEnd}),l=1,f=e/5,d=0;l<=5;){for(var p=0;d<=c-1&&u[d].fetchStart<=f*l;)d+=1,p+=1;(0,E.S0)("".concat(n,".tags.").concat(a,".fetchStartInterval").concat(l,"of5"),p,{sampleRate:.2,tags:r}),(0,E.S0)("".concat(n,".").concat(a,".fetchStartInterval").concat(l,"of5"),p,{sampleRate:.2}),l+=1}var m={zeroPercentInFlight:u[0].fetchStart,twentyFivePercentInFlight:u[Math.floor(c/4)].fetchStart,fiftyPercentInFlight:u[2*Math.floor(c/4)].fetchStart,seventyFivePercentInFlight:u[3*Math.floor(c/4)].fetchStart,hundredPercentInFlight:u[c-1].fetchStart,twentyFivePercentComplete:s[Math.floor(c/4)].responseEnd,fiftyPercentComplete:s[2*Math.floor(c/4)].responseEnd,seventyFivePercentComplete:s[3*Math.floor(c/4)].responseEnd,hundredPercentComplete:s[c-1].responseEnd};for(var y in m)m[y]&&((0,E.LY)("".concat(n,".tags.").concat(a,".").concat(y),m[y],{sampleRate:.2,tags:r}),(0,E.LY)("".concat(n,".").concat(a,".").concat(y),m[y],{sampleRate:.2}))}},P=function(t){var n,e=t.annotateExperiments,r=t.endTime,o=t.entries,i=t.metricId,a=t.pwtStaticContext,c="".concat((0,T.Z)(a),".").concat(i.surface),u=[c];e&&e.forEach(function(t){var n=a.getExperimentGroup(t)||"null";u.push("".concat(c,".").concat(t,".").concat(n))});var s={lcpTimingBucket:((n=(0,w.Bn)())<=2500?"Good":n>2500&&n<=4e3?"Needs Improvement":"Poor")||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},l=Array.from(o.filter(function(t){return"number"==typeof t.encodedBodySize&&t.encodedBodySize>=1e4&&t.responseEnd<=r})),f=[],d=[],p=[],m=[],y=[];l.forEach(function(t){"img"===t.initiatorType?f.push(t):"css"===t.initiatorType?d.push(t):"script"===t.initiatorType?p.push(t):"xmlhttprequest"===t.initiatorType?m.push(t):"link"===t.initiatorType&&t.name.includes("i.pinimg.com")&&y.push(t)}),u.forEach(function(t){I({eventPrefix:t,endTime:r,tags:s,resourceArr:l}),I({eventPrefix:t,endTime:r,tags:s,resourceArr:f,resourceType:"image"}),I({eventPrefix:t,endTime:r,tags:s,resourceArr:d,resourceType:"css"}),I({eventPrefix:t,endTime:r,tags:s,resourceArr:p,resourceType:"scripts"}),I({eventPrefix:t,endTime:r,tags:s,resourceArr:m,resourceType:"xhr"}),I({eventPrefix:t,endTime:r,tags:s,resourceArr:y,resourceType:"preloadedImage"})})},j=e(279600),C=function(t,n){var e=t.startTime,r=t.responseEnd;return e>n.endTime||!!r&&r<n.startTime},M=function(t){var n,e=t.annotateExperiments,r=t.annotations,o=t.binaryAnnotations,i=t.constraintMap,a=t.endTime,c=t.imageTimings,u=t.metricId,s=t.pwtStaticContext,p=t.startTime,m=t.traceId,y=t.spans,v=(0,j.Cg)();"initial_app_load"===u.navigationType&&(n=(0,f.Z)());var b=c.map(function(t){return t.name}),S=v.map(function(t){return(0,d.p)(t,b)}).filter(function(t){return!C(t.timing,{startTime:p,endTime:a})});return("board"===u.surface||"pin_closeup"===u.surface)&&P({annotateExperiments:e,endTime:a,entries:v,metricId:u,pwtStaticContext:s}),{type:"COMPLETE",traceId:m,startTime:p,endTime:a,spans:h(S,m).concat(y),annotationMap:g({constraintMap:i,initialNavTiming:n,annotations:r}),binaryAnnotationMap:(0,l.rA)({annotateExperiments:e,binaryAnnotations:o,entries:v,metricId:u,performanceResources:S,pwtEndTime:a,pwtStaticContext:s})}},L=e(404373),N=!1,x=function(t,n){if(t&&n){if(!N)return N=!0,n;(0,c.H)("duplicated_initial_app_load_surface_pwt")}return(0,L.Z)()},R=e(363404),H=e(991323),k=e(438555),D=e(367180);function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t){return function(t){if(Array.isArray(t))return z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return z(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return z(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function U(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function q(t,n,e){var r;return(r=function(t,n){if("object"!==Z(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!==Z(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(n,"string"),(n="symbol"===Z(r)?r:String(r))in t)?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var G=function(t){var n=performance.getEntriesByType("resource").filter(function(t){return t.name.includes("i.pinimg")}).reduce(function(t,n){var e=n.name.replace(".jpg","").split("/");return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?U(Object(e),!0).forEach(function(n){q(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):U(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}(q({},e[e.length-1],{downloadSize:n.name.split("/")[3].split("x")[0]}),t)},{}),e=Array.from(document.getElementsByTagName("img")).map(function(t){var e=t.src.replace(".jpg","").split("/"),r=e[e.length-1];if(n[r]){var o,i=(null===(o=(0,D.rZ)(t))||void 0===o?void 0:o.width)||1,a=n[r].downloadSize;return{fileName:r,renderedSize:i,downloadedSize:a,ratio:a/i}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}}),r=Array.from(document.querySelectorAll('div[role="img"]')).map(function(t){var e=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),r=e[e.length-1];if(n[r]&&t instanceof HTMLDivElement){var o,i=(null===(o=(0,D.rZ)(t))||void 0===o?void 0:o.width)||1,a=n[r].downloadSize;return{fileName:r,renderedSize:i,downloadedSize:a,ratio:a/i}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}});[].concat(B(e),B(r)).forEach(function(n){var e=n.ratio,r=n.fileName,o=n.downloadedSize;n.ratio>1.05&&(0,c.A9)("checkImageRatio.".concat(t),{count:Math.round(10*e)/10,tags:{fileName:"".concat(o,"_").concat(r)}})})},F=e(970126),V=e(5859),W=function(t,n){var e=(0,r.useRef)(n);return{getState:function(){return e.current},dispatch:function(n){e.current=t(e.current,n)}}},Y=e(184960),K=e(819267),$=["children"];function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],!(n.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function Q(t){return function(t){if(Array.isArray(t))return tt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return tt(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return tt(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function tn(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function te(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?tn(Object(e),!0).forEach(function(n){tr(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):tn(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function tr(t,n,e){return(n=to(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function to(t){var n=function(t,n){if("object"!==J(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!==J(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===J(n)?n:String(n)}var ti=["initial_app_load","client_route_push"],ta=(0,a.XV)("PwtSurface"),tc="NavigationComplete",tu="VisuallyComplete",ts=function(t,n){t.isSampled&&(0,R.Z)({metricId:t.metricConfig.metricId,pwtStaticContext:t.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:n}})},tl=function(t,n,e){var r,o=t.metricConfig,a=o.metricId,s=o.pwtStaticContext,l=o.annotateExperiments,f=t.annotations,d=t.binaryAnnotations,p=t.constraintMap,m=t.startTime,y=t.imageTimings,v=t.isSampled,g=t.spans;(0,u.L8)("PWT_Complete_".concat((0,i.KJ)(a)));var b=x("initial_app_load"===a.navigationType,null===(r=s.serverData)||void 0===r?void 0:r.trace_id),S=M({annotateExperiments:l,annotations:f,binaryAnnotations:d,constraintMap:p,endTime:n,imageTimings:y,metricId:a,pwtStaticContext:s,startTime:m,traceId:b,spans:g});v&&!e&&(0,R.Z)({metricId:a,pwtStaticContext:s,result:S});try{G(String(S.binaryAnnotationMap["metricId.surface"].value))}catch(t){(0,c.H)("image_ratio_check_error",{error:t})}return te(te({},t),{},{result:S,status:"DONE"})},tf=function(t,n){if(t.metricConfig.constraints.every(function(n){return t.constraintMap[n]})){var e=Math.max.apply(Math,Q(t.metricConfig.constraints.map(function(n){return t.constraintMap[n]})));return tl(t,e,n)}return ta("Remaining constraints: ".concat(t.metricConfig.constraints.filter(function(n){return!t.constraintMap[n]}).join(", "))),t},td=function(t,n){var e=n.constraint,r=n.time,o=n.disablePWTLogging,a=(0,i.KJ)(t.metricConfig.metricId);return F.Z?t.metricConfig.constraints.find(function(t){return t===e})?t.constraintMap[e]?(ta('constraint "'.concat(e,'" is already complete.')),(0,c.H)("duplicated_constraint_complete",{constraint:e,action:a}),t):(ta('marking constraint "'.concat(e,'" as complete')),(0,u.ZP)("constraint_".concat(e,"_is_complete")),tf(te(te({},t),{},{constraintMap:te(te({},t.constraintMap),{},tr({},e,r||F.Z.now()))}),o)):(ta('marked constraint "'.concat(e,'" is not a required constraint.')),t):((0,c.H)("missing_window_performance",{action:a}),t)},tp=function(t,n){if(!F.Z){var e=(0,i.KJ)(t.metricConfig.metricId);(0,c.H)("missing_window_performance",{action:e})}ta('removing constraint "'.concat(n,'"'));var r=t.metricConfig.constraints.filter(function(t){return t!==n}),o=t.constraintMap,a=(o[n],X(o,[n].map(to)));return tf(te(te({},t),{},{constraintMap:a,metricConfig:te(te({},t.metricConfig),{},{constraints:r})}))},tm=function(t,n){if(!F.Z){var e=(0,i.KJ)(t.metricConfig.metricId);(0,c.H)("missing_window_performance",{action:e})}ta('updating pwt segment to "'.concat(n,'"'));var r=te(te({},t.metricConfig.metricId),{},{segment:n});return te(te({},t),{},{metricConfig:te(te({},t.metricConfig),{},{metricId:r})})},ty=function(t,n){var e,r,o,a,u=n.metricConfig,s=n.startTime,l=n.isSampled,f=n.disablePWTLogging;if(f||"TIMING"!==t.status||s===t.startTime||ts(t,"routeUpdatedOnSameSurface"),!u)return{status:"DISABLED",metricConfig:null};var d=(0,i.KJ)(u.metricId);return"TIMING"===t.status&&t.startTime===s&&t.constraintMap[tc]?((0,c.H)("duplicated_init_route_action",{action:d}),t):(f||("Other"===u.pwtStaticContext.browserName&&!1===u.metricId.isAuthenticated&&"initial_app_load"===u.metricId.navigationType?((0,c.A9)("TIMING.".concat(d),{tags:{userAgent:null===(e=window)||void 0===e?void 0:null===(r=e.navigator)||void 0===r?void 0:r.userAgent}}),(0,c.A9)("TIMING.sampled.".concat(d),{tags:{userAgent:null===(o=window)||void 0===o?void 0:null===(a=o.navigator)||void 0===a?void 0:a.userAgent},sampleRate:.5})):((0,c.A9)("TIMING.".concat(d)),(0,c.A9)("TIMING.sampled.".concat(d),{sampleRate:.5}))),td({status:"TIMING",metricConfig:u,startTime:s,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:l,spans:[]},{constraint:tc,disablePWTLogging:f}))},tv=function(t,n){if(ta("dispatch action",n),"INIT_ROUTE"===n.type)return ty(t,n.payload);if("TIMING"!==t.status)return ta("ignoring action due to invalid state ".concat(t.status),n),t;switch(n.type){case"ABORT":ts(t,n.reason);var e={type:"ABORT",reason:n.reason};return te(te({},t),{},{status:"DONE",result:e});case"ANNOTATE":var r=n.payload.name;if(!F.Z)return t;var o=F.Z.now();return ta("adding annotation {".concat(r,": ").concat(o,"}")),te(te({},t),{},{annotations:te(te({},t.annotations),tr({},r,o))});case"BINARY_ANNOTATE":var a=n.payload,u=a.name,s=a.value,l=a.annotationType;return ta("adding binary annotation {".concat(u,": ").concat(s,"}")),te(te({},t),{},{binaryAnnotations:te(te({},t.binaryAnnotations),tr({},u,{value:s,type:l}))});case"MARK_CONSTRAINT_COMPLETE":return td(t,n.payload);case"REMOVE_CONSTRAINT":return tp(t,n.payload);case"SET_SEGMENT":return tm(t,n.payload);case"SET_VISUALLY_COMPLETE_RESULT":var f=n.payload.imageTimings;if(0===f.length)return ts(t,"visuallyComplete_noImages"),te(te({},t),{},{status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}});var d=Math.max.apply(Math,Q(f.map(function(t){return t.responseEnd||0})));return td(te(te({},t),{},{imageTimings:f}),{constraint:tu,time:d});case"ADD_SUBSPAN":var p=t.startTime,m=n.payload,y=m.name,v=m.startTime,g=m.endTime,b=m.annotations,S=m.binaryAnnotations,h=m.parentId;return te(te({},t),{},{spans:[].concat(Q(t.spans),[{name:y,id:(0,L.Z)(),startTime:v||p,endTime:g,annotationMap:te({},b),binaryAnnotationMap:te({},S),parentId:h}])});case"START_SUBSPAN":return te(te({},t),{},{spans:[].concat(Q(t.spans),[{name:n.payload.name,id:(0,L.Z)(),startTime:F.Z?F.Z.now():0,endTime:1/0,annotationMap:te({},n.payload.annotations),binaryAnnotationMap:te({},n.payload.binaryAnnotations),parentId:n.payload.parentId}])});case"STOP_SUBSPAN":var w=t.spans.findIndex(function(t){return t.name===n.payload.name});return w>-1?(t.spans[w].endTime=F.Z?F.Z.now():0,n.payload.annotations&&(t.spans[w].annotationMap=te(te({},t.spans[w].annotationMap),n.payload.annotations)),n.payload.binaryAnnotations&&(t.spans[w].binaryAnnotationMap=te(te({},t.spans[w].binaryAnnotationMap),n.payload.binaryAnnotations))):(0,c.H)("invalid_subspan_stop_name",{name:n.payload.name}),t;default:var T=(0,i.KJ)(t.metricConfig.metricId);return(0,c.H)("invalid_pwt_surface_action",{action:T}),t}},tg=function(t){if(!t)return"initial_app_load";switch(t.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},tb=new Set,tS=function(t){var n=t.surface,e=t.constraints,i=t.segment,a=t.measureGridVisuallyComplete,c=t.annotateExperiments,u=t.customEnabledNavigationTypes,s=t.navigationInfo,l=s.clientNavigation,f=s.navigationType,d=t.sampleRate,p=(0,r.useRef)("NOT_SET"),m=(0,k.Z)(),y=W(tv,{status:"DISABLED",metricConfig:null}),v=y.getState,g=y.dispatch,b=(0,V.B)();if(p.current!==l&&(p.current=l,m)){var S=m.isAuthenticated,h=n&&f&&(u||ti).includes(f)?{metricId:{type:"surface",surface:n,navigationType:f,isAuthenticated:S,segment:i},annotateExperiments:c,constraints:[tc].concat(Q(e||[]),Q(a?[tu]:[])),pwtStaticContext:m}:null;(0,E.nP)("webapp.pwt_surface.init_route",{tags:{surface:n,navigationType:f,isAuthenticated:S}});var w=!tb.has(l);g({type:"INIT_ROUTE",payload:{metricConfig:h,startTime:l?l.time:0,isSampled:!d||Math.random()<d,disablePWTLogging:!w}}),w&&tb.add(l)}var T=v();if((0,r.useEffect)(function(){return function(){tb.delete(l)}},[l]),(0,r.useEffect)(function(){var t=function(t){g({type:"ABORT",reason:t})};o.Z.onSessionPause(t);var n=window.innerHeight,e=window.innerWidth,r=function t(){var r,o,i,a=Math.abs(window.innerHeight-n),c=Math.abs(window.innerWidth-e),u=window.innerHeight!==n,s=window.innerWidth!==e,l={handler:(0,Y.H)(),deviceType:null!==(r=null==m?void 0:m.deviceType)&&void 0!==r?r:"unknown",isAuthenticated:null!==(o=null==m?void 0:m.isAuthenticated)&&void 0!==o?o:"unknown",platform:null!==(i=b.userAgent.platform)&&void 0!==i?i:"unknown"};if((0,E.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:te(te({},l),{},{heightChanged:u,widthChanged:s})}),u&&(0,E.S0)("webapp.PwtLogger.resizeHeightDelta",a,{sampleRate:1,tags:l}),s&&(0,E.S0)("webapp.PwtLogger.resizeWidthDelta",c,{sampleRate:1,tags:l}),window.removeEventListener("resize",t),(null==m?void 0:m.deviceType)==="phone"&&(!s&&u&&a<=150||!u&&!s)||(null==m?void 0:m.deviceType)==="desktop"&&!u&&!s){(0,E.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:te(te({},l),{},{heightChanged:u,widthChanged:s})});return}g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",r),function(){var n=v();ta("handling unmount",n),"TIMING"===n.status&&ts(n,"unmount"),o.Z.removePauseListener(t),window.removeEventListener("resize",r)}},[]),"TIMING"!==T.status||!T.constraintMap[tc])return{state:T,context:null};var A=T.startTime,O=T.metricConfig;return{state:T,context:{abort:function(t){return g({type:"ABORT",reason:t})},addAnnotation:function(t){return g({type:"ANNOTATE",payload:{name:t}})},addBinaryAnnotation:function(t,n,e){return g({type:"BINARY_ANNOTATE",payload:{name:t,value:n,annotationType:e}})},addSubspan:function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return g({type:"ADD_SUBSPAN",payload:{name:t,startTime:n,endTime:e,annotations:r,binaryAnnotations:o,parentId:i}})},getId:function(){return A},getMetricId:function(){return O.metricId},markConstraintComplete:function(t){return g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:t,time:F.Z?F.Z.now():0}})},removeConstraint:function(t){return g({type:"REMOVE_CONSTRAINT",payload:t})},setSegment:function(t){return g({type:"SET_SEGMENT",payload:t})},setVisuallyCompleteResult:O.constraints.includes(tu)?function(t){return g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:t})}:null,startSubspan:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return g({type:"START_SUBSPAN",payload:{name:t,annotations:n,binaryAnnotations:e,parentId:r}})},stopSubspan:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return g({type:"STOP_SUBSPAN",payload:{name:t,annotations:n,binaryAnnotations:e,parentId:r}})}}}},th=function(){var t=(0,s.E)(),n=!!t;(0,r.useEffect)(function(){if(n){var e=null==t?void 0:t.getMetricId(),r=e?(0,i.KJ)(e):null;(0,c.H)("nested_pwt_surface",{action:r})}},[n])};function tw(t){var n,e=t.children,r=X(t,$),o=(0,H.Z)(),i=tg(o),a=r.measureGridVisuallyComplete?["web_masonry_v2_auth","web_masonry_v2_unauth"]:[],c=[].concat(Q(null!==(n=r.annotateExperiments)&&void 0!==n?n:[]),a),u=tS(te(te({},r),{},{annotateExperiments:c,navigationInfo:{navigationType:i,clientNavigation:o}})).context;return th(),(0,K.jsx)(s.S,{value:u,children:e})}},906623:function(t,n,e){e.d(n,{E:function(){return i},S:function(){return o}});var r=(0,e(342513).Z)("pwtSurfaceContext"),o=r.Provider,i=r.useMaybeHook},367180:function(t,n,e){e.d(n,{F9:function(){return m},LM:function(){return f},VZ:function(){return c},cQ:function(){return y},rZ:function(){return u}});var r=e(769286),o=e(297329);function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return a(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}var c=function(){return"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll},u=function(t){return t instanceof HTMLDivElement||t instanceof HTMLVideoElement?t.getBoundingClientRect():t.parentElement instanceof HTMLElement?t.parentElement.getBoundingClientRect():null},s=function(t,n){var e=t.top,r=t.height,o=n.foldY,i=e+n.pageYOffset;if(i>=o)return!1;var a=Math.min(r,o-i);return a>.5*r||a>.2*o},l=function(t){if(t instanceof HTMLImageElement)return t.src;if(t instanceof HTMLVideoElement)return t.attributes.poster.value;var n=((t.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return n&&n[1]||null},f=function(){return document.querySelector?document.querySelectorAll(r.wc).length:((0,o.H)("missing_document_query_selector"),0)},d=function(){if(!document.querySelector)return(0,o.H)("missing_document_query_selector"),null;var t=document.querySelectorAll(r.wc);return t[t.length-1]||null},p=function(t,n){var e=u(t);if(!e)return(0,o.H)("missing_client_rect"),!1;if(e.width<100&&e.height<100){if(t instanceof HTMLImageElement)return!1;var r=l(t);if(null!=r&&r.endsWith("svg"))return!1}return s(e,n)},m=function(){var t=d();if(!t)return!1;var n=window.innerHeight||0,e=window.pageYOffset||0;return t.getBoundingClientRect().top+e>=n},y=function(t,n,e){if(!document.querySelector)return(0,o.H)("missing_document_query_selector"),[];var a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},c=[r.Wf].concat(i(t?[r.fF]:[]),i(n?[r.$N]:[])).join(","),u=i(document.querySelectorAll(c));if(e){var s=i(document.querySelectorAll('div[data-test-id="board-section"]')),f=function t(n){var e=i(n.children);!e.length&&n.style.backgroundImage?u.push(n):e.length&&e.forEach(function(n){t(n)})};s.forEach(function(t){f(t)})}return u.reduce(function(t,e){if((e instanceof HTMLImageElement||e instanceof HTMLDivElement||e instanceof HTMLVideoElement&&n)&&p(e,a)){var r=l(e);if(r){var o=(r||"").replace(/.*\//,"");return t.concat([{element:e,fileName:o}])}}return t},[])}},769286:function(t,n,e){e.d(n,{$N:function(){return u},Kb:function(){return r},Wf:function(){return a},fF:function(){return c},wc:function(){return i}});var r="pwt-grid-item",o=['div[data-grid-item="true"]',"div.Grid__Item",'div[data-test-id="'.concat(r,'"]')],i=o.join(","),a=o.map(function(t){return"".concat(t," img")}).join(","),c=o.map(function(t){return"".concat(t," div[style*=background-image]")}).join(","),u=o.map(function(t){return"".concat(t," video")}).join(",")},309300:function(t,n,e){e.d(n,{D3:function(){return s},Hd:function(){return d},jh:function(){return f},rX:function(){return l}});var r=e(383340),o=e(302234);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?a(Object(e),!0).forEach(function(n){u(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function u(t,n,e){var r;return(r=function(t,n){if("object"!==i(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(n,"string"),(n="symbol"===i(r)?r:String(r))in t)?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var s=function(t){return c(c({},(0,r.Z)(t)),{},{domComplete:t.domComplete||0,domContentLoadedEventEnd:t.domContentLoadedEventEnd||0,domContentLoadedEventStart:t.domContentLoadedEventStart||0,domInteractive:t.domInteractive||0,loadEventEnd:t.loadEventEnd||0,loadEventStart:t.loadEventStart||0})},l=function(){return{largestContentfulPaint:(0,o.v2)().largestContentfulPaint||0}},f=function(t,n){return Object.keys(n).reduce(function(e,r){return c(c({},e),{},u({},"".concat(t).concat(r),n[r]))},{})},d=function(t,n){return Object.keys(t).reduce(function(e,r){return n.includes(r)?c(c({},e),{},u({},r,t[r])):e},Object.freeze({}))}},383340:function(t,n){n.Z=function(t){return{connectEnd:t.connectEnd||0,connectStart:t.connectStart||0,domainLookupEnd:t.domainLookupEnd||0,domainLookupStart:t.domainLookupStart||0,fetchStart:t.fetchStart||0,requestStart:t.requestStart||0,redirectEnd:t.redirectEnd||0,redirectStart:t.redirectStart||0,responseEnd:t.responseEnd||0,responseStart:t.responseStart||0,secureConnectionStart:t.secureConnectionStart||0,startTime:t.startTime||0,workerStart:t.workerStart||0,unloadEventStart:t.unloadEventStart||0,unloadEventEnd:t.unloadEventEnd||0}}},840387:function(t,n,e){e.d(n,{Z:function(){return c}});var r=e(253926),o=e(383340),i=e(404373),a=function(t){var n=t.category,e=t.isDeferred,r=t.isExternal;return[n].concat(e?["deferred"]:[]).concat(r?["external"]:[]).join("_")};function c(t,n){var e=t.category,c=t.timing,u=t.isDeferred,s=t.isExternal,l=t.isVisuallyCompleteRequired;return c.responseEnd&&("image"!==e||l)?{name:a(t),id:(0,i.Z)(),parentId:n,startTime:c.startTime,endTime:c.responseEnd,annotationMap:(0,o.Z)(c),binaryAnnotationMap:{category:(0,r.sk)(e),decodedBodySize:(0,r.cC)(c.decodedBodySize||0),initiatorType:(0,r.sk)(c.initiatorType),isDeferred:(0,r.qr)(u),isExternal:(0,r.qr)(s),name:(0,r.sk)(c.name),nextHopProtocol:(0,r.sk)(c.nextHopProtocol),transferSize:(0,r.cC)(c.transferSize||0)}}:null}},991323:function(t,n,e){e.d(n,{Z:function(){return i}});var r=e(672652),o=e(107981);function i(){return(0,r.useContext)(o.Z)}},438555:function(t,n,e){e.d(n,{Z:function(){return i}});var r=e(672652),o=e(95732);function i(){return(0,r.useContext)(o.Z)}},663678:function(t,n){n.Z=function(t){var n=t.deviceType,e=t.isBot,r=t.isSocialBot;return"coreWebVitalsLite.v1.".concat(r&&"socialBot"||e&&"bot"||"nonbot",".").concat(n)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/3642-18e2debacb72c18d.js.map