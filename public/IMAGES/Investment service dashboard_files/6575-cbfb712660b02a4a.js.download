"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6575],{775089:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var i=t(672652),a=t(684404),r=t(214877),o=t(103322);function c(n){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function s(n,e,t){return(e=u(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u(n){var e=function(n,e){if("object"!==c(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==c(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===c(e)?e:String(e)}var l={};function m(n){var e=l[n];return e&&e.screenWidth===window.innerWidth||(l[n]={screenWidth:window.innerWidth}),l[n]}var d=function(n){var e=n.__id||n.id;return"string"==typeof e&&e||null},p=function(){var n;function e(){!function(n,e){if(!(n instanceof e))throw TypeError("Cannot call a class as a function")}(this,e),s(this,"idMap",new Map),s(this,"objMap",new WeakMap)}return n=[{key:"get",value:function(n){var e,t=d(n);return null!==(e=this.objMap.get(n))&&void 0!==e?e:t?this.idMap.get(t):void 0}},{key:"has",value:function(n){var e,t=d(n);return null!==(e=this.objMap.has(n))&&void 0!==e?e:!!t&&this.idMap.has(t)}},{key:"set",value:function(n,e){var t=d(n);t&&this.idMap.set(t,e),this.objMap.set(n,e)}},{key:"reset",value:function(){this.idMap=new Map,this.objMap=new WeakMap}}],function(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,u(i.key),i)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function f(n){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var h=t(547643),y=t(213377),b=t(406893),v=t(340523),g=t(5859),x=t(554786),C=t(953565),w=t(84768),S=t(819267);function _(n){var e=n.analyticsData,t=n.children,a=n.idx,r=n.isMeasuring,c=n.masonryV2ExpName,s=n.masonryV2ExpGroup,u=(0,x.ZP)(),l=(0,g.B)().isAuthenticated,m=(0,w.MM)();return(0,i.useEffect)(function(){if(e.current[a]){var n,t=null!==(n=e.current[a])&&void 0!==n?n:{},i=t.fetchTimestamp,o=t.measureTimestamp,d=t.hasRendered,p={deviceType:u,experimentName:c,experimentGroup:s,handlerId:m,isAuthenticated:l,pageCount:t.pageCount};r&&!o&&(e.current[a].measureTimestamp=Date.now(),(0,C.LY)("webapp.masonry.itemMeasureStart",Date.now()-i,{tags:p})),r||d||((0,C.LY)("webapp.masonry.itemRenderStart",Date.now()-o,{tags:p}),e.current[a].hasRendered=!0)}},[r]),(0,S.jsx)(o.Z,{name:"MasonryItem",children:t})}function M(n){var e,t,c,s,u,l,d,M,W,j,R,E,T,I,D,k,N,L,O,A,P,V,B=n.align,Z=n.cacheKey,z=n.id,F=n.isGridCentered,G=n.items,K=n.layout,Y=n.loadItems,H=n.masonryRef,Q=n.renderItem,U=n.scrollContainerRef,X=n.virtualize,q=void 0===X||X,J=n._getColumnSpanConfig,$=(0,x.ZP)(),nn=(0,g.B)(),ne=nn.isAuthenticated,nt=nn.isRTL,ni=(0,r.v)().logContextEvent,na=(0,v.F)(),nr="desktop"===$,no=(0,w.MM)(),nc=(0,i.useRef)(G.map(function(){return{fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}})),ns=null!==(L=n.columnWidth)&&void 0!==L?L:y.yF,nu=null!==(O=n.gutterWidth)&&void 0!==O?O:nr?y.oX:1,nl=null!==(A=n.minCols)&&void 0!==A?A:y.yc,nm=null!==(P=n.serverRender)&&void 0!==P?P:!!nr,nd="flexible"===K||"desktop"!==$,np=nm?"serverRenderedFlexible":"flexible",nf=(0,i.useRef)(0),nh=ns+nu,ny=function(n){if(null!=n){var e=m(n);return e.positionCache||(e.positionCache=new p),e.positionCache}}(Z),nb=function(n){if(null!=n){var e=m(n);return e.measurementCache||(e.measurementCache=new p),e.measurementCache}}(Z),nv=(0,i.useCallback)(function(){return(null==U?void 0:U.current)||window},[U]),ng=(0,i.useRef)(!0),nx=na.checkExperiment("web_masonry_ssr_container_query").anyEnabled,nC=(void 0===F||F)&&ng.current?"gridCentered":"",nw=(t=e={gutterWidth:nu,flexible:nd,items:G,isRTL:nt,itemWidth:ns,maxColumns:null!==(V=n.maxColumns)&&void 0!==V?V:G.length||y.g5,minColumns:nl,enableContainerQuery:nx,_getColumnSpanConfig:J},c="m_".concat(Object.keys(t).reduce(function(n,e){var i=t[e];return null==i||"object"===f(i)||"function"==typeof i?n:"boolean"==typeof i?n+(i?"t":"f"):n+i},"").replace(/\:/g,"\\:")),s=e.flexible,u=e.gutterWidth,l=e.isRTL,d=e.itemWidth,M=e.maxColumns,W=e.minColumns,j=e.items,E=(R=e._getColumnSpanConfig)?j.map(function(n,e){var t;return{index:e,columnSpanConfig:null!==(t=R(n))&&void 0!==t?t:1}}).filter(function(n){return 1!==n.columnSpanConfig}):[],T=d+u,D=(I=Array.from({length:M+1-W},function(n,e){return e+W}).map(function(n){var e=n===W?0:n*T,t=n===M?null:(n+1)*T-1,i=E.reduce(function(e,t){var i,a,r,o,l,m,p,f,h,y,b,v,g=t.columnSpanConfig,x=Math.min((r=(i={columnCount:n,columnSpanConfig:g}).columnCount,"number"==typeof(o=i.columnSpanConfig)?o:null!==(a=o[r<=2?"sm":r<=4?"md":r<=8?"lg":"xl"])&&void 0!==a?a:1),n),C=null!=t.index&&e.numberOfVisibleItems>=x+t.index,w=s?100/n*x:d*x+u*(x-1),S=e.numberOfVisibleItems;return C?S-=x-1:t.index<S&&(S+=1),{styles:e.styles.concat((m=(l={className:c,index:t.index,columnSpanConfig:g,visible:C,width:w,flexible:s}).className,p=l.index,f=l.columnSpanConfig,h=l.visible,y=l.width,b=l.flexible,v="number"==typeof f?f:btoa(JSON.stringify(f)),b?"\n      .".concat(m,' .static[data-column-span="').concat(v,'"]:nth-child(').concat(p+1,") {\n        visibility: ").concat(h?"visible":"hidden"," !important;\n        position: ").concat(h?"inherit":"absolute"," !important;\n        width: ").concat(y,"% !important;\n      }"):"\n      .".concat(m,' .static[data-column-span="').concat(v,'"]:nth-child(').concat(p+1,") {\n        visibility: ").concat(h?"visible":"hidden"," !important;\n        position: ").concat(h?"inherit":"absolute"," !important;\n        width: ").concat(y,"px !important;\n      }"))),numberOfVisibleItems:S}},{styles:"",numberOfVisibleItems:n}),a=i.styles,r=i.numberOfVisibleItems,o=s?"\n      .".concat(c," .static {\n        box-sizing: border-box;\n        width: calc(100% / ").concat(n,") !important;\n      }\n    "):"\n      .".concat(c," {\n        max-width: ").concat(n*T,"px;\n      }\n\n      .").concat(c," .static {\n        width: ").concat(d,"px !important;\n      }\n    ");return{minWidth:e,maxWidth:t,styles:"\n      .".concat(c," .static:nth-child(-n+").concat(r,") {\n        position: static !important;\n        visibility: visible !important;\n        float: ").concat(l?"right":"left",";\n        display: block;\n      }\n\n      .").concat(c," .static {\n        padding: 0 ").concat(u/2,"px;\n      }\n\n      ").concat(o,"\n\n      ").concat(a,"\n    ")}})).map(function(n){var e=n.minWidth,t=n.maxWidth,i=n.styles;return"\n    @container (min-width: ".concat(e,"px) ").concat(t?"and (max-width: ".concat(t,"px)"):""," {\n      ").concat(i,"\n    }\n  ")}),k=I.map(function(n){var e=n.minWidth,t=n.maxWidth,i=n.styles;return"\n    @media (min-width: ".concat(e,"px) ").concat(t?"and (max-width: ".concat(t,"px)"):""," {\n      ").concat(i,"\n    }\n  ")}),N=e.enableContainerQuery?"\n    ".concat(D.join(""),"\n    @supports not (container-type: inline-size) {\n      ").concat(k.join(""),"\n    }\n  "):k.join(""),{className:c,styles:"\n    .masonryContainer {\n      container-type: inline-size;\n    }\n\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .".concat(c," .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ").concat(N,"\n  ")}),nS=nw.className,n_=nw.styles,nM="".concat(nC," ").concat(nS).trim(),nW=(0,h.Z)(),nj=nW.anyEnabled,nR=nW.expName,nE=nW.group,nT=nW.isMeasureAllEnabled,nI=(0,i.useMemo)(function(){return!nb||G.every(function(n){return!nb.has(n)})},[]),nD=nE&&nI,nk=(0,i.useRef)(),nN=(0,i.useRef)(G.length),nL=(0,i.useRef)(0);(0,i.useEffect)(function(){nD&&G.forEach(function(n,e){nc.current[e]||(nc.current[e]={fetchTimestamp:Date.now(),measureTimestamp:0,hasRendered:!1,pageCount:nL.current})}),nN.current=G.length,nL.current+=1},[G]),(0,i.useEffect)(function(){ng.current&&(ng.current=!1)},[]),(0,i.useEffect)(function(){var n=function(){return nf.current+=1};return nD&&(nk.current=Date.now(),window.addEventListener("scroll",n)),function(){if(nD){var e=nc.current;window.removeEventListener("scroll",n);var t=e.filter(function(n){return!!n.measureTimestamp}).length,i=e.filter(function(n){return n.hasRendered}).length,a=nN.current,r={deviceType:$,experimentName:nR,experimentGroup:nE,handlerId:no,isAuthenticated:ne};(0,C.LY)("webapp.masonry.timeSpent",nk.current?Date.now()-nk.current:0,{tags:r}),(0,C.S0)("webapp.masonry.itemsFetched",a,{tags:r}),(0,C.S0)("webapp.masonry.itemsMeasured",t,{tags:r}),(0,C.S0)("webapp.masonry.itemsMeasuredPercentage",Math.floor(t/a*100),{tags:r}),(0,C.S0)("webapp.masonry.itemsRendered",i,{tags:r}),(0,C.S0)("webapp.masonry.itemsRenderedPercentage",Math.floor(i/a*100),{tags:r}),(0,C.S0)("webapp.masonry.scrollCount",nf.current,{tags:r})}}},[]);var nO=(0,i.useCallback)(function(n){return nD?(0,S.jsx)(_,{analyticsData:nc,idx:n.itemIdx,isMeasuring:n.isMeasuring,masonryV2ExpGroup:nE,masonryV2ExpName:nR,children:(0,S.jsx)(o.Z,{name:"MasonryItem",children:Q(n)})}):(0,S.jsx)(o.Z,{name:"MasonryItem",children:Q(n)})},[Q]);return(0,S.jsx)("div",{className:"masonryContainer","data-test-id":"masonry-container",id:z,children:(0,S.jsxs)("div",{className:nM,children:[nm&&ng.current?(0,S.jsx)(b.Z,{"data-test-id":"masonry-ssr-styles",unsafeCSS:n_}):null,(0,S.jsx)(a.xu,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:n.maxColumns?nh*n.maxColumns:void 0,children:nj?(0,S.jsx)(a.GX,{ref:function(n){H&&(H.current=n)},_getColumnSpanConfig:J,_logTwoColWhitespace:function(n){(0,C.S0)("webapp.masonry.twoColWhitespace",n,{sampleRate:1,tags:{columnWidth:ns,minCols:nl}}),ni({event_type:14705,component:14468,aux_data:{whitespace_px:n}})},_measureAll:nT,align:B,columnWidth:ns,gutterWidth:nu,items:G,layout:nd?np:null!=K?K:"basic",loadItems:Y,measurementStore:nb,minCols:nl,positionStore:ny,renderItem:nO,scrollContainer:nv,virtualBufferFactor:.3,virtualize:q}):(0,S.jsx)(a.Rk,{ref:function(n){H&&(H.current=n)},_getColumnSpanConfig:J,_logTwoColWhitespace:function(n){(0,C.S0)("webapp.masonry.twoColWhitespace",n,{sampleRate:1,tags:{columnWidth:ns,minCols:nl}}),ni({event_type:14705,component:14468,aux_data:{whitespace_px:n}})},align:B,columnWidth:ns,gutterWidth:nu,items:G,layout:nd?np:null!=K?K:"basic",loadItems:Y,measurementStore:nb,minCols:nl,positionStore:ny,renderItem:nO,scrollContainer:nv,virtualBufferFactor:.3,virtualize:q})})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/6575-cbfb712660b02a4a.js.map