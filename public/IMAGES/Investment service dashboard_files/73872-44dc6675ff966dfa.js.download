"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[73872],{43665:function(e,r,t){t.d(r,{Z:function(){return n}});function n(e){var r=!1;return{promise:new Promise(function(t,n){e.then(function(e){return r?n({isCanceled:!0}):t(e)},function(e){return r?n({isCanceled:!0}):n(e)})}),cancel:function(){r=!0}}}},498301:function(e,r,t){t.d(r,{Z:function(){return n}});function n(e,r){if(!r)return e;var t=new RegExp(/http(s?):/);if(!t.test(e)){var n=t.exec(r);n&&n.length&&(e=n[0]+e)}return e}},825765:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(672652),o=t(43665);function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return c(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function u(){var e=(0,n.useRef)([]),r=(0,n.useRef)({});return(0,n.useEffect)(function(){return function(){[].concat(i(Object.keys(r.current).map(function(e){return r.current[e]})),i(e.current)).forEach(function(e){return e()})}},[]),function(t,n){if(n){var c=r.current[n];c&&(c(),delete r.current[n])}var u=(0,o.Z)(t),a=u.cancel,d=u.promise;return n?r.current[n]=a:e.current=[].concat(i(e.current),[a]),d}}},692440:function(e,r,t){t.d(r,{H:function(){return l},N:function(){return f}});var n=t(672652),o=t(342513),i=t(638747),c=t(819267);function u(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,r)}}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var d=(0,o.Z)("LastSavedTo"),s=d.Provider,f=d.useHook;function l(e){var r,t=e.children,o=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)())||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,c,u=[],a=!0,d=!1;try{for(i=(t=t.call(e)).next;!(a=(n=i.call(t)).done)&&(u.push(n.value),2!==u.length);a=!0);}catch(e){d=!0,o=e}finally{try{if(!a&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(d)throw o}}return u}}(r,2)||u(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=o[0],f=o[1];(0,i.Z8)("BoardPickerBoardsShortlistResource",function(e){d||f(e.response.resource_response.data)});var l=(0,n.useCallback)(function(e){var r=d?d.filter(function(r){return r.id!==e.id}):[];f([e].concat(function(e){if(Array.isArray(e))return a(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||u(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[d]),b=(0,n.useMemo)(function(){return{lastSavedTo:d,saveToBoard:l}},[d,l]);return(0,c.jsx)(s,{value:b,children:t})}},281871:function(e,r,t){t.d(r,{Z:function(){return n}});function n(e,r,t){return{privacy_filter:r?"secret":"public",sort:t||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}},945488:function(e,r){r.Z=function(e,r){return"".concat(e,":").concat(r||"")}},885837:function(e,r,t){t.d(r,{O:function(){return d},Q:function(){return s}});var n=t(827625),o=t(945488),i=t(64819);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],d={name:"BoardsResource",key:"boardsResource",options:function(e,r){var t=e.boardOrder,n=e.filterStories,o=e.mixPublicSecret,i=e.username,a=e.privacyFilter,d=e.filterAllPins,s=e.filterShoppingList,f=e.includeArchived;return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach(function(r){var n,o;n=r,o=t[r],(n=function(e){var r=function(e,r){if("object"!==c(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===c(r)?r:String(r)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({privacy_filter:void 0===a?"all":a,sort:t||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:n,username:i,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:void 0===f||f,redux_normalize_feed:!0,filter_all_pins:void 0!==d&&d,filter_shopping_list:void 0!==s&&s},r?{orbac_subject_id:r}:Object.freeze({}))}},s=function(e){return a.reduce(function(r,t){var c=[(0,i.N8)("profileBoards",(0,o.Z)(e,t))];return[!0,!1].forEach(function(r){[!0,!1].forEach(function(o){c.push((0,n.jB)(d.name,d.options({username:e,boardOrder:t,mixPublicSecret:r,filterStories:o})))})}),r.concat(c)},[])}},402287:function(e,r,t){t.d(r,{$n:function(){return E},A4:function(){return B},CE:function(){return v},ET:function(){return T},F$:function(){return S},Kw:function(){return j},Nv:function(){return A},PA:function(){return R},X_:function(){return P},d9:function(){return h},e1:function(){return y},o4:function(){return g},vB:function(){return m}});var n=t(654369),o=t(216167),i=t(372085),c=t(227258),u=t(827625),a=t(821419),d=t(64819),s=t(430408),f=t(539426),l=t(937310);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach(function(r){var n,o;n=r,o=t[r],(n=function(e){var r=function(e,r){if("object"!==b(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===b(r)?r:String(r)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function y(e){return function(r){var t=e.boardId,n=e.sectionIdBefore,o=e.sectionIdAfter,c=e.sourceSectionId,u=e.targetSectionId;r((0,d._f)({feedType:l.Z.BOARD_SECTIONS,feedId:t,itemType:"boardsection",sourceItemId:c,targetItemId:u}));var a=Object.freeze({});return n&&(a=_(_({},a),{},{section_before:n})),o&&(a=_(_({},a),{},{section_after:o})),(0,i.Z)({url:"/v3/board/sections/".concat(c,"/reorder/"),method:"POST",data:a})}}function v(e,r){return function(t){return t((0,c.U)("BoardSectionResource",{options:{field_set_key:r||"board_page",section_id:e}}))}}function I(e,r){return{type:"SECTION_ADDED",payload:{boardId:e,section:r}}}function m(e,r,t,n){var i=e.boardId,c=e.sourceBoardId,f=void 0===c?"":c,b=e.sourceSectionId,p=void 0===b?"":b,y=e.name,v=e.nameSource,m=e.pinImport,O=e.initialPinIds,S=0;"RECOMMENDATION"===v?S=1:"EDITED_RECOMMENDATION"===v&&(S=2);var E=_({board_id:i,initial_pins:m&&!m.all?m.pinIds:void 0===O?[]:O,name:y,name_source:S},t?{orbac_subject_id:t}:Object.freeze({}));return function(e){return o.Z.create("BoardSectionResource",E).callCreate({showError:!1}).then(function(o){var c=o.resource_response.data;n({event_type:7100,object_id_str:c.id}),e(I(i,c)),e((0,d.vX)({feedId:i,feedType:l.Z.BOARD_SECTIONS,itemIds:[c.id],itemType:"boardsection"})),e((0,a.Tq)(i,"pin_count")),e((0,u.jB)("BoardSectionsRepinResource",{board_id:i,orbac_subject_id:t}));var b=m||{all:!1,pinIds:[]},_=b.all,y=b.pinIds;return _?new Promise(function(t,n){return e((0,s.Z)({inverseSelection:!0,selectedPinIds:y,source:{boardId:f||i,sectionId:p||null},target:{boardId:i,sectionId:c.id}},r)).then(function(){return t(c)}).catch(n)}):(y.length>0&&e((0,d.N8)(l.Z.BOARDFEED,i)),c)})}}function O(e,r){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:r}}}function S(e,r,t){return function(n){return o.Z.create("BoardSectionEditResource",_({section_id:r},t?{orbac_subject_id:t}:Object.freeze({}))).callDelete({showError:!1}).then(function(){return Promise.all([n(O(e,r)),n((0,d.EX)({feedId:e,feedType:l.Z.BOARD_SECTIONS,itemIds:[r],itemType:"boardsection"})),n((0,a.Tq)(e,"pin_count")),n((0,u.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:t}))])})}}function E(e,r,t,n){return function(i){return o.Z.create("BoardSectionEditResource",_({section_id:r,title:t},n?{orbac_subject_id:n}:Object.freeze({}))).callCreate({showError:!1}).then(function(r){var t=r.resource_response.data;return i(function(r){var n,o,i,c,u,s=t.board;s&&s.id!==e?(r(O(e,null!==(n=t.id)&&void 0!==n?n:"")),r((0,d.EX)({feedId:e,feedType:l.Z.BOARD_SECTIONS,itemIds:[null!==(o=t.id)&&void 0!==o?o:""],itemType:"boardsection"})),r((0,a.Tq)(e,"pin_count")),r(I(null!==(i=s.id)&&void 0!==i?i:"",t)),r((0,d.vX)({feedId:null!==(c=s.id)&&void 0!==c?c:"",feedType:l.Z.BOARD_SECTIONS,itemIds:[null!==(u=t.id)&&void 0!==u?u:""],itemType:"boardsection"})),r((0,a.Tq)(e,"pin_count"))):r({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}),i((0,u.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:n})),t})}}function h(e,r,t){return function(n){return(0,i.Z)({url:"/v3/board/sections/".concat(r,"/merge/").concat(t,"/"),method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(function(o){return Promise.all([n(O(e,r)),n((0,u.jB)("BoardSectionsRepinResource",{board_id:e})),n(v(t)),n((0,d.N8)(l.Z.BOARD_SECTION_PINS,t))]).then(function(){return o})})}}var D=function(e,r){return{type:"BOARD_SECTION_EDIT",payload:r}},R=function(e,r){return function(t){return o.Z.create("BoardSectionEditResource",_(_({},r),{},{section_id:e})).callCreate().then(function(n){return t(D(e,r)),n.resource_response.data})}},B=function(e){return function(r){return o.Z.create("BoardSectionResource",{section_id:e}).callGet().then(function(t){return r(D(e,t.resource_response.data||{id:"",title:""})),t})}},g=function(e,r,t,n){return function(i){var c=o.Z.create("BoardSectionEditResource",{section_id:r}).callDelete();return i({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:r,boardId:t,pinCount:n}}),c}},A=function(e,r,t,i){return function(c){var a={board_id:e,initial_pins:r,name:t},s="BoardSectionResource";return o.Z.create(s,a).callCreate().then(function(t){var o=t.resource_response.data,b=(0,n.Fv)(o,f.Z[s]);return i({event_type:7100,object_id_str:o.id}),c((0,u.XM)(s,a,t,b)),c(I(e,o)),c((0,d.vX)({feedId:e,feedType:l.Z.BOARD_SECTIONS,itemIds:[o.id],itemType:"boardsection"})),r.length&&c({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:o.id},pinIds:r}}),t})}},j=function(e){return function(r){var t=e.source,i=e.target,c=e.pinIds;if(r({type:"PINS_MOVE",payload:e}),t.boardlessPins||i.boardId!==t.boardId){var a={board_id:i.boardId,pin_ids:c,section_id:i.sectionId};return o.Z.create("BulkEditResource",a).callUpdate()}if(i.sectionId){var d={section_id:i.sectionId,pins:c},s="BoardSectionEditResource";return o.Z.create(s,d).callUpdate().then(function(e){var t=(0,n.Fv)(e.resource_response.data,f.Z[s]);return r((0,u.XM)(s,d,e,t)),e})}var l={section_id:t.sectionId,pins:c};return o.Z.create("BoardSectionPinsResource",l).callDelete()}},P=function(e){return function(r){r({type:"PINS_MOVE_ALL",payload:e});var t=e.source,n=e.target,i=e.excludePinIds,c={board_id:t.boardId,new_board_id:n.boardId,pin_ids:i,old_section_id:t.sectionId,new_section_id:n.sectionId};return o.Z.create("BulkEditSelectAllResource",c).callUpdate()}},T=function(e,r,t,n,o){return function(i){return i(A(e,[],r,o)).then(function(r){return i(P({source:{boardId:e,sectionId:n},target:{boardId:e,sectionId:r.resource_response.data.id},excludePinIds:t}))})}}},821419:function(e,r,t){t.d(r,{Br:function(){return I},Cr:function(){return T},K8:function(){return D},L1:function(){return L},Tq:function(){return E},YQ:function(){return U},YV:function(){return P},ZP:function(){return Z},aX:function(){return w},eo:function(){return O},fJ:function(){return x},md:function(){return m},oG:function(){return S},oL:function(){return C},of:function(){return R},xH:function(){return h},xQ:function(){return B},xR:function(){return N},xk:function(){return A},yT:function(){return v},zS:function(){return k}});var n=t(216167),o=t(481177),i=t(372085),c=t(227258),u=t(827625),a=t(281871),d=t(885837),s=t(64819),f=t(937310);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,r,t,n,o,i,c){try{var u=e[i](c),a=u.value}catch(e){t(e);return}u.done?r(a):Promise.resolve(a).then(n,o)}function p(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var i=e.apply(r,t);function c(e){b(i,n,o,c,u,"next",e)}function u(e){b(i,n,o,c,u,"throw",e)}c(void 0)})}}function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach(function(r){var n,o;n=r,o=t[r],(n=function(e){var r=function(e,r){if("object"!==l(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===l(r)?r:String(r)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function v(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function I(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function m(e,r){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:r}}}function O(e){return{type:"BOARD_DELETE",payload:{viewingUserId:e.viewingUserId,viewingUsername:e.viewingUsername,boardId:e.boardId,boardPinCount:e.boardPinCount}}}var S=function(e,r){return function(t){return t((0,c.U)("BoardResource",{options:{board_id:e,field_set_key:r}}))}};function E(e,r,t){return(0,c.U)("BoardResource",{options:y({board_id:e,field_set_key:r},t?{orbac_subject_id:t}:{})})}function h(e,r,t){return function(n){return(0,i.Z)({url:"/v3/boards/".concat(e,"/merge/").concat(r,"/"),method:"POST",data:t?{orbac_subject_id:t}:{}}).then(function(){return Promise.all([n(O({boardId:e})),n(E(r,"pin_count")),n((0,s.N8)(f.Z.BOARD_SECTIONS,r))])})}}function D(e){return function(r){e&&(0,d.Q)(e).forEach(function(e){r(e)})}}var R=function(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}},B=function(e){return S(e,"pin_count")};function g(e,r){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:r}}}function A(e,r){return function(t){return t(g(e)),n.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:r}).callUpdate()}}function j(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function P(e,r){return function(t){return t(j(e)),n.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:r}).callDelete()}}var T=function(e,r){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:r}}},Z=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}};function w(e,r,t){var i=y({name:e,privacy:o.Z.BoardPrivacy.PUBLIC,username:r},t?{orbac_subject_id:t}:Object.freeze({}));return function(e){return n.Z.create("BoardResource",i).callCreate().then(function(t){var n=t.resource_response.data;return e(r&&(0,u.jB)("BoardsResource",(0,a.Z)(r,!1))),n})}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:r},error:t}}var N=function(e,r,t){var o;return o=p(regeneratorRuntime.mark(function o(i){var c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:r}}),o.next=3,n.Z.create("BoardInviteResource",{board_id:e,invited_user_id:r}).callDelete();case 3:return(c=o.sent).resource_response.error||t({event_type:29,object_id_str:e}),o.abrupt("return",c);case 6:case"end":return o.stop()}},o)})),function(e){return o.apply(this,arguments)}},U=function(e,r,t,o,i,c){var u;return u=p(regeneratorRuntime.mark(function u(a){var d,s,f;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s="accepted"===r?"BoardCollaboratorResource":"BoardInviteResource",a({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:null!==(d=null==o?void 0:o.id)&&void 0!==d?d:"",viewingUser:t}}),u.prev=2,u.next=5,n.Z.create(s,y({board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(f=null==o?void 0:o.id)&&void 0!==f?f:""},c?{orbac_subject_id:c}:{})).callDelete();case 5:u.sent.resource_response.error||i({event_type:"accepted"===r?25:29,object_id_str:e}),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(2),a({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:r,collaboratingUsers:[o]}});case 12:case"end":return u.stop()}},u,null,[[2,9]])})),function(e){return u.apply(this,arguments)}},L=function(e,r,t,o){return function(i){var c=n.Z.create("BoardResource",{board_id:t}).callDelete();return i(O({viewingUserId:e,viewingUsername:r,boardId:t,boardPinCount:o})),c}},k=function(e,r){return function(t){return n.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(function(n){return t((0,s.Qv)("archived-boards",[{id:e,type:"board"}])),t(g(e,r)),n})}},x=function(e,r){return function(t){return n.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(function(n){return t((0,s.Qv)("profile-boards:".concat(r),[{id:e,type:"board"}])),t(j(e)),n})}}},430408:function(e,r,t){t.d(r,{Z:function(){return b},S:function(){return l}});var n=t(216167),o=t(821419),i=t(402287),c=t(64819),u=t(937310),a=t(622888),d=function(e){return function(r){a.Z.showError(function(e,r){switch(e.api_error_code){case 2171:case 2172:case 2173:return r._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(r,e))}},s=function(e){return(0,c.N8)(e.sectionId?u.Z.BOARD_SECTION_PINS:u.Z.BOARDFEED,e.sectionId||e.boardId)};function f(e,r){var t=e.source,n=e.target;n.boardId!==t.boardId?(r((0,o.Tq)(t.boardId,"pin_count")),r((0,o.Tq)(n.boardId,"pin_count"))):t.sectionId&&n.sectionId||r((0,o.Tq)(n.boardId,"pin_count")),t.sectionId&&r((0,i.CE)(t.sectionId)),n.sectionId&&r((0,i.CE)(n.sectionId))}function l(e){return function(r){var t=e.selectedPinIds,n=e.source,o=e.target;r((0,c.EX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?u.Z.BOARD_SECTION_PINS:u.Z.BOARDFEED,itemIds:t,itemType:"pin"})),r((0,c.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?u.Z.BOARD_SECTION_PINS:u.Z.BOARDFEED,itemIds:t,itemType:"pin"})),f(e,r)}}function b(e,r){return function(t){return(function(e,r,t){var o=e.inverseSelection,i=e.selectedPinIds,a=e.source,f=e.target,l=e.orbacSubjectId;if(a.boardId===f.boardId&&(a.sectionId||null)===(f.sectionId||null))return Promise.reject();if(o){var b={board_id:a.boardId,new_board_id:f.boardId,old_section_id:a.sectionId||void 0,new_section_id:f.sectionId||void 0,pin_ids:i,orbac_subject_id:l};return n.Z.create("BulkEditSelectAllResource",b).callUpdate({showError:!1}).then(function(){return Promise.all([r(s(a)),r(s(f))])}).catch(d(t))}var p=function(e,t){r((0,c.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?u.Z.BOARD_SECTION_PINS:u.Z.BOARDFEED,itemIds:i,itemType:"pin"})),r((0,c.vX)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?u.Z.BOARD_SECTION_PINS:u.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};p(a,f);var _=function(){return p(f,a)};if(f.boardId===a.boardId){if(f.sectionId){var y={section_id:f.sectionId,pins:i,orbac_subject_id:l};return n.Z.create("BoardSectionEditResource",y).callUpdate({showError:!1}).catch(function(e){_(),d(t)(e)})}var v={section_id:a.sectionId,pins:i,orbac_subject_id:l};return n.Z.create("BoardSectionPinsResource",v).callDelete({showError:!1}).catch(function(e){_(),d(t)(e)})}var I={board_id:f.boardId,section_id:f.sectionId||void 0,pin_ids:i,orbac_subject_id:l};return n.Z.create("BulkEditResource",I).callUpdate({showError:!1}).catch(function(e){_(),d(t)(e)})})(e,t,r).then(function(){return f(e,t)})}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/73872-44dc6675ff966dfa.js.map