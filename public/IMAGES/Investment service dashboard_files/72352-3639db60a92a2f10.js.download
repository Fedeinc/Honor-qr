"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[72352],{552341:function(e,t,r){var n=r(149722);t.Z=function(){var e=(0,n.Z)();return!!e.isAuth&&e.isPartner}},354500:function(e,t,r){r.d(t,{Oz:function(){return n},mo:function(){return u},nt:function(){return a},v8:function(){return i}});var n={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE"},i="BUSINESS_PANEL",a="ASSET_PANEL",u=500},368552:function(e,t,r){r.d(t,{FE:function(){return D},lG:function(){return x},d9:function(){return B}});var n=r(672652),i=r(328038),a=r(552341),u=r(516018),c=r(340523),o=r(149722),s=r(953565);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){var n;return(n=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,n,i,a,u){try{var c=e[a](u),o=c.value}catch(e){r(e);return}c.done?t(o):Promise.resolve(o).then(n,i)}function S(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function u(e){p(a,n,i,u,c,"next",e)}function c(e){p(a,n,i,u,c,"throw",e)}u(void 0)})}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(){var e,t,r=(0,o.Z)(),i=(0,c.F)().checkExperiment,l=(0,a.Z)()&&i("web_m10n_business_reporting_business_entity_service").anyEnabled,f=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)({isReady:!1}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,u,c=[],o=!0,s=!1;try{for(a=(r=r.call(e)).next;!(o=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);o=!0);}catch(e){s=!0,i=e}finally{try{if(!o&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(s)throw i}}return c}}(e,2)||function(e,t){if(e){if("string"==typeof e)return y(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=f[0],g=f[1],_=(0,n.useCallback)((t=S(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.entityId,n=t.actingBusinessId,i=t.favorites,!l){e.next=5;break}return e.next=4,(0,u.yo)({entityId:r,actingBusinessId:n,favorites:i});case 4:g(function(e){var t,r=m(m({},e),{},{actingBusinessId:n});return i&&(r.favoriteAdAccounts={favoriteAdAccountsMap:m(m({},(null===(t=e.favoriteAdAccounts)||void 0===t?void 0:t.favoriteAdAccountsMap)||{}),{},d({},i.actingBusinessId,{advertiserId:i.adAccounts}))}),r});case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[l]);return(0,n.useEffect)(function(){l&&r.isAuth&&!p.isReady&&S(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,(0,u.SF)({entityId:r.id});case 4:n=e.sent,g(function(e){return m(m({},e),n)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t=!0;case 11:return e.prev=11,(0,s.nP)("globalAccountSwitcher.getFavoriteAdAccounts",{sampleRate:1,tags:{businessId:r.id,hasError:t}}),g(function(e){return m(m({},e),{},{isReady:!0})}),e.finish(11);case 15:case"end":return e.stop()}},e,null,[[1,8,11,15]])}))()},[p.isReady,l,r]),{accountSwitcherConfig:p,setConfig:_}},_=r(354500),v=r(214877),b=r(342513),A=r(96157),E=r(624797),h=r(938927),I=r(454535),O=r(819267);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,r,n,i,a,u){try{var c=e[a](u),o=c.value}catch(e){r(e);return}c.done?t(o):Promise.resolve(o).then(n,i)}function R(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function u(e){N(a,n,i,u,c,"next",e)}function c(e){N(a,n,i,u,c,"throw",e)}u(void 0)})}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,u,c=[],o=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{if(!o&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var P=(0,b.Z)("AccountSwitcherContext"),w=P.Provider,B=P.useHook,x=function(e){return e.search&&(0,E.mB)(e.search).advertiserId},D=function(e){var t,r=e.children,c=(0,i.TH)(),s=(0,i.$B)().params,l=s.userBizId,f=s.businessHierarchyId,m=s.advertiserId,d=s.username,p=x(c),S=(0,o.Z)(),y=T((0,n.useState)(""),2),b=y[0],E=y[1],N=T((0,n.useState)(null),2),U=N[0],P=N[1],B=T((0,n.useState)(!1),2),D=B[0],L=B[1],j=T((0,n.useState)(null),2),k=j[0],G=j[1],H=new URLSearchParams(c.search),M=T((0,n.useState)(H.has("actingBusinessId")?null:{id:S.id||"",name:S.fullName||"",img:S.imageMediumUrl||""}),2),F=M[0],z=M[1],Z=T((0,n.useState)(!1),2),Y=Z[0],q=Z[1],V=(0,a.Z)(),W=(0,v.v)().logContextEvent,$=g(),K=$.accountSwitcherConfig,Q=$.setConfig;(0,n.useEffect)(function(){f?E(f):E("")},[f]);var J=(0,n.useCallback)((t=R(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.username,e.next=3,(0,u.bG)({user_id:r,username:n});case 3:(i=e.sent)&&G({type:r?_.Oz.BUSINESS_ACCOUNT:_.Oz.PROFILE,id:r||i.id,name:i.full_name,img:i.image_medium_url,username:n}),q(!1);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[]),X=(0,I.rc)(d);(0,n.useEffect)(function(){(0,A.cD)(c)&&k&&X!==d&&d===S.username&&(J({username:S.username}),z({id:S.id||"",name:S.fullName||"",img:S.imageMediumUrl||""}),P({type:_.nt,id:S.id}))},[c,X,J,k,d,S.fullName,S.id,S.imageMediumUrl,S.username]),(0,n.useEffect)(function(){var e,t,r=(e=R(regeneratorRuntime.mark(function e(t){var r,n,i,a,u,c,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.businessId,n=t.assetId,r){e.next=4;break}return q(!1),e.abrupt("return");case 4:if(e.prev=4,i={asset:{name:""},type:"AD_ACCOUNT"},!S.isAuth){e.next=18;break}return e.next=9,(0,h.pI)({businessId:S.id,assetIds:[n],resourceType:"AD_ACCOUNT"});case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:var l,f,m;o=(c=(void 0===(u=(a=void 0===(a=e.t0.data)?{}:a).data)?(l={},f=n,m=i,(f=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==C(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(f))in l?Object.defineProperty(l,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):l[f]=m,l):u)[n]||i).asset,s=c.type,G({id:n,name:o.name,img:"",type:s});case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(4),G({id:S.id||"",name:S.fullName||"",img:S.imageMediumUrl||"",type:_.Oz.BUSINESS_ACCOUNT});case 23:q(!1);case 24:case"end":return e.stop()}},e,null,[[4,20]])})),function(t){return e.apply(this,arguments)}),n=(t=R(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,(0,u.p)({hierarchyId:r});case 3:n=e.sent,G({id:r,name:null!=n&&n.data?n.data.name:"",img:null!=n&&n.data?n.data.img_medium_url:"",type:_.Oz.BUSINESS_HIERARCHY}),q(!1);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});if(S.isAuth&&V){var i=k&&k.username&&k.username!==d;if((!k||i)&&!Y){var a=(0,A.TI)(c)||(0,A.h3)(c),o=m||!!p&&!a;q(!0),f?n({id:f}):l?J({id:l}):(0,A.cD)(c)&&d?J({username:d}):o?r({businessId:S.id,assetId:m||p||""}):k&&k.id===S.id||(G({type:_.Oz.BUSINESS_ACCOUNT,id:S.id||"",name:S.fullName||"",img:S.imageMediumUrl||""}),q(!1))}}},[k,S,f,l,d,m,p,F,V,c,J,Y]);var ee=(0,n.useMemo)(function(){return{activePanel:U,selectedHierarchyId:b,switcherOpen:D,openAccountSwitcher:function(){if(W({event_type:101,view_type:608,component:14346}),!U){if((0,A.TI)(c))P({type:_.v8});else{var e=new URLSearchParams(c.search).get("actingBusinessId");P({type:_.nt,id:null!=e?e:null==F?void 0:F.id})}}L(!0)},closeAccountSwitcher:function(){return L(!1)},openAssetPanel:function(e){P({type:_.nt,id:e})},closeAssetPanel:function(){P({type:_.v8})},actingBusiness:F,selectedAccount:k,setSelectedAccount:G,setActingBusiness:z,accountSwitcherConfig:K,setConfig:Q}},[U,b,D,F,k,K,Q,W,c]);return(0,O.jsx)(w,{value:ee,children:r})}},516018:function(e,t,r){r.d(t,{IT:function(){return g},SF:function(){return E},Vq:function(){return y},WP:function(){return _},Yu:function(){return A},bG:function(){return b},p:function(){return v},yo:function(){return h}});var n,i,a,u,c=r(216167),o=r(354500),s=r(372085),l=r(288673),f=r(562967),m=r(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r,n,i,a,u){try{var c=e[a](u),o=c.value}catch(e){r(e);return}c.done?t(o):Promise.resolve(o).then(n,i)}function S(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function u(e){p(a,n,i,u,c,"next",e)}function c(e){p(a,n,i,u,c,"throw",e)}u(void 0)})}}var y=function(e){return{id:e.id,entity_type:o.Oz.BUSINESS_ACCOUNT,user:{id:e.user.id,entity_type:o.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}},g=function(e){return{id:e.id,entity_type:o.Oz.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:o.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}},_=function(e){return{id:e.id,entity_type:o.Oz.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:o.Oz.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}},v=(n=S(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.hierarchyId,e.next=3,(0,s.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(r,"/")});case 3:return n=e.sent,e.abrupt("return",n.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),b=(i=S(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.user_id,!(!(n=t.username)&&!r)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,c.Z.create("UserResource",{user_id:r,username:n}).callGet();case 5:return i=e.sent.resource_response.data,e.abrupt("return",i);case 8:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),A=(0,m.jsx)("hr",{style:{borderTop:"1px solid #e9e9e9"}}),E=(a=S(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entityId,e.next=3,(0,l.FO)([{entity_type:"BIZ_USER",entity_id:r,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]);case 3:if((n=e.sent[0])&&n.properties){e.next=7;break}return e.abrupt("return",{});case 7:return i=n.properties.GLOBAL_ACCOUNT_SWITCHER_CONFIG,e.abrupt("return",i);case 9:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),h=(u=S(regeneratorRuntime.mark(function e(t){var r,n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.entityId,n=t.actingBusinessId,i=t.favorites,a={},(0,f.k)(n)||(a.actingBusinessId=n),i){var u,c,o;a.favoriteAdAccounts={favoriteAdAccountsMap:(u={},c=i.actingBusinessId,o={advertiserId:i.adAccounts},(c=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(c))in u?Object.defineProperty(u,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):u[c]=o,u)}}if(!(Object.keys(a).length>0)){e.next=7;break}return e.next=7,(0,l.RM)([{entity_type:"BIZ_USER",entity_id:r,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:a}}]);case 7:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},24691:function(e,t){var r="/business/business-manager/",n="/business/business-hierarchy/";t.Z=function(e,t,i,a){switch(e){case"DASHBOARD":return a?"".concat(n).concat(String(a),"/dashboard/"):"".concat(r).concat(String(t),"/dashboard/");case"PEOPLE":return"".concat(r).concat(String(t),"/employees/");case"PARTNERS":return"".concat(r).concat(String(t),"/partners/");case"AD_ACCOUNTS":return"".concat(r).concat(String(t),"/ad-accounts/");case"HISTORY":return"".concat(r).concat(String(t),"/history/");case"PEOPLE_DETAIL":return"".concat(r).concat(String(t),"/employees/").concat(String(i),"/details/");case"PARTNERS_DETAIL":return"".concat(r).concat(String(t),"/partners/").concat(String(i),"/details/");case"SHARED_PARTNERS_DETAIL":return"".concat(r).concat(String(t),"/shared/").concat(String(i),"/details/");case"AD_ACCOUNTS_DETAIL":return"".concat(r).concat(String(t),"/ad-accounts/").concat(String(i),"/details/");case"PENDING_AD_ACCOUNTS_DETAIL":return"".concat(r).concat(String(t),"/ad-accounts/pending/").concat(String(i),"/details/");case"PEOPLE_INVITES":return"".concat(r).concat(String(t),"/employees/invites/");case"PEOPLE_PENDING_TAB":return"".concat(r).concat(String(t),"/employees/pending/");case"PARTNERS_PENDING_TAB":return"".concat(r).concat(String(t),"/partners/pending/");case"AD_ACCOUNTS_PENDING_TAB":return"".concat(r).concat(String(t),"/ad-accounts/pending");case"AD_ACCOUNTS_CEE_MIGRATION":return"".concat(r).concat(String(t),"/ad-accounts/cee-migration");case"PARTNERS_INVITE_PAGE":return"".concat(r).concat(String(t),"/partners/invites/");case"PARTNERS_REQUEST_PAGE":return"".concat(r).concat(String(t),"/partners/requests/");case"PROFILES":return"".concat(r).concat(String(t),"/profiles/");case"PROFILES_DETAIL":return"".concat(r).concat(String(t),"/profiles/").concat(String(i),"/details/");case"BUSINESS_SECURITY":return"".concat(r).concat(String(t),"/security/");case"SUPPORT_TOOL":return"".concat(r).concat(String(t),"/support/");case"ASSET_GROUPS":return i?"".concat(r).concat(String(t),"/asset-groups/?asset_group_id=").concat(String(i)):"".concat(r).concat(String(t),"/asset-groups/");case"INVOICE_MANAGEMENT":return"".concat(r).concat(String(t),"/invoice-management/");case"BUSINESS_HIERARCHY":return"".concat(n).concat(String(a),"/hierarchy/");case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return"".concat(n).concat(String(a),"/business_security/");case"MANAGERS":return"".concat(n).concat(String(a),"/managers/");case"AUDIENCES":return"".concat(r).concat(String(t),"/audiences/");case"SHARED_TAGS":return"".concat(r).concat(String(t),"/shared-tags/");case"CATALOGS":return"".concat(r).concat(String(t),"/catalogs/");case"BRAND_SAFETY":return"".concat(r).concat(String(t),"/brand-safety/");default:return r}}},562967:function(e,t,r){function n(e){return null==e}function i(e){return!n(e)}r.d(t,{G:function(){return i},k:function(){return n}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/72352-3639db60a92a2f10.js.map