"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[82952,44801,84687,27914,34679,44075,84945],{395980:function(e,t,n){n.r(t);var r,o,i={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};i.hash="ba7787ee8344e34b151f6a5f633c4170",t.default=i},334589:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},406718:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(340523),o=n(554786),i=n(149722),a=n(785059),c=n(199677);function l(e){var t,n,l=(0,o.HG)(),s=(0,r.F)().checkExperiment,u=(0,a.Z)(),d=(0,i.Z)(),f=(0,c.lJ)(d,u);l?(t=s("web_sce_organic_pinbuilder_dep").anyEnabled,n=s("web_sce_monetized_pinbuilder_dep").anyEnabled):(t=s("mweb_sce_organic_pinbuilder_dep").anyEnabled,n=s("mweb_sce_monetized_pinbuilder_dep").anyEnabled);var p=s("uid_sce_lightswitch_advertisers").anyEnabled;return!f&&((e&&(s("sce_lightswitch_organic"),s("sce_lightswitch_monetized")),l)?!!(t||n||p):t||n)}},705079:function(e,t,n){n.d(t,{Z:function(){return eu}});var r=n(672652),o=n(328038),i=n(684404),a=n(342513),c=n(510989),l=n(608516),s=n(819267);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,r.lazy)(function(){return n.e(79337).then(n.bind(n,879337))}),f=(0,a.Z)("LinkedBusinessAccountConfirmationModal").Provider;function p(e){var t,n=e.children,o=e.onDismiss,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],p=i[1],h=(0,r.useMemo)(function(){return{showLinkedBusinessAccountConfirmationModal:function(){p(!0)}}},[]);return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(f,{value:h,children:n}),a&&(0,s.jsx)(c.Z,{name:"SafeSuspense_LinkedBusinessAccountConfirmationModalContextProvider_LinkedBusinessAccountConfirmationModal",children:(0,s.jsx)(l.Z,{children:(0,s.jsx)(d,{onDismiss:function(){p(!1),o()}})})})]})}var h=n(619370),m=n(140017),_=n(339001),b=function(){var e=(0,m.ZP)();return(0,s.jsx)(i.he,{iconAccessibilityLabel:e._('Info message', 'header.accountsOptionsMenu.info.icon', 'ally label for the info icon on a Gestalt SlimBanner'),message:(0,s.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,_.nk)(e._('Business Access {{ isNow }} Business Manager {{ restOfMsg }}', 'header.accountsOptionsMenu.newEntryPtBold', 'Message informing of change in menu item. isNow: english words "is now" but not in bold, restOfMsg: rest of message but not in bold'),{isNow:(0,s.jsx)(i.xv,{inline:!0,children:e._('is now', 'header.accountsOptionsMenu.newEntryPtIsNow', 'Message informing of change in menu item')}),restOfMsg:(0,s.jsx)(i.xv,{inline:!0,children:e._('and can now be found in the Business drop-down menu.', 'header.accountsOptionsMenu.newEntryPtRestOfMsg', 'Message informing of change in menu item')})})}),type:"info"})},y=n(214877),v=n(515278),g=n(654960),x=n(434593);function w(){var e=(0,m.ZP)();return{addAccount:{value:"add-account",label:e._('Add account', 'header.accountsOptionsMenu.addSecondaryAccountButton', 'Short text on the button that allows a user to add a new account or log in to another Pinterest account')},businessAccess:{value:"business-access",label:e._('Business Access', 'Link to business Access Landing Page', 'A button that links to business access')},businessAccount:function(e){return{value:"business-account-".concat(e.id),label:e.username}},contentClaiming:{value:"content-claiming",label:e._('Content claiming portal', 'header.accountsOptionsMenu.contentManagementPortal', 'menu item linking to the content management portal')},convertToBusiness:{value:"convert-to-business",label:e._('Convert to business', 'header.accountsOptionsMenu.addAccountButton', 'Short upsell text on the button that allows a user to convert to a Pinterest business account')},currentAccount:{value:"current-account",label:e._('Current account', 'SwitchAccountsList.CurrentlyInItem', 'The account the user is currently logged into')},failedAccount:{value:"failed-account",label:e._('Failed to log into this account', 'header.accountsOptionsMenu.failedAccountItem', 'Explanation for which account the user could not log into')},getHelp:{value:"get-help",label:e._('Help center', 'header.accountsOptionsMenu.helpCenter.label', 'menu item linking to the help center')},homefeedTuner:{value:"homefeed-tuner",label:e._('Home feed tuner', 'header.accountsOptionsMenu.homefeedTuner.label', 'menu item linking to home feed editor')},installApp:function(e){return{value:"install-app",label:e}},lbaAccountSwitch:function(e){return{value:"lba-account-switch-".concat(e.id),label:e.username}},logOut:{value:"log-out",label:e._('Log out', 'header.accountsOptionsMenu.logout', 'menu item that logs you out of your Pinterest account')},parentAccount:function(e){return{value:"parent-account-".concat(e.id),label:e.username}},termsOfService:{value:"tos-policy",label:e._('Terms of service', 'header.accountsOptionsMenu.termsOfService.label', 'menu item linking to our terms of service')},privacyPolicy:{value:"privacy-policy",label:e._('Privacy policy', 'header.accountsOptionsMenu.privacyPolicy.label', 'menu item linking to our privacy policy')},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e._('Reports and violations center', 'header.accountsOptionsMenu.reportsAndViolationsCenter', 'menu item linked to the reports and violations center')},reportBug:{value:"report-bug",label:e._('Report a bug', 'header.accountsOptionsMenu.reportBug', 'menu item to show employee-only report bug modal')},settings:{value:"settings",label:e._('Settings', 'header.accountsOptionsMenu.settings', 'menu item linking to your settings')},settingsPrivacy:{value:"settingsPrivacy",label:e._('Your privacy rights', 'header.accountsOptionsMenu.settingsPrivacy.label', 'menu item linking to privacy settings')},adsSupport:{value:"ads-support",label:e._('Ads support', 'header.accountsOptionsMenu.adsSupport', 'menu item linking to ads support')},requestFeature:{value:"request-a-feature",label:e._('Request a feature', 'header.accountsOptionsMenu.requestAFeature', 'menu item linking to request a feature page in help center')},pinterestTvStudio:{value:"pinterest-tv-studio",label:e._('Pinterest TV Studio', 'Link to Pinterest Tv Creator Studio', 'a link menu item that links to creator stuido')},betaTester:{value:"be-a-beta-tester",label:e._('Be a beta tester', 'header.accountsOptionsMenu.beBetaTesterProgram', 'A link to Pinterest Beta Tester program')},teenSafetyResources:{value:"teen-safety-resources",label:e._('Teen safety resources', 'header.accountsOptionsMenu.teenSafetyResources', 'Menu item linkin the user to the help center for teen resources page')}}}var j=n(991326),S=n(404891),A=n(610954),P=n(42068),O=n(340523),k=n(757640),C=n(702497),T=n(858128),I=n(149722),E=n(29156),z=n(587703),Z=n(805783),L=n(308548),R=n(427514),M=n(286318),B=["chrome","windows"],D=n(930837);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var U=(0,n(832853).Z)(function(){return n.e(73669).then(n.bind(n,984471))},void 0,"app-www-ReportBug-ReportBug"),H=(0,a.Z)("reportBugModalContext"),F=H.Provider,W=H.useHook;function V(e){var t,n=e.children,o=(0,m.ZP)(),i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return N(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],l=i[1],u=(0,I.Z)(),d=(0,r.useCallback)(function(){l(!0)},[]),f=(0,r.useMemo)(function(){return{handleShowReportBugModal:d}},[d]);return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(F,{value:f,children:n}),a&&u.isAuth&&(0,s.jsx)(D.ZP,{accessibilityModalLabel:o._('Report bug', 'header.accountsOptionsMenu.logout', 'Modal accessibility label for reporting a bug'),onDismiss:function(){l(!1)},children:(0,s.jsx)(c.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,s.jsx)(U,{onDismiss:function(){l(!1)},username:u.username})})})]})}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Y(e){var t=e.failedAccount,n=e.handleReauthAccount,o=e.handleRemoveUnauthAccount,a=(0,m.ZP)();return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(i.xu,{marginTop:4,children:(0,s.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:n,text:a._('Log in again', 'header.accountsOptionsMenu.failedAccountLoginButton', 'Text on button allowing user to log into an account after failing to switch to that account')})}),(0,s.jsx)(i.xu,{marginTop:3,children:(0,s.jsx)(i.zx,{fullWidth:!0,onClick:function(){return o(t.id)},text:a._('Remove account', 'header.accountsOptionsMenu.failedAccountRemoveButton', 'Text on button allowing user to remove an account from their account switcher after failing to switch to it')})})]})}var J=n(598228),$=n(222881);function G(e){var t,n,o,a,c,l,u,d,f,p,h,_,D,N,U,H,F,V,G,K,X,Q,ee,et,en,er,eo,ei,ea,ec,el,es,eu,ed,ef,ep,eh,em,e_,eb,ey,ev,eg,ex,ew,ej,eS,eA,eP,eO,ek,eC,eT,eI,eE,ez,eZ,eL,eR,eM,eB,eD,eN,eU,eH,eF,eW,eV,eq,eY,eJ,e$,eG,eK,eX,eQ,e0,e1,e2,e4,e3,e8,e6,e7=e.anchor,e5=e.onDismiss,e9=e.advertiser,te=e.showAccountSwitcher,tt=e.showAdsSupportOption,tn=e.isWwwSite,tr=e.isPersistentArrUpsellEnabled,to=(0,I.Z)(),ti=(0,m.ZP)(),ta=(0,S.Z)(e5,tn),tc=ta.failedAccount,tl=ta.fetchedUserAccounts,ts=ta.handleAccountRepClick,tu=ta.handleLinkedAccountSwitch,td=ta.handleReauthAccount,tf=ta.handleRemoveUnauthAccount,tp=w(),th=tl.find(function(e){return e.id===(to.isAuth&&to.id)}),tm=to.isAuth&&(null===(e6=to.partner)||void 0===e6?void 0:e6.is_linked_business),t_=(o=(t={onDismiss:e5,advertiser:e9,showAdsSupportOption:tt,isWwwSite:tn,isPersistentArrUpsellEnabled:tr}).onDismiss,a=t.advertiser,c=t.showAdsSupportOption,l=t.isWwwSite,u=t.isPersistentArrUpsellEnabled,f=(d=(0,I.Z)()).id,p=d.isAuth,h=d.isEmployee,_=d.isLimitedLogin,D=d.isPartner,N=d.partner,U=d.teenSafetyOptionsUrl,H=(0,m.ZP)(),F=(0,y.v)().logContextEvent,G=(V=(0,k.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}})).isLoaded,K=V.data,Q=(X=(0,k.Z)({name:"UserSettingsResource"})).isLoaded,ee=X.data,et=(K||{}).content_claiming_access,en=W().handleShowReportBugModal,er=(0,j.Z)(),eo=(0,m.ZP)(),ei=(0,r.useContext)(M.Z),ea=(0,Z.kM)(window,ei),ec=(0,z.Z)(),el=function(e){ec({component:247,element:e,event_type:101})},es=(0,R.Z)(eo._('Install the {{appName}} app', 'header.accountsOptionsMenu.installApp', 'menu item linking app that can be installed'),{appName:(0,L.Z)(ea)}),eu=B.includes(ea)?{onClick:function(){if("windows"===ea)el(11409),(0,E.Z)("".concat(C.TMP,"&cid=flyout_cta"),!0);else if("chrome"===ea&&ei){var e=ei();e&&(el(11410),e.prompt())}},text:es}:null,ed=(0,O.F)().checkExperiment,ef=!!p&&D,ep=p&&!!U,eh=!!p&&!_,em=(0,v.Z)(),eb=(e_=(0,S.Z)(o,l)).fetchedUserAccounts,ey=e_.handleAccountRepClick,ev=e_.handleAddSecondaryAccount,eg=e_.handleClick,ex=e_.handleLinkedAccountSwitch,ew=e_.handleUnlockBusinessTools,ej=e_.isLoading,eS=e_.showUnlockBusinessTools,eA=w(),eP=ed("digital_services_act_portal").anyEnabled,eO=eb.filter(function(e){return!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness}),ek=eb.find(function(e){return e.id===(p&&f)}),p&&(null==N?void 0:N.is_linked_business)&&(eO=eO.sort(function(e){var t;return null!=ek&&null!==(t=ek.owners)&&void 0!==t&&t.some(function(t){return t.id===e.id})?-1:1})),eC=Q&&(!(null!=ee&&ee.opt_in_private_account)||ee.opt_in_private_account&&(eO.length>1||1===eO.length&&eO[0].businesses.length>0)),eT=ej&&(0,s.jsx)(A.Z,{}),eI=null!=ek&&null!==(n=ek.businesses)&&void 0!==n&&n.length?ek.businesses.map(function(e){return f!==e.id&&(0,s.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:function(){return ex(e,ek.id)},option:eA.lbaAccountSwitch(e),children:(0,s.jsx)(x.Z,{user:e},e.id)},e.id)}):null,eE=eO.map(function(e){var t,n;return e.id!==(p&&f)?[(0,s.jsx)(i.Lt.Item,{onSelect:function(){return ey(e)},option:eA.parentAccount(e),children:(0,s.jsx)(x.Z,{isCurrentAccount:(p&&f)===e.id,user:e})},e.id)].concat(function(e){if(Array.isArray(e))return q(e)}(n=null!=e&&null!==(t=e.businesses)&&void 0!==t&&t.length?e.businesses.map(function(t){return f!==t.id&&(0,s.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:function(){return ex(t,e.id)},option:eA.businessAccount(t),children:(0,s.jsx)(x.Z,{user:t},t.id)},t.id)}):[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return q(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,void 0)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):null}),ez=l&&(0,s.jsx)(i.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:ev,option:eA.addAccount}),eZ=(0,s.jsx)(i.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:ev,option:eA.addAccount}),eL=eS&&(0,s.jsx)(i.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:ew,option:eA.convertToBusiness}),eR=G&&void 0!==et&&et&&(0,s.jsx)(i.Lt.Link,{href:"/content-claiming",onClick:function(){return eg(13606)},option:eA.contentClaiming}),eM=p&&!!h&&(0,s.jsx)(i.Lt.Item,{onSelect:function(){en(),eg(13607),o()},option:eA.reportBug}),eB=(0,s.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-settings",href:eh?"https://".concat((0,g.Z)(),"/settings"):"",onClick:function(e){var t=e.event;if(em){t.stopPropagation(),em();return}eg(247)},option:eA.settings,children:u&&(ed("dweb_google_connect_persistent_banner_v2").anyEnabled||ed("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,s.jsxs)(i.kC,{children:[(0,s.jsx)(i.xv,{weight:"bold",children:"Settings"}),(0,s.jsx)(i.kC,{direction:"column",justifyContent:"center",children:(0,s.jsx)(i.xu,{marginStart:2,children:(0,s.jsx)(T.Z,{height:8,width:8})})})]})}),eD=ed("aid_exp_business_manager_dropdown_entrypoint").anyEnabled,eN=null,ef&&(eN=eD?(0,s.jsx)(b,{}):(0,s.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-business-access",href:"https://".concat((0,g.Z)(),"/business/business-access/"),onClick:function(){return eg(11719)},option:eA.businessAccess})),eU=(0,s.jsx)(i.Lt.Link,{href:eh?"/edit":"",onClick:function(e){var t=e.event;if(em){t.stopPropagation(),em();return}eg(11345)},option:eA.homefeedTuner}),eH=!ef&&eu?(0,s.jsx)(i.Lt.Item,{onSelect:function(){eu.onClick(),o()},option:eA.installApp(eu.text)}):null,eF=(0,s.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-privacy",href:eh?"https://".concat((0,g.Z)(),"/settings/privacy"):"",onClick:function(e){var t=e.event;if(em){t.stopPropagation(),em();return}eg(13334)},option:eA.settingsPrivacy}),eW=eP?(0,s.jsx)(i.Lt.Link,{href:eh?"/reports-and-violations":"",onClick:function(e){var t=e.event;if(em){t.stopPropagation(),em();return}eg(14618)},option:eA.reportsAndViolationsCenter}):null,eV=ep?(0,s.jsx)(i.Lt.Link,{href:null!=U?U:"",isExternal:!0,onClick:function(){F({event_type:101,element:14321}),eg(14321)},option:eA.teenSafetyResources}):null,eq=ef&&c&&(!a||(0,P.Z)((a||{}).actions||[],7))&&(0,s.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:C.JbB,isExternal:!0,onClick:function(){return eg(10106)},option:eA.adsSupport}),eY=ef?(0,s.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:C.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",isExternal:!0,onClick:function(){return eg(11345)},option:eA.requestFeature}):null,eJ=(0,s.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-help",href:"".concat(C.gOE,"?source=gear_menu_web"),isExternal:!0,onClick:function(){return eg(8002)},option:eA.getHelp}),e$=(0,s.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-tos",href:C.U5h,isExternal:!0,onClick:function(){return eg(61)},option:eA.termsOfService}),eG=(0,s.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-policy",href:C.R_9,isExternal:!0,onClick:function(){return eg(8004)},option:eA.privacyPolicy}),eK=(0,s.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:C.LOs,isExternal:!0,onClick:function(){return eg(13613)},option:eA.betaTester}),eX=(0,s.jsx)(i.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:er,option:eA.logOut}),eQ=eC?(0,s.jsxs)(i.Lt.Section,{label:H._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[eT,eI,eE,!(null!=ee&&ee.opt_in_private_account)&&ez,!(null!=ee&&ee.opt_in_private_account)&&eL]},"your-accounts"):null,e0=(0,s.jsxs)(i.Lt.Section,{label:H._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[eT,eI,eE,!(null!=ee&&ee.opt_in_private_account)&&eZ,!(null!=ee&&ee.opt_in_private_account)&&eL,eB,eN]},"your-accounts"),e1=(0,s.jsxs)(i.Lt.Section,{label:H._('Content', 'header.accountsOptionsMenu.contentHeader', 'header for content section of menu'),children:[eR,eW,eH]}),e2=(0,s.jsxs)(i.Lt.Section,{label:H._('Help', 'header.accountsOptionsMenu.helpHeader', 'header for help section of menu'),children:[eV,eJ,eq,eY,eM]}),e4=(0,s.jsxs)(i.Lt.Section,{label:H._('Privacy', 'header.accountsOptionsMenu.privacyHeader', 'header for privacy section of menu'),children:[eG,eF]}),e3=(0,s.jsxs)(i.Lt.Section,{label:"",children:[e$,eX]}),e8=(0,s.jsxs)(i.Lt.Section,{label:H._('More options', 'header.accountsOptionsMenu.optionsHeader', 'header for options section of menu'),children:[eM,eB,eN,eU,eH,eq,eY,eW,eR,eF,eV,eJ,e$,eG,eK,eX]}),{yourAccount:ef?e0:eQ,moreOptions:ef?[e1,e2,e4,e3]:e8}),tb=t_.yourAccount,ty=t_.moreOptions;return(0,s.jsx)($.Z,{children:(0,s.jsxs)(i.Lt,{anchor:e7,disableMobileUI:!0,id:"HeaderAccountOptionsFlyout",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:e5,zIndex:new i.Ry(1e3),children:[te&&(tc?(0,s.jsxs)(i.Lt.Section,{label:ti._('Oh no! You\'re no longer logged into', 'header.accountsOptionsMenu.failedAccount', 'Full sentence: "Oh no! You\'re no longer logged into <user\'s account>". Text telling user that they are no longer logged into an account after trying to switch to it'),children:[(0,s.jsx)(i.Lt.Item,{onSelect:function(){},option:tp.failedAccount,children:(0,s.jsx)(x.Z,{user:tc})}),(0,s.jsx)(Y,{failedAccount:tc,handleReauthAccount:td,handleRemoveUnauthAccount:tf})]}):[(0,s.jsx)(i.Lt.Section,{label:ti._('Currently in', 'SwitchAccountsList.CurrentlyInTitle', 'Title for currently logged in account on Switch Account Page'),children:!!th&&(0,s.jsx)(i.Lt.Item,{onSelect:function(){return tm?tu(th,void 0):ts(th)},option:tp.currentAccount,selected:tp.currentAccount,children:(0,s.jsx)(i.rU,{href:tn?"/".concat(th.username,"/"):"".concat(J.C0,"/").concat(th.username,"/"),underline:"none",children:(0,s.jsx)(x.Z,{isCurrentAccount:!0,user:th})})})},"currently-in"),tb]),ty]})})}var K=function(e){return["MOBILE","DESKTOP"].includes(e)},X=function(e){return"STERLING"===e},Q=n(857916),ee=n(96157),et=n(737811),en=n(13848),er=n(311694),eo=n(514810),ei=n(983983),ea=n(89511),ec=n(728277);function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return es(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eu(e){var t=e.currentSite,n=e.isSterlingOnSteroids,a=e.isAdsNavMenuEnabled,c=e.isPersistentArrUpsellEnabled,l=e.advertiser,u=(0,m.ZP)(),d=(0,eo.Z)(),f=d.showAccountMenuFlyout,_=d.updateHeaderState,b=function(e){_({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},y=el((0,r.useState)(!1),2),v=y[0],g=y[1],x=el((0,r.useState)(!0),2),w=x[0],j=x[1],S=(0,o.k6)(),A=(0,I.Z)(),P=(0,ec.Z)(),C=(0,ea.Z)({user:P.data,viewer:A}),E=C&&w,z=(0,k.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:A.isAuth?A.id:""}}),Z=(0,r.useRef)(null),L=(0,O.F)().checkExperiment,R=K(t)&&!n||"ANALYTICS"===t||X(t),M=X(t)||a,B=(0,o.TH)(),D=(0,en.F9)();(0,r.useEffect)(function(){(0,Q.rL)({showOneToast:D.showOneToast,i18n:u,location:B,history:S,username:A.username||"",fullName:A.fullName||"",avatarUrl:A.imageMediumUrl||""})},[]),(0,r.useEffect)(function(){return A.isAuth&&A.partner&&(0,et.Mt)(A,z.data),function(){A.isAuth&&A.partner&&(0,et.CV)("flyout.dismiss")}},[]);var N=function(){b(!1)};(0,r.useEffect)(function(){var e,t;(null!==(e=null===(t=z.data)||void 0===t?void 0:t.businesses)&&void 0!==e?e:[]).length>0&&g(!0)},[z]);var U=B.pathname,H=!(U.startsWith("/settings")||U.startsWith("/edit"))&&(A.username&&U.startsWith("/".concat(A.username))||U.startsWith("/news_hub")),F=C||U.startsWith("/homefeed")||U.startsWith("/business/hub")||"/"===U;return(0,s.jsx)(er.T,{children:(0,s.jsx)(V,{children:(0,s.jsxs)(p,{onDismiss:N,children:[(0,s.jsxs)(i.xu,{ref:Z,"data-test-id":"header-accounts-options-button",position:"relative",children:[(0,s.jsx)(i.hU,{accessibilityLabel:u._('Accounts and more options', 'header.accountsOptionsMenu.accountsOptionsMenuButton', 'accessibility label for the button that shows the accounts/options menu'),icon:"arrow-down",iconColor:f?"darkGray":"gray",onClick:function(){b(!f),g(!1),j(!1)},size:"xs",tooltip:{accessibilityLabel:"",text:u._('Accounts and more options', 'navbar.actionsOptionsButton.tooltip', 'Tooltip text for icon button to open accounts/options menu'),zIndex:new i.H3([new i.Ry(ei.fe)])}}),c&&(L("dweb_google_connect_persistent_banner_v2").anyEnabled||L("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{right:"8px"}},position:"absolute",top:!0,children:(0,s.jsx)(T.Z,{height:14,isAbsolute:!0,text:"1",width:14})})]}),f&&(0,s.jsx)(i.xu,{"data-test-id":"HeaderAccountsOptionsFlyout",children:(0,s.jsx)(G,{advertiser:l,anchor:Z.current,isPersistentArrUpsellEnabled:c,isWwwSite:K(t),onDismiss:N,showAccountSwitcher:R,showAdsSupportOption:M})}),v&&(0,s.jsx)(i.xu,{"data-test-id":"LinkedBusinessAccountFlyout",children:(0,s.jsx)(h.default,{anchor:Z.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,ee.LO)(B)&&(0,s.jsx)(h.default,{anchor:Z.current,experienceIds:[503137],idealDirection:"left",placementId:1000303}),A.isAuth&&!A.partner?(0,s.jsx)(h.default,{anchor:Z.current,experienceIds:[503893,503602],onClickComplete:function(){return S.push("/settings")},placementId:1000109,showCaret:!0}):null,E&&(0,s.jsx)(h.default,{anchor:Z.current,experienceIds:[505848],hasFullWidthButton:!1,onClickComplete:function(){j(!1),S.push("/settings/permissions")},placementId:1000109,showCaret:!0,textWeight:"normal"}),H&&(0,s.jsx)(h.default,{anchor:Z.current,experienceIds:[505283],flyoutSize:"md",hasFullWidthButton:!1,onClickComplete:function(){S.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textAlign:"center",textWeight:"bold"}),F&&(0,s.jsx)(h.default,{anchor:Z.current,experienceIds:[505949],hasFullWidthButton:!1,onClickComplete:function(){S.push("/settings/claim")},placementId:1000109,showCaret:!0,textWeight:"normal"})]})})})}},434593:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(684404),o=n(205841),i=n(140017),a=n(819267);function c(e){var t;return null!==(t=e.partner)&&void 0!==t&&t.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function l(e){var t,n,l=e.user,s=e.isCurrentAccount,u=(0,i.ZP)(),d=l.partner;return(0,a.jsxs)(r.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,a.jsx)(r.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,a.jsx)(o.qE,{accessibilityLabel:"",name:c(l),src:(t=l.imageMediumUrl)&&!t.includes("static/images/user/default")?t:""})}),(0,a.jsxs)(r.xu,{maxWidth:176,children:[(0,a.jsx)(r.xv,{lineClamp:1,weight:"bold",children:c(l)}),(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,a.jsx)(r.xv,{color:"subtle",lineClamp:1,size:"200",children:d?u._('Business', 'SwitchAccountsListItem.BusinessAccount.label', 'Label shown for business account in the Account Switcher'):u._('Personal', 'SwitchAccountsListItem.PersonalAccount.label', 'Label shown for personal account in the Account Switcher')})}),s&&(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,a.jsx)(r.xv,{color:"subtle",lineClamp:1,size:"200",children:d?null===(n=l.partner)||void 0===n?void 0:n.bizContactEmail:l.email})})]})]})}},991326:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(587703),o=n(737811),i=n(488726),a=n(598753),c=n(149722),l=n(939341);function s(){var e=(0,c.Z)(),t=(0,r.Z)(),n=(0,i.aU)(),s=(0,l.a)()||{},u=s.headerVisible,d=s.activeClient,f=s.changeClient;return function(){if(t({event_type:101,component:8,element:8005}),u&&d){f();return}(0,a.lv)()>1?(e.isAuth&&((0,o.RD)(e.id),(0,o.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,a.Q)()})):((0,o.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},404891:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(672652),o=n(328038),i=n(216167),a=n(316353),c=n(214877),l=n(322079),s=n(30378),u=n(307772),d=n(737811),f=n(702497),p=n(149722),h=n(311694),m=n(794109),_=n(953565);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=(0,c.v)(),y=n.flushContextEvents,v=n.logContextEvent,g=b((0,r.useState)(!1),2),x=g[0],w=g[1],j=b((0,r.useState)(null),2),S=j[0],A=j[1],P=(0,o.k6)(),O=(0,p.Z)(),k=(0,h.g)().showAccountSwitcherLoginModal,C=function(){k("account_switcher_flyout",null==S?void 0:S.email)},T=(0,m.N)().userAccounts,I=(0,a.iY)().data,E=(0,l.Z)(),z=!!O.isAuth&&!O.partner&&null!=I&&!!I.businesses&&0===I.businesses.length;(0,r.useEffect)(function(){return O.isAuth&&(0,d.Mt)(O,I),function(){(0,d.CV)("flyout.dismiss")}},[]),(0,r.useEffect)(function(){return(0,d.CV)("modal.shown"),function(){(0,d.CV)("modal.dismiss")}},[]),(0,r.useEffect)(function(){T.length>1&&v({event_type:13,view_type:234,component:13369,element:12722})},[v,T]);var Z=function(e,t){throw(0,d.z3)(e,"account_switcher_flyout"),w(!1),t},L=function(e){var t=e.id;w(!0),v({event_type:101,component:13369,element:11196}),(0,d.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),s.Z.pause(u.LU),y(!0),E({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then(function(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null!=r&&null!==(n=r.resource_response.data)&&void 0!==n&&n.user?(0,d.iS)("/",t,"account_switcher_flyout"):((0,d.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,d.z3)(t,"account_switcher_flyout"),A(e),w(!1))},function(e){Z(t,e)})};return{failedAccount:S,fetchedUserAccounts:T,handleAccountRepClick:function(e){O.isAuth&&e.id!==O.id&&L(e)},handleAddSecondaryAccount:function(){(0,d.CV)("add_account_click",null,"account_switcher_flyout"),v({event_type:101,component:8,element:12756}),e(),P.push(f.rOJ)},handleClick:function(t){13290!==t&&v({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:function(e,n){var r=e.partner;if(w(!0),v({event_type:101,component:13369,element:null!=r&&r.isLinkedBusiness?11195:11194}),s.Z.pause(u.LU),y(!0),null!=r&&r.isLinkedBusiness){var o={business_id:e.id,get_user:!0,owner_id:n};(0,_.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),E({creds:o,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(function(){(0,_.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,d.iS)("/",e.id,"account_switcher_flyout")},function(t){Z(e.id,t)})}else i.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(function(){O.isAuth&&((0,d.RD)(O.id),(0,d.iS)(t?"/".concat(e.username):"/",O.id,"account_switcher_flyout"))},function(e){O.isAuth&&Z(O.id,e)})},handleReauthAccount:function(){(0,d.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),A(null),C()},handleRemoveUnauthAccount:function(e){(0,d.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,d.RD)(e),A(null)},handleUnlockBusinessTools:function(){e(),O.isAuth?window.location.href="https://www.pinterest.com/convert-business":P.push("".concat(f.KDH,"?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings")),v({event_type:101,component:8,element:10299})},isLoading:x,showUnlockBusinessTools:z}}},42068:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){return e.includes(t)||e.includes(80)}},568803:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"object"===r(e)&&null!==e&&"url"in e&&"media"in e}n.d(t,{Z:function(){return o}})},316353:function(e,t,n){n.d(t,{OS:function(){return i},iY:function(){return a}});var r=n(757640),o=n(149722),i=4;function a(){var e=(0,o.Z)();return(0,r.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}},433058:function(e,t,n){var r=n(672652),o=n(214877),i=n(525364);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){var t=(0,r.useRef)(!1),n=(0,o.v)().logContextEvent,l=(0,i.SU)(),s=l.viewType,u=l.viewParameter;(0,r.useEffect)(function(){Object.entries(e).length>0&&!t.current&&s&&(n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({event_type:13,view_type:s,view_parameter:u},e)),t.current=!0)})}},65775:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(684404),o=n(140017),i=n(819267);function a(){var e=(0,o.ZP)();return(0,i.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(r.$j,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},847160:function(e,t,n){n.d(t,{Bx:function(){return o},N4:function(){return a},is:function(){return c},lt:function(){return r},oM:function(){return i}});var r=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},o=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},i=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},c=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},322079:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(672652),o=n(216167),i=n(224796),a=n(214877),c=n(658583),l=n(622541),s=n(165736),u=n(123526),d=n(769666),f=n(96452),p=n(488726),h=n(467707),m=n(508218),_=n(182962),b=n(891276),y=n(535053),v=n(228441),g=n(731714),x=n(217058),w=n(722363),j=n(926234),S=n(67661),A=n(953565);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(){var e=(0,p.hq)(),t=(0,_.Z)(),n=(0,a.v)().logContextEvent,P=(0,w.Z)();return(0,r.useCallback)(function(r){var a=r.creds,p=r.isAccountSwitch,_=r.loggingOptions,w=_.loggingData,O=void 0===w?{}:w,C=_.loginAttemptContextEvent,T=r.recaptchaV2Token,I=r.recaptchaV3Token;t();var E=!!(a.facebook_autologin||a.autologin),z=(0,m.eD)(a),Z=function(e){var t=a.google_open_id_token?"google":"facebook";E&&(0,x.dy)({event:e,provider:t})},L=function(e){E||(0,x.EX)({event:e,provider:(0,m.nY)(a)})},R=function(e){var t;n(k(k({},C),{},{event_type:e,aux_data:k(k({},C.aux_data),{},{upsell_reason:(null===(t=C.aux_data)||void 0===t?void 0:t.upsell_reason)||(E?"autologin":g.Z.getItem(i.bg)||null),upsell_view_count:g.Z.getItem(i.w0)||0})})),7536===e&&(g.Z.setItem(i.w0,0),g.Z.setItem(i.V6,(0,m.nY)(a)))};R(7534),P({action:E?"autologin":"login",event:"attempt",trigger:O.trigger,type:z});var M=function(e){var t="referrer_unknown";try{var n=document.referrer;t=n?n.indexOf("/t.co/")>-1?"twitter":n.indexOf("google.")>-1?"google":n.indexOf("bing.")>-1?"bing":n.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}var r=O===Object(O)?O.container:"container_unknown";(0,x.My)("login.referrer."+t+"."+z),(0,x.My)("login.container."+String(r)+"."+z),(0,x.My)("login.type."+z);var o=z||"method_unknown",i=O.page||"page_unknown";a.facebook_autologin?((0,x.My)("web_autologin_facebook"),(0,x.My)("new_web_autologin_facebook",{page:i,referrer:t,container:r})):((0,x.My)("web_login.".concat(o,".success.").concat(i,".").concat(String(r),".").concat(t,".tier1")),(0,A.nP)("web_login.".concat(o,".success.").concat(i,".").concat(String(r),".").concat(t,".tier1")),(0,x.My)("new_web_login.".concat(o,".success"),{page:i,referrer:t,container:r})),(0,b.ko)({country:null==e?void 0:e.country,countryFromHostName:null==e?void 0:e.countryFromHostName,countryFromIp:null==e?void 0:e.countryFromIp,regionFromIp:null==e?void 0:e.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),R(7536),P({action:E?"autologin":"login",event:"success",trigger:O&&O.trigger,type:z})},B=function(e){var t=e.error,n=e.isCrossDomain;if(t){var r=t.http_status===y.Ej?y.Ej:t.api_error_code,o=r;r&&f.qF.has(r)&&(o=f.qF.get(r));var i=O.container,a=O.trigger;(0,x.My)("".concat(n?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error",".").concat(String(o),".").concat(i||"unknow_container",".").concat(z)),R(7535),P({action:E?"autologin":"login",event:"fail",trigger:a,type:z})}};if(a.username_or_email&&!a.mfa_resend&&e&&-1!==h.Z.indexOf(e.origin)){var D=function(e){return(0,x.My)("web_cross_domain_login.".concat(e,".").concat((0,m.eD)(a)))};D("attempt");var N=e.referrer,U=e.facebookToken,H=e.unauthId;return(0,s.pH)(a,{recaptchaV3Token:I,referrer:N,facebookToken:U,unauthId:H}).then(function(e){var t=e&&e.data;if(t)return D("success_with_token"),(0,s.kv)(t).then(function(){return D("success_token_exchanged"),M(),Promise.resolve()},function(e){throw D("success_token_not_exchanged"),e});throw D("success_without_token"),Error()},function(e){throw D("failure"),B({error:e,isCrossDomain:!0}),e})}Z("login_api_call_start"),L("login_api_call_start");var F=(0,j.O)();return o.Z.create("UserSessionResource",k(k(k({},a),F?{referrer:F}:Object.freeze({})),{},{get_user:a.get_user||a.switch_account&&p,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,S.t_)()||null,recaptchaV2Token:T,recaptchaV3Token:I})).callCreate({showError:!1,async:!0}).then(function(e){var t=(null==e?void 0:e.client_context)||Object.freeze({});return M({country:t.country,countryFromHostName:t.country_from_hostname,countryFromIp:t.country_from_ip,regionFromIp:t.region_from_ip}),Z("login_api_call_success"),L("login_api_call_success"),(0,u.B)(!1),(0,d.Z)(),c.zN(l.e7.name),c.zN(l.x3.name),(0,v.Dm)("login").then(function(){return e})},function(e){return B({error:e,isCrossDomain:!1}),Z("login_api_call_failure"),L("login_api_call_failure"),Promise.reject(e)})},[e,t,n,P])}},515278:function(e,t,n){var r=n(847160),o=n(140017),i=n(166770);t.Z=function(){var e=(0,i.H)(),t=e.loginForMore,n=e.viewer,a=e.limitedLoginModalSubheader,c=(0,o.ZP)();return"AUTH"===n.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,r.lt)(c))}}},619370:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(672652),o=n(684404),i=n(401429),a=n(819267);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(i,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(i);return e=t?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return d(s(e=r.call.apply(r,[this].concat(n))),"onScroll",function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout(function(){t(),e.dismissed=!0,e.timer=void 0},3e3))}),d(s(e),"dismissed",!1),e}return n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.text,r=e.thumbnails,i=e.idealDirection,c=r.slice(-3);return(0,a.jsx)(o.J2,{anchor:t,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(o.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(o.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(o.xv,{color:"default",weight:"bold",children:n})}),(0,a.jsx)(o.xu,{display:"flex",marginEnd:-2,paddingX:2,children:c.map(function(e){return(0,a.jsx)(o.xu,{height:60,paddingX:1,width:50,children:(0,a.jsx)(o.zd,{height:60,rounding:2,children:(0,a.jsx)(o.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)})})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent),h=n(76561),m=["scroll_to_dismiss","scroll_to_dismiss_delay_in_seconds"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(l,e);var t,n,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=v(l);return e=t?Reflect.construct(n,arguments,v(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return g(y(e=c.call.apply(c,[this].concat(n))),"dismissRef",(0,r.createRef)()),g(y(e),"state",{paused:!1}),g(y(e),"dismissCb",function(){var t,n;null===(t=(n=e.dismissRef).current)||void 0===t||t.call(n)}),g(y(e),"handlePulsarClick",function(t,n){t?e.setState({paused:!0}):n()}),e}return n=[{key:"componentWillUnmount",value:function(){var e=this.props.anchor;this.timer&&clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}},{key:"setDefaultPulsarTooltip",value:function(e){var t=function(e){return null!=e};e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}},{key:"getText",value:function(e,t,n){return(t&&e.text.replace("{boardName}",t),n)?n(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,c=t.customWrapper,l=t.experienceIds,s=t.boardTextOverride,u=t.flyoutSize,d=t.fontSize,f=t.hasFullWidthButton,_=void 0===f||f,b=t.idealDirection,y=t.useMasonryFlyout,v=t.noClickToDismiss,g=t.onClickComplete,x=t.onClickDismiss,w=t.placementId,j=t.positionRelativeToAnchor,S=t.shouldSeeReturnToHomeFeedTooltipEdu,A=void 0!==S&&S,P=t.shouldTimeoutDismiss,O=t.showCaret,k=t.textAlign,C=t.textOverflow,T=t.textOverrideFn,I=t.textWeight,E=t.customizedComplete,z=t.pulsarZIndex,Z=t.advertiserId,L=t.dismissButtonLocation,R=t.dismissButtonColor,M=t.dismissButtonMarginTop,B=c||function(e){var t=e.children;return y?(0,a.jsx)(o.mh,{children:t}):t};return(0,a.jsx)(i.Z,{eligibleIds:l,eligibleTypes:[8],placementId:w,targeting:Z?{advertiserId:parseInt(Z,10)}:null,children:function(t){var i=t.complete,c=t.dismiss,l=t.experience,f=l.display_data,w=f.scroll_to_dismiss,S=f.scroll_to_dismiss_delay_in_seconds,Z=void 0===S?0:S,D=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(f,m),N=w&&n,U=function(){H(),e.timer||(e.timer=setTimeout(c,1e3*Z))},H=function(){N&&(window.removeEventListener("scroll",U),window.removeEventListener("touchmove",U))},F=function(){H(),i()};if(N&&(window.addEventListener("scroll",U),window.addEventListener("touchmove",U)),e.setDefaultPulsarTooltip(D),!D.has_pulsar&&!D.has_tooltip)return F(),null;P&&D.disappearTime&&D.disappearTime>0&&(e.timer=setTimeout(function(){return U(),null},D.disappearTime));var W=501041===l.experience_id||505086===l.experience_id;return D.has_tooltip&&!D.has_pulsar&&(e.dismissRef.current=U,null==n||n.addEventListener("click",e.dismissCb)),(0,a.jsxs)(r.Fragment,{children:[D.has_pulsar&&(0,a.jsx)(h.Z,{anchor:n,leftOverride:W?342:void 0,onTouch:function(){return e.handlePulsarClick(D.has_tooltip,F)},paused:e.state.paused,topOverride:W?-5:void 0,zIndex:z&&z.index()}),D.has_tooltip&&(!D.has_pulsar||e.state.paused)&&(D.thumbnail_urls?(0,a.jsx)(p,{anchor:n,dismiss:U,idealDirection:b||"down",text:D.text,thumbnails:D.thumbnail_urls}):(0,a.jsx)(B,{children:(0,a.jsx)(o.J2,{_deprecatedShowCaret:O,anchor:n,color:"deprecatedBlue",idealDirection:b||"down",onDismiss:v?function(){}:U,positionRelativeToAnchor:!y&&j,shouldFocus:!1,size:u,children:(0,a.jsxs)(o.xu,{column:12,paddingX:A?5:3,paddingY:3,children:[(0,a.jsxs)(o.xv,{align:"right"===k?"end":k,color:"inverse",overflow:C,size:d,weight:I||"bold",children:[e.getText(D,s,T),D.secondary_cta_link&&(0,a.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(o.xv,{color:"inverse",size:d,weight:"bold",children:(0,a.jsx)(o.rU,{display:"inlineBlock",href:D.secondary_cta_link.url,target:"blank",underline:"hover",children:D.secondary_cta_link.text})})})]}),D.sub_text&&(0,a.jsx)(o.xu,{paddingY:2,children:(0,a.jsx)(o.xv,{color:"inverse",size:d,children:D.sub_text})}),(D.dismiss_button_text||D.complete_button_text)&&(0,a.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:L||"start",marginTop:M||2,children:[D.dismiss_button_text&&(0,a.jsx)(o.xu,{column:6,marginEnd:1,children:(0,a.jsx)(o.zx,{color:R||"blue",fullWidth:_,onClick:function(){x&&x(),U()},size:"md",text:D.dismiss_button_text})}),D.complete_button_text&&(0,a.jsx)(o.xu,{column:D.dismiss_button_text?6:12,children:E?(0,a.jsx)(o.iP,{fullHeight:!0,onTap:function(){F(),g&&g()},rounding:2,children:(0,a.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,a.jsx)(o.xv,{color:"shopping",weight:"bold",children:D.complete_button_text})})}):(0,a.jsxs)(o.kC,{justifyContent:"center",children:[D.complete_button_cta_url&&(0,a.jsx)(o.ZP,{color:"white",fullWidth:_,href:D.complete_button_cta_url,onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),F(),g&&g()},size:"md",target:D.complete_button_cta_url?"blank":null,text:D.complete_button_text}),!D.complete_button_cta_url&&(0,a.jsx)(o.zx,{color:"white",fullWidth:_,onClick:function(){F(),g&&g()},size:"md",text:D.complete_button_text})]})})]})]})})}))]})}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}(l.prototype,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);g(w,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},454514:function(e,t,n){n.d(t,{UZ:function(){return d},Vg:function(){return u},ZP:function(){return f}});var r=n(672652),o=n(684404),i=n(554786),a=n(494125),c=n(819267);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=200,d=function(e){var t=e.deviceType,n=e.hiding,r=e.visible,o="desktop"===t,i=0,a=o?"translateY(200px)":"translateY(-200px)",c="opacity 0.1s ease-in-out",l="hidden";return r&&!n&&(i=1,a="translateY(0)",c="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),r&&n&&(a="scale(1.1)",c="opacity transform ".concat(.2,"s")),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:o?10:0,transform:a,transition:c,visibility:l}};function f(e){var t,n,s=e._dangerouslySetThumbnail,f=e._dangerouslySetPrimaryAction,p=e.text,h=e.primaryAction,m=e.dismissButton,_=e.helperLink,b=e.thumbnail,y=e.type,v=e.dataTestId,g=e.duration,x=void 0===g?2e3:g,w=e.onHide,j=e.href,S=e.onClick,A=e.openNewPage,P=e.imageUrl,O=(0,i.ZP)(),k=l((0,r.useState)(!1),2),C=k[0],T=k[1],I=l((0,r.useState)(!1),2),E=I[0],z=I[1],Z=(0,r.useRef)(),L=function(){T(!0),Z.current=setTimeout(w,u)},R=function(){Z.current=setTimeout(L,x)},M=function(){Z.current&&clearTimeout(Z.current)};(0,a.Z)(function(){return setTimeout(function(){return z(!0)},100),R(),M}),P&&(n={image:(0,c.jsx)(o.Ee,{alt:"string"==typeof p?p:"".concat(p[0]," ").concat(p[1]),fit:"cover",naturalHeight:1,naturalWidth:1,src:P})});var B=(0,c.jsx)(o.FN,{_dangerouslySetPrimaryAction:f,_dangerouslySetThumbnail:s,dismissButton:m,helperLink:_,primaryAction:h,text:p,thumbnail:null!==(t=n)&&void 0!==t?t:b,type:y}),D=d({deviceType:O,hiding:C,visible:E}),N=D.marginTop,U=D.opacity,H=D.pointerEvents,F=D.position,W=D.transform,V=D.transition,q=D.visibility;return(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:W,transition:V,visibility:q,pointerEvents:H}},"data-test-id":null!=v?v:"toast",display:"flex",marginTop:N,onMouseEnter:M,onMouseLeave:R,opacity:U,position:F,children:j?(0,c.jsx)(o.Tg,{href:j,onTap:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;j.startsWith("#")&&(t.preventDefault(),n()),null==S||S(t)},rounding:"pill",target:A?"blank":null,children:B}):B})}},205841:function(e,t,n){n.d(t,{qE:function(){return a},u_:function(){return c.ZP},FN:function(){return l.ZP}});var r=n(684404),o=n(819267);function i(e){var t=e.accessibilityLabel,n=e.name,i=e.outline,a=e.size,c=e.src,l=e.verified;return(0,o.jsx)(r.qE,{accessibilityLabel:t,name:n,outline:i,size:a,src:(null==c?void 0:c.includes("images/user/default"))&&n?void 0:c,verified:l})}i.displayName="Avatar";var a=i,c=n(930837),l=n(454514)},654960:function(e,t,n){var r=n(598228);t.Z=function(){var e=window.location.hostname,t=e.includes("pinterdev")&&!e.includes("ads.pinterdev"),n=e.includes("pinterest")&&(e.startsWith("www")||e.startsWith("latest")||e.startsWith("testing"));return t||n?e:e.includes("ads-latest")?"latest.pinterest.com":r.Vi}},857916:function(e,t,n){n.d(t,{Di:function(){return f},Jl:function(){return s},R:function(){return u},ZP:function(){return b},aU:function(){return p},j2:function(){return d},pN:function(){return h},rL:function(){return y},vW:function(){return _}});var r=n(684404),o=n(205841),i=n(454514),a=n(339001),c=n(624797),l=n(819267),s=1e4,u="permanent_account_closure",d="account_deletion_email_sent",f="account_deactivated",p="unlink_successful",h="account_switch_to_settings";function m(e,t,n){return(0,l.jsx)(r.xv,{align:n||"center",children:(0,a.nk)(e,{username:(0,l.jsx)(r.xv,{inline:!0,weight:"bold",children:t})})})}function _(e){var t=e.i18n,n=e.message,r=e.multipleAccounts,o=e.username,i=void 0===o?"":o;switch(n){case u:return t._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case d:if(r)return m(t._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),i);return m(t._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case f:return m(r?t._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):t._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case p:return m(t._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case h:return m(t._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");default:return""}}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!(t&&t.search))return"";var r=(0,c.mB)(t.search).message,o=(0,c.mB)(t.search).username||n;return _({i18n:e,message:r,multipleAccounts:"true"===(0,c.mB)(t.search).multiple_accounts,username:o})}function y(e){var t=e.showOneToast,n=e.i18n,r=e.location,a=e.history,u=e.username,d=e.fullName,f=e.avatarUrl;if(r&&r.search){var m=b(n,r,u||""),_=(0,c.mB)(r.search).message,y=_===h||_===p;m&&(t(function(e){var t=e.hideToast;return(0,l.jsx)(i.ZP,{duration:s,onHide:t,text:m,thumbnail:y?{avatar:(0,l.jsx)(o.qE,{name:d||"",size:"md",src:f||""})}:void 0})}),a.replace(r.hash?"".concat(r.pathname).concat(r.hash):r.pathname))}}},737811:function(e,t,n){n.d(t,{CV:function(){return c.Z},Mt:function(){return p},RD:function(){return f},iS:function(){return h},z3:function(){return m}});var r=n(29156),o=n(30378),i=n(307772),a=n(54576),c=n(300494),l=n(598753);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){var t=d({},(0,l.rl)());delete t[e],(0,l.r8)(t)},p=function(e,t){if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t){(0,a.Z)(d(d({},e),{},{email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""}));return}(0,a.Z)(e)}},h=function(e,t,n){(0,c.Z)("switch_account_success",{destination_user_id:t},n),(0,r.Z)(e)},m=function(e,t){o.Z.resume(i.Z3),(0,c.Z)("switch_account_failure",{destination_user_id:e},t)}},54576:function(e,t,n){var r=n(300494),o=n(598753);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){var r;return(r=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){var t,n={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(n.fullName&&n.imageMediumUrl&&n.imageLargeUrl||(0,r.Z)("utils.incomplete_user_values"),null!==(t=e.partner)&&void 0!==t&&t.is_create)?c(c({},n),{},{partner:{is_create:!0}}):n};t.Z=function(e,t,n){(0,o.r8)(c(c({},(0,o.rl)()),{},l({},e.id,s(e)))),t&&n&&(0,r.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},300494:function(e,t,n){var r=n(512419),o=n(598753),i=n(217058);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s="web_account_switcher",u=function(){var e=(0,r.Z)();return(0,i.tj)("".concat(s,".utils.group_created"),{group_id:e,group_count:(0,o.lv)()}),e};t.Z=function(e,t,n){var r=(0,o.yW)();r||(r=u(),(0,o.M3)(r));var a={group_count:(0,o.lv)()},c="";n&&(c="account_switcher_modal"===n?"modal.":"flyout."),(0,i.tj)("".concat(s,".").concat(c).concat(e),l(l({},t),a))}},508218:function(e,t,n){n.d(t,{Ny:function(){return f},eD:function(){return m},lp:function(){return h},nY:function(){return _}});var r=n(224796),o=n(807657),i=n(602377),a=n(731714),c=n(702497),l=n(217058),s=n(88682),u=n(623891);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6}),p=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"defaultLoginRedirectUrl",value:function(){return window.location.pathname===c.lfe||window.location.pathname===c.ZEf||window.location.pathname.startsWith(c.rOJ)?"/":window.location.pathname+window.location.search}},{key:"defaultSocialLoginRedirectUrl",value:function(){return window.location.pathname.startsWith(c.rOJ)?"/":window.location.pathname}},{key:"isExceedRecaptchaLocalLimit",value:function(){var e=a.Z.getItem(r.kl);if(e&&e.indexOf("|")>-1){var t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}},{key:"updateRecaptchaTimeStamp",value:function(){var e=a.Z.getItem(r.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();var n=(new Date().getTime()/1e3).toString();t.push(n);var o=t.join("|");a.Z.setItem(r.kl,o)}},{key:"isFullyLoggedIn",value:function(e,t){return e&&t===i.Z.DEFAULT}},{key:"handleRedirect",value:function(e){if(!e){e="/";var t=(0,u.Z)();if(t){var n=t.next;n&&(e=n,delete t.next),e=(0,s.Z)(e,t)}}(0,o.Z)(e)}},{key:"handleRedirectWithFallbackWindowLocation",value:function(){this.handleRedirect(this.defaultLoginRedirectUrl())}},{key:"handleSignupRedirect",value:function(e,n){a.Z.setItem(r.F6,Date.now()),!n&&e&&"/"!==e?t.handleRedirect(e):t.handleRedirect("/")}},{key:"storeLoginCredentialsToBrowser",value:function(e){var t=window.navigator.credentials;if(t&&e.username_or_email)try{var n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(function(){(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}},{key:"handleLoginMfa",value:function(e,n,r){(0,l.My)("multi_step_login"),t.storeLoginCredentialsToBrowser(e),r?r(e,n):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r.key),r)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function h(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":h(e)}function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}t.ZP=p},308548:function(e,t){t.Z=function(e){return Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")}},595731:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(684404),o=n(819267);function i(e){var t=e.accessibilityLabel,n=e.color,i=e.count,a=e.icon,c=e.iconSize,l=i<100?"".concat(i):"99+";return(0,o.jsxs)(r.xu,{position:"relative",children:[(0,o.jsx)(r.JO,{accessibilityLabel:t,color:n,icon:a,size:c}),i>0&&(0,o.jsx)(r.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{right:-6-2*l.length,top:-8,padding:"0 ".concat(3===l.length?"2px":"3px"," 0 2px")}},display:"flex",height:18,justifyContent:"center",minWidth:18,position:"absolute",rounding:"pill",children:(0,o.jsx)(r.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:l})})})]})}},858128:function(e,t,n){var r=n(684404),o=n(819267);t.Z=function(e){var t=e.height,n=e.width,i=e.text,a=e.isAbsolute;return(0,o.jsx)(r.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:t,justifyContent:"center",position:a?"absolute":void 0,rounding:"pill",width:n,children:(0,o.jsx)(r.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:i||""})})})}},201700:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(88682),o=n(598228);function i(e){var t=e.isAdsSite,n=e.isAnalyticsSite,i=e.isTrendsSite,a=e.path,c=e.advertiserId,l=t||n||i?"".concat(o.C0):"",s="".concat(l).concat(a);return c?(0,r.Z)(s,{advertiserId:c}):s}},222881:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(494125),o=n(239821);function i(e){var t=e.children,n=(0,o.I)().setAppFocusState;return(0,r.Z)(function(){return n(!1),function(){n(!0)}}),t}},785059:function(e,t,n){var r=n(340523),o=n(446653),i=n(998577);t.Z=function(){var e=(0,r.F)().checkExperiment,t=(0,o.K)(),n=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,c=(0,i.Z)((null==t?void 0:t.profiles)||[]),l=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a&&(!l||c)&&n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},199677:function(e,t,n){n.d(t,{D3:function(){return s},DX:function(){return c},KY:function(){return u},Ms:function(){return r},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return l}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(r=e.advertiser)||void 0===r?void 0:r.merchant_id},c=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},l=function(e,t,n){return!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t)},s=function(e,t,n){return!!(l(e,t,n)||e&&e.isAuth&&t===e.id)},u=function(e,t,n){return s(e,t&&t.owner&&t.owner.id||"",n)};function d(e,t,n){return s(e,t?t.id:"",n)}},58120:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(412116),o=n(684404),i=n(65775),a=n(140017),c=n(674e3),l=n(819267),s=(0,r.ZP)({resolved:{},chunkName:function(){return"FullPageSignup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(97270),n.e(16458)]).then(n.bind(n,106110))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 106110}});function u(e){var t=(0,a.ZP)();return(0,l.jsx)(c.Z,{onCloseClick:function(){e.onClose&&e.onClose()},renderContent:function(){return(0,l.jsx)(o.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,l.jsx)(s,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t._('Add account', 'Short text on the button that allows a user to log in to another Pinterest account', 'Short text on the button that allows a user to log in to another Pinterest account'),fallback:(0,l.jsx)(i.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})}})}},311694:function(e,t,n){n.d(t,{T:function(){return f},g:function(){return d}});var r=n(672652),o=n(342513),i=n(58120),a=n(819267);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,o.Z)("AccountSwitcherLoginModal"),u=s.Provider,d=s.useHook;function f(e){var t=e.children,n=c((0,r.useState)(!1),2),o=n[0],l=n[1],s=c((0,r.useState)(""),2),d=s[0],f=s[1],p=c((0,r.useState)(""),2),h=p[0],m=p[1],_=(0,r.useCallback)(function(e,t){m(e),t&&f(t),l(!0)},[]),b=(0,r.useMemo)(function(){return{showAccountSwitcherLoginModal:_}},[_]);return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(u,{value:b,children:t}),o&&(0,a.jsx)(i.Z,{container:h,email:null!=d?d:"",onClose:function(){return l(!1)}})]})}},674e3:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(684404),o=n(140017),i=n(406893),a=n(623409),c=n(819267),l={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},s={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},u={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},d={overflow:"hidden",position:"fixed",right:"24px",top:"24px"};function f(e){var t=(0,o.ZP)(),n=(0,a.Z)(),f=e.renderContent;return(0,c.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:l},children:[(0,c.jsx)(i.Z,{unsafeCSS:"\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n"}),(0,c.jsx)("div",{className:"AccountSwitcherModal",onClick:function(){n({action:"click",item:"wash-button",within:"account-switcher-modal"}),(0,e.onCloseClick)()},role:"dialog",style:s,children:(0,c.jsxs)("div",{onClick:function(e){e.stopPropagation()},role:"dialog",style:u,children:[f(),(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,c.jsx)(r.hU,{accessibilityLabel:t._('close', 'accessible label for close button', 'accessible label for close button'),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:function(){n({action:"dismiss",item:"close-button",within:"account-switcher-modal"}),(0,e.onCloseClick)()}})})]})})]})}},226136:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(190149);function o(){var e;return Array.from(Object.keys(e=(0,r.Z)().conversations.data).map(function(t){return e[t]}).filter(function(e){return e.users&&e.last_message})).sort(function(e,t){return new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime()})}},845509:function(e,t,n){n.r(t),n.d(t,{Header:function(){return el},default:function(){return es}});var r=n(672652),o=n(328038),i=n(684404),a=n(690601),c=n(334589),l=n(406718),s=n(568803),u=n(920434),d=n(619370),f=n(705079),p=n(140017),h=n(96157),m=n(729817),_=n(340523),b=n(5859),y=n(193163),v=n(623409),g=n(624797),x=n(794109),w=n(495716),j=n(214877),S=n(401429),A=n(97630),P=n(819267);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t,n=e.isSelected,a=(0,p.ZP)(),s=(0,j.v)().logContextEvent,u=(0,l.Z)(!0),d=(0,r.useRef)(null),f=(0,r.useRef)(null),h=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return O(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=h[0],_=h[1],b=(0,o.k6)(),y=function(e){s({event_type:101,component:13988,element:e}),_(!1)};return(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(i.xu,{ref:d,"data-test-id":"create-tab",children:(0,P.jsx)(A.Z,{contextData:{event:101,component:8,element:12969},iconEnd:u?void 0:"arrow-down",isSelected:n,onClick:function(e){u?(s({event_type:101,component:13988,element:10949}),e.preventDefault(),b.push({pathname:(0,c.Z)(u),state:{entry_type:"navbar_plus_button"}})):_(function(e){return!e})},role:u?"link":"button",text:a._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar')})}),d&&(0,P.jsx)(S.Z,{eligibleIds:[504669],eligibleTypes:[8],placementId:1000109,children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data;return f.current={complete:t},null!=r&&r.disappear_time&&setTimeout(function(){n()},r.disappear_time),(0,P.jsx)(i.xu,{zIndex:new i.Ry(10),children:(0,P.jsx)(i.Li,{accessibilityLabel:"PopoverEducational",anchor:d.current,idealDirection:"down",message:null==r?void 0:r.text,onDismiss:function(){}})})}}),m&&(0,P.jsxs)(i.Lt,{anchor:d.current,id:"header-create-dropdown",idealDirection:"down",onDismiss:function(){_(!1)},zIndex:new i.Ry(1e3),children:[(0,P.jsx)(i.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:function(){return y(10949)},option:{value:"ideaPin",label:a._('Create Idea Pin', 'header.headerCreateMenu.ideaPinBtn', 'Create Idea Pin button')}}),(0,P.jsx)(i.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:function(){return y(10643)},option:{value:"pin",label:a._('Create Pin', 'header.headerCreateMenu.pinBtn', 'Create Pin button')}})]})]})},C=n(677801),T=n(32810),I=n(477458),E=n(983983);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){var t,n,o=e.tabs,a=(0,p.ZP)(),c=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return z(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=c[0],s=c[1],u=(0,I.Z)(),d=u.hovered,f=u.onMouseEnter,h=u.onMouseLeave,m=(0,r.useRef)(),_=o.find(function(e){return e.isSelected});_||(_=o.find(function(e){return"home"===e.key}));var b=function(){return s(!1)};return(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(i.xu,{ref:m,color:l?"dark":d?"secondary":void 0,"data-test-id":"HeaderCollapsedTabs",display:"inlineBlock",flex:"none",height:48,marginStart:2,minWidth:60,onMouseEnter:f,onMouseLeave:h,rounding:6,children:(0,P.jsx)(i.iP,{fullHeight:!0,onTap:function(){return s(!l)},rounding:6,children:(0,P.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,P.jsx)(i.xv,{align:"center",color:l?"inverse":"default",overflow:"normal",weight:"bold",children:null===(n=_)||void 0===n?void 0:n.text}),(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,P.jsx)(i.JO,{accessibilityLabel:a._('Open tab menu', 'header.tabMenu.downArrow', 'accessibility label for icon indicating more tabs are available in a menu'),color:l?"inverse":"default",icon:"arrow-down",size:12})})]})})}),l&&(0,P.jsx)(i.xu,{"data-test-id":"HeaderCollapsedTabsMenu",children:(0,P.jsx)(i.Lt,{anchor:m.current,disableMobileUI:!0,id:"HeaderCollapsedTabsMenu",onDismiss:b,zIndex:new i.H3([new i.Ry(E.fe)]),children:o.map(function(e){var t=e.isSelected,n=e.key,r=e.text,o=e.url;return(0,P.jsx)(i.Lt.Link,{href:o,onClick:b,option:{value:n,label:r},children:(0,P.jsxs)(i.kC,{alignItems:"center",width:"100%",children:[(0,P.jsx)(i.kC.Item,{flex:"grow",children:(0,P.jsx)(i.xv,{weight:"bold",children:r})}),(0,P.jsx)(i.JO,{accessibilityLabel:a._('Selected option', 'flyoutMenu.selectedOptionCheckmark', 'Accessibility label for checkmark icon indicating which option is currently selected'),color:"default",icon:t?"check":void 0,inline:!0})]})},n)})})})]})}var L=n(4058),R=n(587703),M=n(249150),B=n(598228),D=n(149722);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t,n=e.headerIconExperience,o=e.isWwwSite,a=void 0===o||o,c=e.onClick,l=e.url,s=(0,p.ZP)(),u=(0,D.Z)(),d=(0,R.Z)(),f=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return N(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=f[0],m=f[1],_=function(){d({component:8,element:244,event_type:101}),c&&c()},b=a?"/":B.C0;u.partner&&(b=a?"/":B.Ag);var y=a&&l?l:b;return(0,P.jsx)(M.Z,{anchor:".pinLogo",anchorElementRef:h,experience:n,onCompleteClick:_,children:(0,P.jsx)(i.I_,{ref:function(e){null===e||h||m(e)},accessibilityLabel:s._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),href:y,icon:"pinterest",iconColor:"brandPrimary",onClick:_,padding:3,size:"xl",tabIndex:-1})})}var H=n(757640);function F(e){var t=e.children,n=e.isSelected,r=(0,H.Z)({name:"ApiResource",options:{url:"/v3/feeds/homefeed/badge/"},noCache:!0}),o=r.isLoaded,i=r.data;return t(!!(o&&i)&&!n)}function W(e){var t=e.anchor,n=(0,p.ZP)();return(0,P.jsx)(i.Li,{anchor:t,idealDirection:"down",message:n._('Your home feed will show ideas for your new interests', 'Flyout message on Pinterest logo on Header', 'Flyout message on Pinterest logo on Header'),onDismiss:function(){}})}var V=n(249222),q=n(509474),Y=n(433058),J=n(454051);function $(e){var t=e.isSelected,n=(0,p.ZP)();(0,Y.Z)({component:8,element:11674});var r=n._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar');return(0,P.jsx)(A.Z,{contextData:{event:101,component:8,element:11674},dataTestId:"today-tab",isSelected:t,showNotifBadge:!0,text:r,url:(0,J.tG)()})}var G=n(948194),K=n(909846),X=n(917198);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){ea(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function er(e,t){return(er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eo(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ea(e,t,n){return(t=ec(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ec(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Q(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}var el=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&er(e,t)}(a,e);var t,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=ei(a);return e=t?Reflect.construct(n,arguments,ei(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eo(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),ea(eo(t=o.call(this,e)),"mounted",!1),ea(eo(t),"iconRoutes",{bag:"shop_pins",explore:"discover",home:"/",profile:t.props.viewer.username,search:"search",today:"today",create:t.props.isIdeaPinRenamingEnabled?"pin-creation-tool":"idea-pin-builder"}),ea(eo(t),"logoButtonRef",(0,r.createRef)()),ea(eo(t),"profileRef",(0,r.createRef)()),ea(eo(t),"getCollapsedTabList",function(){var e;return[{key:"home",text:t.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/"}].concat(function(e){if(Array.isArray(e))return en(e)}(e=t.props.isTodayTabEligible?[{key:"explore",text:t.props.i18n._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar'),url:(0,J.tG)()}]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return en(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{key:"create",text:t.props.i18n._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar'),url:(0,c.Z)(t.props.isIdeaPinRenamingEnabled)}])}),ea(eo(t),"getSubpage",function(e){if("/"===e||""===e)return"home";var n=e.split("/",2)[1];if(n&&t.iconRoutes)for(var r=0,o=Object.keys(t.iconRoutes);r<o.length;r++){var i=o[r];if(n===t.iconRoutes[i])return i}return null}),ea(eo(t),"handleResize",(0,u.Z)(function(){if(t.mounted){var e,n=(null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0;t.setState({searchIconOnly:n<=300}),window.innerWidth<850&&t.props.requestContext?t.setState({shrinkSearchbox:!0}):t.state.shrinkSearchbox&&t.setState({searchIconOnly:!1,shrinkSearchbox:!1})}},100)),ea(eo(t),"fetchUserAccounts",function(){var e=t.props,n=e.userAccountsRetrieved,r=e.viewer;r.isAuth&&(0,m.dD)(r).then(function(e){n(e)})}),t.state={headerIconExperience:null,searchIconOnly:!1,selected:t.getSubpage(e.location.pathname),showLeftTabs:!0,showToolTip:!1,shrinkSearchbox:!1},t}return n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.headerButtonContext;this.mounted=!0,this.fetchUserAccounts(),this.handleResize(),window.addEventListener("resize",this.handleResize),(0,r.startTransition)(function(){t.setLogoButtonRef(e.logoButtonRef.current)})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.location,r=t.showToolTipExp;if(e.location.pathname!==n.pathname){var o=this.getSubpage(n.pathname);this.setState({selected:o})}e.showToolTipExp===r||this.state.showToolTip||this.setState({showToolTip:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),this.mounted=!1}},{key:"renderButtons",value:function(){var e=this,t=this.props,n=t.currentSite,o=t.headerButtonContext,a=t.history,c=t.isPersistentArrUpsellEnabled,l=this.state,s=l.headerIconExperience,u=l.selected,p=l.searchIconOnly,h=l.showLeftTabs,m=l.showToolTip,_=l.shrinkSearchbox;return(0,P.jsxs)(i.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,P.jsxs)(i.xu,{children:[(0,P.jsx)(i.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,P.jsx)(U,{headerIconExperience:s},"HomeButton")}),m&&(0,P.jsx)(d.default,{anchor:this.logoButtonRef.current,experienceIds:[500613],noClickToDismiss:!0,placementId:19,shouldTimeoutDismiss:!0}),o.isTooltipOnLogoButtonShown&&(0,P.jsx)(W,{anchor:this.logoButtonRef.current})]}),!_&&h&&(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(F,{isSelected:"home"===u,children:function(t){return(0,P.jsx)(A.Z,{dataTestId:"home-tab",isSelected:"home"===u,showNotifBadge:t,text:e.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/"})}}),this.props.isTodayTabEligible&&(0,P.jsx)($,{isSelected:"today"===u}),(0,P.jsx)(k,{isSelected:"create"===u})]}),_&&h&&(0,P.jsx)(Z,{tabs:this.getCollapsedTabList().map(function(e){return et({isSelected:u===e.key},e)})}),!!(null!=a&&a.push)&&(0,P.jsx)(w.Z,{handleIconOnlyChange:function(t){return e.setState({showLeftTabs:p&&t})},iconOnly:p,widthType:_?"shrink":void 0}),(0,P.jsxs)(i.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:[(0,P.jsx)(q.F,{value:{currentSite:n},children:(0,P.jsx)(G.Z,{})}),(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(i.xu,{ref:this.profileRef,children:(0,P.jsx)(V.Z,{children:(0,P.jsx)(C.Z,{isSelected:"profile"===u})})}),(0,P.jsx)(f.Z,{currentSite:n,isPersistentArrUpsellEnabled:c})]})]})]})}},{key:"renderHomeButtonAndAccountSwitcher",value:function(){var e=this.props,t=e.currentSite,n=e.headerButtonContext,o=e.isPersistentArrUpsellEnabled,a=this.state,c=a.headerIconExperience,l=a.selected,s=a.showToolTip;return(0,P.jsxs)(i.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,P.jsxs)(i.xu,{children:[(0,P.jsx)(i.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,P.jsx)(U,{headerIconExperience:c},"HomeButton")}),s&&(0,P.jsx)(d.default,{anchor:this.logoButtonRef.current,experienceIds:[500613],noClickToDismiss:!0,placementId:19,shouldTimeoutDismiss:!0}),n.isTooltipOnLogoButtonShown&&(0,P.jsx)(W,{anchor:this.logoButtonRef.current})]}),(0,P.jsx)(i.xu,{flex:"grow"}),(0,P.jsx)(i.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(i.xu,{ref:this.profileRef,children:(0,P.jsx)(V.Z,{children:(0,P.jsx)(C.Z,{isSelected:"profile"===l})})}),(0,P.jsx)(f.Z,{currentSite:t,isPersistentArrUpsellEnabled:o})]})})]})}},{key:"renderSsoPageHeader",value:function(){var e=this.state.headerIconExperience,t=this.props.i18n;return(0,P.jsxs)(i.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,P.jsx)(i.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,P.jsx)(U,{headerIconExperience:e},"HomeButton")}),(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},children:(0,P.jsx)(i.X6,{accessibilityLevel:2,color:"default",overflow:"normal",size:"400",children:t._('Business', 'authHeader.logoText.business', 'Business text for the sso signup page header')})})]})}},{key:"renderUnsubscribePageHeader",value:function(){var e=this.state.headerIconExperience,t=this.props,n=t.history,r=t.i18n,o=t.trackInteraction;return(0,P.jsxs)(i.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,P.jsx)(i.xu,{children:(0,P.jsx)(U,{headerIconExperience:e},"HomeButton")}),(0,P.jsx)(i.xu,{flex:"grow"}),(0,P.jsx)(i.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,P.jsx)(i.iP,{onTap:function(){n.push("/"),o({action:"click",item:"back-to-pinterest",within:"unsubscribe-page"})},rounding:2,tapStyle:"compress",children:(0,P.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(i.xv,{inline:!0,size:"300",weight:"bold",children:r._('Back to Pinterest', 'header.backToPinterest.section', 'Button that allows one-click going back to Pinterest homefeed from email unsubscribe page')}),(0,P.jsx)(C.Z,{isSelected:!1,noNavigation:!0})]})})})]})}},{key:"renderHeaderContent",value:function(){var e=this.props,t=e.location,n=e.viewer,r=e.isOnSsoAuthExp;if((0,h.RU)(t)){var o=(0,g.mB)(t.search);if((0,s.Z)(o))return this.renderHomeButtonAndAccountSwitcher()}else if((0,h.OK)(t)&&n.isLimitedLogin)return this.renderUnsubscribePageHeader();else if(r&&(0,h.nU)(t))return this.renderSsoPageHeader();return this.renderButtons()}},{key:"render",value:function(){var e=this.props,t=e.headerShadowContext,n=t.isScrolled,r=t.subheaderShadow,o=e.nags,a=e.showCloseupTopOneBar;return(0,P.jsxs)(i.xu,{color:"default",column:12,"data-test-id":"header-background",children:[o,(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:et({},null===r&&n&&!a?E.Rz:{})},children:(0,P.jsx)(i.kC,{direction:"column",height:E.cI,justifyContent:"start",width:"100%",children:(0,P.jsx)(i.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,paddingY:1,children:this.renderHeaderContent()})})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ec(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function es(e){var t,n=(0,p.ZP)(),r=(0,X.X2)(),i=(0,b.B)(),c=(0,_.F)().checkExperiment,s=(0,x.N)().userAccountsRetrieved,u=(0,v.Z)(),d=(0,K.t)(),f=(0,a.S)().showTopOneBar,h=d.isFbAuthOnlyUser;c("social_growth_holdout_2023_h2"),c("social_experience_holdout_2024_h1"),c("social_experience_holdout_2024_h2");var m=(0,l.Z)(!0),g=(0,y.bl)(),w=r&&Object.keys(r).map(function(e){return r[e]}).filter(function(e){return e.showTooltip}).length>0;return(0,P.jsx)(el,et(et({},e),{},{headerButtonContext:(0,T.p)(),headerShadowContext:(0,L.WQ)(),history:(0,o.k6)(),i18n:n,isIdeaPinRenamingEnabled:m,isOnSsoAuthExp:c("web_sso_auth_enabled").anyEnabled,isPersistentArrUpsellEnabled:h,isTodayTabEligible:g,location:(0,o.TH)(),requestContext:i,showCloseupTopOneBar:f,showPersonalBoutique:null!==(t=e.viewer.show_personal_boutique)&&void 0!==t&&t,showToolTipExp:w,trackInteraction:u,userAccountsRetrieved:s}))}},677801:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(672652),o=n(684404),i=n(205841),a=n(140017),c=n(263148),l=n(340370),s=n(340523),u=n(5859),d=n(201700),f=n(477458),p=n(149722),h=n(514810),m=n(983983),_=n(563366),b=n(819267);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){var t=e.children,n=e.show,r=e.text;return n?(0,b.jsx)(o.u,{accessibilityLabel:"",text:r,zIndex:new o.H3([new o.Ry(m.fe)]),children:t}):t}function x(e){var t=e.isAdsSite,n=void 0!==t&&t,m=e.isAnalyticsSite,x=void 0!==m&&m,w=e.isTrendsSite,j=void 0!==w&&w,S=e.isSelected,A=e.noNavigation,P=(0,p.Z)(),O=(0,s.F)().checkExperiment,k=(0,u.B)(),C=(0,a.ZP)(),T=(0,f.Z)(),I=T.active,E=T.hovered,z=T.onBlur,Z=T.onFocus,L=T.onMouseDown,R=T.onMouseUp,M=T.onMouseEnter,B=T.onMouseLeave,D=P.isAuth?P:{fullName:"",username:"",imageMediumUrl:"",isPartner:void 0},N=D.fullName,U=D.username,H=D.imageMediumUrl,F=D.isPartner,W=(0,h.Z)().isInBiznuxFullscreen,V=(0,r.useRef)(null),q=(0,d.Z)({isAdsSite:n,isAnalyticsSite:x,isTrendsSite:j,path:"/".concat(U,"/"),requestContext:k}),Y=(0,d.Z)({isAdsSite:n,isAnalyticsSite:x,isTrendsSite:j,path:"/".concat(U,"/").concat(_.Z,"/"),requestContext:k}),J=(0,l.Z)({href:q,onHistoryChange:c.Jd}),$=(0,l.Z)({href:Y,onHistoryChange:c.Jd});return W||void 0!==A&&A?(0,b.jsx)(o.xu,{"data-test-id":"header-profile",height:48,rounding:"circle",width:48,children:(0,b.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,b.jsx)(o.xu,{alignItems:"center",display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,b.jsx)(i.qE,{name:N,size:"xs",src:H})})})}):(0,b.jsx)(o.xu,{"data-test-id":"header-profile",children:(0,b.jsx)(g,{show:![n,x,j].some(Boolean),text:C._('Your profile', 'navbar.avatarButton.tooltip', 'Tooltip text for button leading to user\'s profile'),children:(0,b.jsx)(o.Tg,{href:q,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),P.isAuth&&!F&&O("web_retrieval_hub_profile_split_").anyEnabled?$({event:t}):J({event:t})},rounding:"circle",children:(0,b.jsx)(o.xu,{ref:V,color:E?"secondary":void 0,height:48,onBlur:z,onFocus:Z,onMouseDown:L,onMouseEnter:M,onMouseLeave:B,onMouseUp:R,rounding:"circle",width:48,children:(0,b.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,b.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},I||S?{border:"2px solid #111111"}:{})},display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,b.jsx)(i.qE,{name:N,size:"xs",src:H})})})})})})})}},418739:function(e,t,n){var r=n(672652),o=n(684404),i=n(214877),a=n(249150),c=n(819267);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=e.anchorElementRef,n=e.children;return e.experienceAnchor?(0,c.jsx)(a.Z,{anchor:".HomeButton2",anchorElementRef:t.current,containerBoxConfig:{display:"flex",height:"100%"},children:n}):n};t.Z=function(e){var t=e.accessibilityLabel,n=e.compactMode,a=e.icon,u=e.rightIcon,d=e.selected,f=e.text,p=e.type,h=void 0===p?"link":p,m=e.url,_=e.contextData,b=e.onClick,y=(0,i.v)().logContextEvent,v=function(e){if(Array.isArray(e))return e}(C=(0,r.useState)("transparent"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(C,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,2)}}(C,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=v[0],x=v[1],w=(0,r.useRef)(null),j=function(){x("secondary")},S=function(){x("transparent")},A=function(){x("transparent")},P=function(){x("secondary")},O=function(e){_&&y({event_type:_.event,component:_.component,element:_.element}),b&&b(e)},k=(0,c.jsx)(o.iP,{accessibilityLabel:t,onBlur:A,onFocus:P,onMouseEnter:j,onMouseLeave:S,onTap:function(e){return O(e.event)},rounding:"circle",children:(0,c.jsx)(o.xu,{alignItems:"center",color:g,display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:a})});if(u||"link"!==h||!m||n){if("link"===h&&(n&&a||u)){var C,T,I,E="pill";E=a||u?f&&!n?"pill":"circle":"pill",a&&(T=a),u&&(I=u);var z=f instanceof Object?f:(0,c.jsx)(o.xv,{color:d?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:f});k=(0,c.jsx)(o.Tg,{accessibilityLabel:t,href:m||"",onBlur:A,onFocus:P,onMouseEnter:j,onMouseLeave:S,onTap:function(e){return O(e.event)},rounding:E,children:(0,c.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[T,!!f&&!n&&(0,c.jsx)(o.xu,{paddingX:2,children:z}),I]})})}}else k=(0,c.jsx)(s,{anchorElementRef:w,experienceAnchor:"/"===m?".HomeButton2":"",children:(0,c.jsx)(o.Tg,{ref:w,accessibilityLabel:t,href:m,onBlur:A,onFocus:P,onMouseEnter:j,onMouseLeave:S,onTap:function(e){return O(e.event)},rounding:"pill",children:(0,c.jsx)(o.xu,{color:g,paddingX:4,paddingY:4,rounding:"pill",children:(0,c.jsx)(o.xv,{color:d?"default":"subtle",overflow:"normal",weight:"bold",children:f})})})});return(0,c.jsx)(o.xu,{position:"relative",children:k})}},249222:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(672652),o=n(684404),i=n(406893),a=n(514810),c=n(19447),l=n(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var b="SavePin",y={__style:{left:"50%",marginLeft:-125}},v={__style:{animationName:"".concat(b,"_AnimateIn, ").concat(b,"_CircleAnimateOut"),animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},g={__style:{animationName:"".concat(b,"_AnimateIn, ").concat(b,"_AnimateOut"),animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},x={__style:{animationName:"".concat(b,"_NavButtonAnimation"),animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(a,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(a);return e=t?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return m(p(e=r.call.apply(r,[this].concat(n))),"state",{imageLoaded:!1}),m(p(e),"handleAnimationCompletion",function(){var t=e.props.animationEnded;e.setState({imageLoaded:!1},function(){t()})}),m(p(e),"handleImageLoad",function(){e.setState({imageLoaded:!0})}),m(p(e),"loadImage",function(){var t=new Image;t.onload=e.handleImageLoad,t.src=e.imageSrc()}),m(p(e),"imageSrc",function(){var t,n,r=(e.props.lastRepin||{}).images;return null!==(t=null===(n=(void 0===r?{}:r)["236x"])||void 0===n?void 0:n.url)&&void 0!==t?t:""}),m(p(e),"shouldRenderAnimation",function(){var t=e.props,n=t.lastRepin,r=t.startAnimation,o=e.state.imageLoaded;return!!(n&&o&&r)}),e}return n=[{key:"componentDidUpdate",value:function(e,t){var n=e.lastRepin,r=void 0===n?{}:n,o=t.imageLoaded,i=this.props,a=i.lastRepin,c=i.startAnimation,l=this.state.imageLoaded;a&&a.id!==(null==r?void 0:r.id)&&this.loadImage(),c&&l&&l!==o&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"render",value:function(){var e=this.props.children;return this.shouldRenderAnimation()?(0,l.jsxs)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(i.Z,{unsafeCSS:"\n@keyframes ".concat(b,"_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes ").concat(b,"_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes ").concat(b,"_AnimateOut {\n  from {\n    transform: translateY(0) scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(-100px) scale(0.0);\n    opacity: 0;\n  }\n}\n@keyframes ").concat(b,"_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n")}),(0,l.jsxs)(o.xu,{position:"relative",children:[(0,l.jsxs)(o.xu,{dangerouslySetInlineStyle:y,height:250,position:"absolute",top:!0,width:250,children:[(0,l.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:v,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),(0,l.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:g,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",right:!0,rounding:3,top:!0,width:100,children:(0,l.jsx)(o.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:(0,l.jsx)(o.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:x,children:e})]})]}):e}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function j(e){var t=(0,a.Z)(),n=t.repinPinId,r=t.repinStartAnimation,o=t.updateHeaderState,i=(0,c.S6)(),s=n?i(n):null;return(0,l.jsx)(w,d(d({},e),{},{animationEnded:function(){return o({type:"hideRepinAnimation"})},lastRepin:s,startAnimation:r}))}},509474:function(e,t,n){n.d(t,{F:function(){return o},j:function(){return i}});var r=(0,n(342513).Z)("SiteParametersContextType"),o=r.Provider,i=r.useHook},162383:function(e,t,n){n.d(t,{Jo:function(){return _},mv:function(){return y},nJ:function(){return b}});var r=n(672652),o=n(342513),i={hiddenNews:{}};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;if("HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"===t.type){var n=t.payload,r=n.id,o=n.isHidden;return{hiddenNews:l(l({},e.hiddenNews),{},s({},r,o))}}return e}var d=n(819267);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,o.Z)("HiddenNews"),h=p.Provider,m=p.useHook;function _(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(u,i))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],c=o[1],l=(0,r.useMemo)(function(){return{dispatch:c,hiddenNews:a}},[c,a]);return(0,d.jsx)(h,{value:l,children:n})}function b(){var e=m(),t=e.dispatch,n=e.hiddenNews.hiddenNews;return(0,r.useMemo)(function(){return{updateNewsIdToHiddenNews:function(e,n){t({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:e,isHidden:n}})},getShownNewsCount:function(e){return e.filter(function(e){return!(e.id in n&&n[e.id])}).length}}},[t,n])}function y(){return m().hiddenNews}},940404:function(e,t,n){n.d(t,{AI:function(){return D},AM:function(){return x},AY:function(){return K},C:function(){return et},Cc:function(){return l},DX:function(){return I},GO:function(){return M},HJ:function(){return a},Hj:function(){return p},I2:function(){return H},IV:function(){return o},J0:function(){return b},LL:function(){return ee},Ng:function(){return r},P:function(){return A},P3:function(){return _},QE:function(){return eo},QX:function(){return en},Rd:function(){return S},So:function(){return v},V$:function(){return d},Vp:function(){return q},WC:function(){return k},ZH:function(){return Z},aE:function(){return m},c4:function(){return P},cU:function(){return O},ci:function(){return C},di:function(){return U},f_:function(){return f},gb:function(){return X},gs:function(){return R},hD:function(){return W},hf:function(){return N},hp:function(){return B},hy:function(){return i},ie:function(){return y},kJ:function(){return G},kc:function(){return j},mD:function(){return V},mM:function(){return T},os:function(){return s},pv:function(){return u},qZ:function(){return w},qb:function(){return g},ti:function(){return Q},uW:function(){return L},uZ:function(){return c},uy:function(){return Y},vG:function(){return J},wA:function(){return h},wl:function(){return F},yS:function(){return er},yc:function(){return z},ys:function(){return $},zM:function(){return E}});var r={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},o=3,i=360,a=375,c=64,l=36,s=36,u=44,d=344,f=328,p=8,h=164,m=328,_=164,b=108.7,y=3,v=82,g=82,x=164,w=164,j=4,S=164,A=164,P=2,O=82,k=164,C=2,T=2,I=4,E=328,z="290x",Z="170x",L={backgroundColor:"rgba(0, 0, 0, 0.4)"},R=4,M="1px",B=48,D=32,N=36,U="136x136",H=2,F=24,W=20,V=72,q=48,Y=54,J=54,$=4,G=118,K=236,X={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18},Q=function(e){return"".concat(String(e))==="".concat(31)},ee="recommendation",et="dropdown_item_settings_id",en=10,er=20,eo=5e3},948194:function(e,t,n){n.d(t,{Z:function(){return ey}});var r,o=n(672652),i=n(149722),a=n(328038),c=n(684404),l=n(510989),s=n(140017),u=n(96157),d=n(608516),f=n(624797),p=n(190149),h=n(595731),m=n(418739),_=n(819267);function b(e){var t=e.badgeCount,n=e.icon,r=void 0===n?"speech-ellipsis":n,o=e.onClick,i=e.selected,a=(0,s.ZP)(),c={bell:a._('Notifications', ' - ', ' -- '),"speech-ellipsis":a._('Messages', ' - ', ' -- ')};return(0,_.jsx)(m.Z,{accessibilityLabel:c[r],contextData:{event:101,component:8,element:1187},icon:(0,_.jsx)(h.Z,{accessibilityLabel:"",color:void 0!==i&&i?"default":"subtle",count:void 0===t?0:t,icon:r,iconSize:24}),onClick:o,text:c[r],type:"button"},"NotificationsButton")}var y=n(940404),v=n(983983),g=n(162383);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=function(){return n.e(96218).then(n.bind(n,696218))},S=(0,o.lazy)(j);function A(e){var t=e.onClearBadges,n=(0,s.ZP)(),r=(0,a.TH)(),i=(0,o.useRef)(null),h=x((0,o.useState)(!1),2),m=h[0],w=h[1],A=x((0,o.useState)(!1),2),P=A[0],O=A[1],k=x((0,o.useState)(!1),2),C=k[0],T=k[1],I=x((0,o.useState)(!1),2),E=I[0],z=I[1],Z=(0,f.mB)(r.search),L=Z.tab,R=Z.utm_source,M=Z.news_hub_id,B=(0,p.Z)().conversations,D=B.conversationsUnseenCount,N=B.newsHubCount,U=function(e){if(!(0,u.L6)(r)){var t=Math.max(e,0),o=n._('Pinterest', ' - ', ' -- ');window.document.title=t?"(".concat(t,") ").concat(o):o}};(0,o.useEffect)(function(){U(D+N),r.pathname.startsWith("/notifications")&&"inbox"!==L&&w(!0)},[D,N]);var H=(0,y.ti)(R||null),F=function(){w(!m),t(1),U(0)};return(0,o.useEffect)(function(){var e=setTimeout(function(){O(m),T(m)},100);return function(){return clearTimeout(e)}},[m]),(0,_.jsxs)(o.Fragment,{children:[H?(0,_.jsx)(c.xu,{children:(0,_.jsx)(c.xu,{ref:i,"data-test-id":"bell-icon",onMouseEnter:j,position:"relative",children:(0,_.jsx)(b,{badgeCount:N,icon:"bell",onClick:F,selected:m})})}):(0,_.jsx)(c.xu,{ref:i,"data-test-id":"bell-icon",onMouseEnter:j,position:"relative",children:(0,_.jsx)(c.u,{accessibilityLabel:"",text:n._('Notifications', 'navbar.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications'),zIndex:new c.H3([new c.Ry(v.fe)]),children:(0,_.jsx)(b,{badgeCount:N,icon:"bell",onClick:F,selected:m})})}),(0,_.jsx)(g.Jo,{children:(0,_.jsx)("div",{className:"newsHubSidebarWrapper",style:m?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:P&&(0,_.jsx)(l.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,_.jsx)(d.Z,{children:(0,_.jsx)(S,{handleDismissPanel:function(){w(!1),z(!1)},highlightScrollSidebar:E,newsButton:i.current,show:C,utmNewsHubId:M||null})})})})})]})}var P=n(42279),O=n(216167),k=n(256683),C=n(757640),T=n(325362);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}var B=(0,k.Z)(T.Z),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=R(o);return e=t?Reflect.construct(n,arguments,R(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return L(e)}(this,e)});function o(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var e,t,n,i,a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return t=L(e=r.call.apply(r,[this].concat(c))),n="handleClearBadges",i=function(t){1===t?(O.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),e.props.updateNewsHubCount(0)):(e.props.conversationBadgeCall(),e.props.updateUnreadCount(0))},(n=M(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,e}return n=[{key:"shouldComponentUpdate",value:function(e){if(!this.props.badgeResource||!e.badgeResource)return!1;var t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(function(e){return t[e]!==n[e]}).filter(Boolean).length:!t&&!!n}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.badgeResource,n=e.updateNewsHubCount,r=e.updateUnreadCount;if(t&&t.data){var o=B(t.data);r(o.conversationsUnseenCount),n(o.newsHubCount)}}},{key:"render",value:function(){return(0,this.props.children)({onClearBadges:this.handleClearBadges})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.Component);function N(e){var t=e.conversationBadgeCall,n=e.children,r=(0,C.Z)({name:"NewsHubBadgeResource",noCache:!0}),o=(0,p.Z)(),i=o.updateNewsHubCount,a=o.updateUnreadCount;return(0,_.jsx)(D,{badgeResource:r,conversationBadgeCall:t,updateNewsHubCount:i,updateUnreadCount:a,children:n})}var U=function(){var e,t,o=void 0!==r?r:r=n(395980),i=(function(e){if(Array.isArray(e))return e}(e=(0,P.useMutation)(o))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),1!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,1)||function(e,t){if(e){if("string"==typeof e)return z(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,1)}}(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){i({variables:{},onCompleted:function(n,r){r&&t(r[0]),e(n)},onError:function(e){return t(e)}})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){E(i,r,o,a,c,"next",e)}function c(e){E(i,r,o,a,c,"throw",e)}a(void 0)})}};function H(e){var t=e.children;return(0,_.jsx)(N,{conversationBadgeCall:U(),children:t})}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function W(e){var t,n=e.icon,r=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return F(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],l=i[1];return((0,o.useEffect)(function(){l(!0)},[]),a)?(0,_.jsx)(H,{children:r}):(0,_.jsx)(c.xu,{paddingX:1,children:(0,_.jsx)(c.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,_.jsx)(c.JO,{accessibilityLabel:"",color:"subtle",icon:n,size:24})})})}function V(){return(0,_.jsx)(W,{icon:"bell",children:function(e){var t=e.onClearBadges;return(0,_.jsx)(A,{onClearBadges:t})}})}var q=n(515278),Y=n(340523),J=n(731714),$=n(494125),G=n(226136),K=n(734513),X=n(214877),Q=n(205841),ee=n(406893),et=n(5859),en=n(140186);function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eo(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ei=function(e,t,n){var r=70,o=38,i=document.body?document.body.clientWidth:window.innerWidth-15;if(n){var a=n.getBoundingClientRect(),c=a.left,l=a.right,s=a.width;e?(r=c-20,o=s/2+20-4):(r=i-l-20,o=20+s/2-4)}return"\n  @keyframes fadeOut {\n    0% { opacity: 1; }\n    100% { opacity: 0; }\n  }\n  #message-notif-toast{\n    position: absolute;\n    top: 65px;\n    ".concat(e?"left":"right",": ").concat(r,"px;\n    animation: ").concat(t?"fadeOut":"none"," ").concat(1e3,"ms;\n  }\n  #message-notif-toast:after {\n    content: '';\n    position: absolute;\n    top: -4px;\n    ").concat(e?"left":"right",": ").concat(o,"px;\n    width: ").concat(8,"px;\n    height: ").concat(8,"px;\n    background-color: rgb(17,17,17);\n    clip-path: polygon(0% 0%, 100% 100%, 0% 100%);\n    transform: rotate(135deg);\n    border-radius: 0 0 0 3px;\n  }\n  ")};function ea(e){var t=e.conversation,n=e.anchor,r=er((0,o.useState)(!1),2),i=r[0],a=r[1],l=er((0,o.useState)(!1),2),u=l[0],d=l[1],f=(0,p.Z)(),h=f.dropdownOpen,m=f.conversationOpen,b=(0,s.ZP)(),y=(0,et.B)().isRTL,g=(0,X.v)().logContextEvent;if((0,$.Z)(function(){var e=t.last_message,n=J.Z.getItem("last_notified_message_id");e&&e.id!==n&&setTimeout(function(){a(!0),g({event_type:13,component:14993}),J.Z.setItem("last_notified_message_id",e.id),J.Z.setItem("last_notified_message_timestamp",Date.now()),window.addEventListener("click",function(e){var t;null!==(t=document.getElementById("message-notif-toast"))&&void 0!==t&&t.contains(e.target)||a(!1)}),setTimeout(function(){d(!0),setTimeout(function(){d(!1),a(!1)},800)},5e3)},en.XZ)}),!t.last_message||!i)return null;var x=t.last_message.sender,w=x.first_name||x.username||"",j=t.last_message.pin?b._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):b._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),S=(0,_.jsxs)(c.xv,{color:"light",inline:!0,children:[(0,_.jsxs)(c.xv,{color:"light",inline:!0,weight:"bold",children:[w," "]}),j]});return(0,_.jsx)(c.mh,{zIndex:new c.H3([new c.Ry(v.fe)]),children:(0,_.jsx)(c.iP,{onTap:function(){h(),m(t.id),a(!1),g({event_type:101,component:14993})},children:(0,_.jsxs)(c.xu,{id:"message-notif-toast",children:[(0,_.jsx)(ee.Z,{unsafeCSS:ei(y,u,n)}),(0,_.jsxs)(c.xu,{alignItems:"center",color:"dark",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,role:"alert",rounding:4,children:[(0,_.jsx)(c.xu,{marginEnd:3,children:(0,_.jsx)(Q.qE,{name:w,size:"sm",src:x.image_large_url})}),S]})]})})})}function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach(function(t){ep(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eu(e,t){return(eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ed(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ef(e){return(ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ep(e,t,n){return(t=eh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eh(e){var t=function(e,t){if("object"!==ec(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ec(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ec(t)?t:String(t)}var em=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eu(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=ef(o);return e=t?Reflect.construct(n,arguments,ef(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===ec(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ed(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return ep(ed(e=r.call.apply(r,[this].concat(n))),"setButtonRef",function(t){var n=e.props.setInboxButton;e.anchor||(e.anchor=t,n(t))}),ep(ed(e),"clearBadges",function(){(0,e.props.onClearBadges)(2),e.updateBrowserTabTitleCount(0)}),ep(ed(e),"handleButtonClick",function(t){var n=e.props,r=n.requireAuth,o=n.showPanel,i=n.closeConversationsDropdown,a=n.openConversationsDropdown;if(r){t&&t.stopEventPropagation(),r();return}o?i():a(),e.clearBadges(),e.onComplete&&e.onComplete()}),e}return n=[{key:"componentDidMount",value:function(){this.setBrowserTabTitleCountFromProps()}},{key:"componentDidUpdate",value:function(){this.setBrowserTabTitleCountFromProps()}},{key:"setBrowserTabTitleCountFromProps",value:function(){var e=this.props,t=e.conversationsUnseenCount,n=e.newsHubCount;this.updateBrowserTabTitleCount(t+n)}},{key:"updateBrowserTabTitleCount",value:function(e){if(!(0,u.L6)(this.props.location)){var t=this.props.i18n,n=Math.max(e,0),r=t._('Pinterest', ' - ', ' -- ');window.document.title=n?"(".concat(n,") ").concat(r):r}}},{key:"render",value:function(){var e=this.props,t=e.conversationsUnseenCount,n=e.i18n,r=e.showPanel,o=e.conversationWithUnreadMesage;return(0,_.jsxs)(c.xu,{ref:this.setButtonRef,position:"relative",children:[(0,_.jsx)(c.u,{accessibilityLabel:"",text:n._('Messages', 'navbar.conversationsButton.tooltip', 'Tooltip text for icon button to show conversations inbox'),zIndex:new c.H3([new c.Ry(v.fe)]),children:(0,_.jsx)(c.xu,{"data-test-id":"notifications-button",children:(0,_.jsx)(b,{badgeCount:t,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:r})})}),o&&(0,_.jsx)(ea,{anchor:this.anchor,conversation:o})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eh(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.Component);function e_(e){var t=(0,s.ZP)(),n=(0,q.Z)(),r=(0,a.TH)(),o=(0,i.Z)(),c=o.isAuth,l=o.isLimitedLogin;(0,$.Z)(function(){c&&!l&&O.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});var d=(0,p.Z)(),f=d.conversations,h=f.conversationsUnseenCount,m=f.newsHubCount,b=f.showConversationsDropdown,y=d.dropdownClose,v=d.dropdownOpen,g=(0,Y.F)().checkExperiment,x=(0,K.b)().setInboxButton,w=(0,G.Z)().find(function(e){return e.unread>0}),j=(0,a.k6)(),S=(0,u.C$)(j.location),A=J.Z.getItem("last_notified_message_timestamp"),P=A&&Date.now()-Number(A)<en.VC,k=S&&!b&&!P&&w&&g("sg_dweb_app_start_msg_notif").anyEnabled;return(0,_.jsx)(em,es(es({},e),{},{closeConversationsDropdown:y,conversationsUnseenCount:h,conversationWithUnreadMesage:k?w:null,i18n:t,location:r,newsHubCount:m,openConversationsDropdown:v,requireAuth:n,setInboxButton:x,showPanel:b}))}function eb(){return(0,_.jsx)(W,{icon:"speech-ellipsis",children:function(e){var t=e.onClearBadges;return(0,_.jsx)(e_,{onClearBadges:t})}})}function ey(){var e=(0,i.Z)().should_show_messaging;return(0,_.jsxs)(o.Fragment,{children:[(0,_.jsx)(V,{}),e&&(0,_.jsx)(eb,{})]})}},140186:function(e,t,n){n.d(t,{VC:function(){return v},XZ:function(){return y},ZP:function(){return g}});var r=n(328038),o=n(684404),i=n(216167),a=n(205841),c=n(454514),l=n(140017),s=n(96157),u=n(340523),d=n(731714),f=n(13848),p=n(554786),h=n(494125),m=n(149722),_=n(819267);function b(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}var y=2e3,v=864e5;function g(){var e=(0,l.ZP)(),t=(0,m.Z)(),n=t.isAuth,g=t.isLimitedLogin,x=(0,u.F)().checkExperiment,w=(0,f.F9)().showToast,j=(0,r.k6)(),S=(0,s.C$)(j.location),A=(0,p.HG)();return(0,h.Z)(function(){var t,r,l=(t=regeneratorRuntime.mark(function t(){var n,r,l,s,u,f,p,h,m,b;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.Z.create("ConversationsResource",{field_set_key:"default"}),t.next=3,n.callGet();case 3:r=t.sent.resource_response.data.find(function(e){return e.unread>0}),s=(l=d.Z.getItem("last_notified_message_timestamp"))&&Date.now()-Number(l)<v,u=r&&S&&!s&&x("sg_mweb_app_start_msg_notif").anyEnabled&&r.last_message,f=d.Z.getItem("last_notified_message_id"),u&&u.id!==f&&(d.Z.setItem("last_notified_message_id",u.id),d.Z.setItem("last_notified_message_timestamp",Date.now()),h=(p=u.sender).first_name||p.username||"",m=u.pin?e._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):e._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),b=(0,_.jsxs)(o.xv,{inline:!0,children:[(0,_.jsxs)(o.xv,{inline:!0,weight:"bold",children:[h," "]}),m]}),setTimeout(function(){w(function(t){var n=t.hideToast;return(0,_.jsx)(c.ZP,{duration:5e3,onHide:n,primaryAction:{accessibilityLabel:e._('Reply to the message', 'NotificationToast.replyButton.accessibilityLabel', 'Button on notification toast for users to reply to the message'),label:e._('Reply', 'NotificationToast.replyButton.buttonText', 'Button on notification toast for users to reply to the message'),onClick:function(){j.push("/conversation/".concat(r.id)),n()}},text:b,thumbnail:{avatar:(0,_.jsx)(a.qE,{name:h,size:"sm",src:p.image_large_url})}})})},y));case 12:case"end":return t.stop()}},t)}),r=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){b(i,r,o,a,c,"next",e)}function c(e){b(i,r,o,a,c,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)});!n||g||A||l()}),null}},89511:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){var t=e.user,n=e.viewer;return!!(n.isAuth&&(null==t?void 0:t.username)===n.username)}},563366:function(e,t,n){n.d(t,{L:function(){return r}});var r=506467;t.Z="_self-profile"},728277:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(328038),o=n(757640);function i(){var e=(0,r.UO)().username;return(0,o.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},44801:function(e,t,n){n.d(t,{$Vb:function(){return C},$nM:function(){return b},BOn:function(){return T},BfK:function(){return k},Boy:function(){return ei},CTP:function(){return l},CcT:function(){return et},DMd:function(){return N},E8o:function(){return eg},E_l:function(){return s},Euu:function(){return i},FVr:function(){return eT},FjJ:function(){return eD},H3M:function(){return j},I0I:function(){return P},I0k:function(){return ec},JTq:function(){return B},Ky9:function(){return u},LUU:function(){return eC},Lg3:function(){return ev},LyT:function(){return eS},N$G:function(){return eP},OOl:function(){return eR},O_S:function(){return z},PT2:function(){return r},Pgj:function(){return R},Pv2:function(){return I},QzT:function(){return eL},RfW:function(){return w},S6t:function(){return ez},UdT:function(){return m},Uor:function(){return y},UrY:function(){return L},UtA:function(){return ea},WOK:function(){return er},Wvu:function(){return ey},X3q:function(){return ef},XxE:function(){return d},YCi:function(){return eh},Zt2:function(){return eM},_SG:function(){return ed},_VP:function(){return V},_Vp:function(){return eO},am:function(){return eo},b$4:function(){return ee},bJz:function(){return es},cMj:function(){return S},ckK:function(){return x},ePR:function(){return _},efI:function(){return F},f05:function(){return eu},fpf:function(){return eE},gxR:function(){return eB},h5_:function(){return eZ},h7s:function(){return q},hM9:function(){return K},hRj:function(){return U},hcw:function(){return eb},iJi:function(){return H},ieP:function(){return f},jOL:function(){return ep},jRv:function(){return o},k95:function(){return M},kM5:function(){return el},kwM:function(){return ex},kz$:function(){return Q},lWv:function(){return eA},mJW:function(){return O},nSl:function(){return e_},ni8:function(){return A},o7L:function(){return Z},odg:function(){return p},pzk:function(){return E},qO2:function(){return X},qx5:function(){return W},rP7:function(){return a},rhk:function(){return g},s2B:function(){return Y},seF:function(){return h},t4R:function(){return em},tPA:function(){return G},u2Z:function(){return eI},u4w:function(){return $},uu9:function(){return v},vlc:function(){return J},w89:function(){return en},wMN:function(){return ek},wdt:function(){return D},wvI:function(){return ew},x_d:function(){return c},z5V:function(){return ej}});var r="var(--color-red-pushpin-50)",o="var(--color-red-pushpin-100)",i="var(--color-red-pushpin-200)",a="var(--color-red-pushpin-300)",c="var(--color-red-pushpin-450)",l="var(--color-red-pushpin-500)",s="var(--color-red-pushpin-600)",u="var(--color-red-pushpin-700)",d="var(--color-red-pushpin-800)",f="var(--color-pink-flaminglow-0)",p="var(--color-blue-skycicle-100)",h="var(--color-blue-skycicle-500)",m="var(--color-blue-skycicle-900)",_="var(--color-teal-spabattical-100)",b="var(--color-green-matchacado-900)",y="var(--color-purple-mysticool-100)",v="var(--color-purple-mysticool-200)",g="var(--color-purple-mysticool-300)",x="var(--color-purple-mysticool-500)",w="var(--color-orange-firetini-50)",j="var(--color-yellow-caramellow-50)",S="var(--color-white-mochimalist-0)",A="var(--color-gray-roboflow-50)",P="var(--color-gray-roboflow-100)",O="var(--color-gray-roboflow-200)",k="var(--color-gray-roboflow-300)",C="var(--color-gray-roboflow-400)",T="var(--color-gray-roboflow-500)",I="var(--color-gray-roboflow-600)",E="var(--color-gray-roboflow-700)",z="var(--color-black-cosmicore-900)",Z="var(--color-transparent)",L="var(--color-text-subtle)",R="var(--color-text-inverse)",M="var(--color-background-default)",B="var(--color-background-info-base)",D="var(--color-background-info-weak)",N="var(--color-background-error-base)",U="var(--color-background-warning-base)",H="var(--color-background-success-base)",F="var(--color-background-recommendation-weak)",W="var(--color-background-shopping)",V="var(--color-background-secondary-base)",q="var(--color-background-inverse-base)",Y="var(--color-background-wash-light)",J="var(--color-background-box-default)",$="var(--color-background-box-info-base)",G="var(--color-background-box-info-weak)",K="var(--color-background-box-error-base)",X="var(--color-background-box-error-weak)",Q="var(--color-background-box-warning-base)",ee="var(--color-background-box-warning-weak)",et="var(--color-background-box-success-base)",en="var(--color-background-box-success-weak)",er="var(--color-background-box-recommendation-base)",eo="var(--color-background-box-recommendation-weak)",ei="var(--color-background-box-shopping)",ea="var(--color-background-box-primary)",ec="var(--color-background-box-secondary)",el="var(--color-background-box-tertiary)",es="var(--color-background-box-selected)",eu="var(--color-background-box-inverse)",ed="var(--color-background-box-brand)",ef="var(--color-background-box-education)",ep="var(--color-background-box-elevation-accent)",eh="var(--color-background-box-elevation-floating)",em="var(--color-background-box-elevation-raised)",e_="var(--color-background-box-lightwash)",eb="var(--color-background-box-darkwash)",ey="var(--color-background-box-transparentdarkgray)",ev="var(--color-background-box-dark)",eg="var(--color-background-box-light)",ex="var(--color-background-box-transparent)",ew="var(--color-background-formfield-primary)",ej="var(--color-border-container)",eS="var(--color-border-error)",eA="var(--color-data-visualization-10)",eP="var(--color-data-visualization-11)",eO="var(--color-data-visualization-12)",ek="var(--color-data-visualization-01)",eC="var(--color-data-visualization-02)",eT="var(--color-data-visualization-03)",eI="var(--color-data-visualization-04)",eE="var(--color-data-visualization-05)",ez="var(--color-data-visualization-06)",eZ="var(--color-data-visualization-07)",eL="var(--color-data-visualization-08)",eR="var(--color-data-visualization-09)",eM="var(--font-size-100)",eB="var(--font-family-default-latin)",eD="var(--elevation-raised-top)"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopHeader-07274b2f191b5828.js.map